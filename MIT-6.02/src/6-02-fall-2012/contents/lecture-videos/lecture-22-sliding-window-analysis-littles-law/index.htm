<!DOCTYPE html><html lang="en">
      
      
        
    
    
    
    

      
      
      <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">  
        
        <title>Lecture 22: Sliding Window Analysis, Little's Law | Lecture Videos | Introduction to EECS II: Digital Communication Systems | Electrical Engineering and Computer Science | MIT OpenCourseWare</title>
    <!-- Begin Automatic Metadata Insertion -->
    <meta content="6-02-introduction-to-eecs-ii-digital-communication-systems-fall-2012" name="WT.cg_n">
    <meta content="Lecture 22: Sliding Window Analysis, Little's Law" name="WT.cg_s">
    <meta content="This lecture continues with an analysis of sliding window protocol and how it handles packet loss. Little's Law is introduced to relate the average number of packets to the average service rate and average delay of a stable system." name="Description">
    <meta content="Balakrishnan, Hari" name="Author">
    <meta content="Verghese, George" name="Author">
    <meta content="6.02,sliding window,roundtrip time,queue,sequence trace,ACK,Little's Law,service rate,Computer Networks,Digital Systems,Signal Processing,Telecommunications" name="keywords">
    <meta content="6.02 Introduction to EECS II: Digital Communication Systems | Lecture 22: Sliding Window Analysis, Little's Law" name="Search_Display">
    <meta content="Computer Networks" itemprop="about">
    <meta content="Digital Systems" itemprop="about">
    <meta content="Signal Processing" itemprop="about">
    <meta content="Telecommunications" itemprop="about">
    <!-- End Automatic Metadata Insertion -->

	<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/grid.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/base.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/menu.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.bubblepopup.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/search.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses_new.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.jscrollpane.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/media_tabs.css">
	<link href="../../../common/xml/ocwcc.rdf" type="application/rdf+xml" rel="metadata">
	<link rel="canonical" href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-02-introduction-to-eecs-ii-digital-communication-systems-fall-2012/lecture-videos/lecture-22-sliding-window-analysis-littles-law/">
	<link rel="apple-touch-icon" href="../../../common/images/apple-touch-icon.png">
	
	
      
	
	<script type="text/javascript" src="../../../common/scripts/jquery.js"></script>
	<script type="text/javascript" src="../../../common/scripts/ocw-media-utils-offline.js"></script>
	<script type="text/javascript" src="../../../common/scripts/ocw-offline.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery.bubblepopup.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery.jscrollpane.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/expandy.js"></script>
	<script type="text/javascript" src="../../../common/scripts/bubble-popup-offline.js"></script>
	
	
	
    <script type="text/javascript">
      $(document).ready(function() {
        $("#tabs").tabs();
        IpadScroller();
      });
    </script>
    
    
    
    
    
    
      
       
		 

        
        
        

        
        
        
        
        
        
        
        
        
      </head>
    <body itemscope itemtype="http://schema.org/WebPage">
        
	

        <header id="top">
			<div id="grid">
				
				
					
<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572">
<div class="portletStaticText portlet-static-site-header">
<!--googleoff: index-->
<div class="grid_6 alpha" id="banner"><a href="https://ocw.mit.edu/"><img src="../../../common/images/ocw_mast.png" class="logo" alt="MIT OpenCourseWare, Massachusetts Institute of Technology"></a></div>
<div class="grid_6 omega" id="subscribe">
<aside class="module" aria-label="Connect with OCW">
<table class="social">
    <tbody>
        <tr>
            <td class="socialbutton"><a aria-label="Subscribe to the OCW Newsletter" href="https://ocw.mit.edu/subscribe/index.htm?utm_source=header"><img src="../../../common/images/trans.gif" alt="An icon depicting an envelope.">Subscribe to the OCW Newsletter</a></td>
            <td>
<a aria-label="Facebook" href="https://facebook.com/mitocw"><img src="../../../common/images/icon_fb.png" alt="Click to visit our Facebook page."></a>  <a aria-label="Instagram" href="https://www.instagram.com/mitocw/"><img src="https://ocw.mit.edu/images/icon_ig.png" alt="Click to visit our Instagram page."></a> <a aria-label="Twitter" href="https://twitter.com/mitocw"><img src="https://ocw.mit.edu/images/icon_twitter.png" alt="Click to visit our Twitter feed."></a><a aria-label="YouTube" href="https://www.youtube.com/mitocw" style="font-size: 12.208px;"><img src="https://ocw.mit.edu/images/icon_yt.png" alt="Click to visit our YouTube page."></a><span style="font-size: 12.208px;">   </span><a aria-label="Open Matters blog on WordPress" href="https://www.ocw-openmatters.org/" style="font-size: 12.208px;"><img src="https://ocw.mit.edu/images/icon_wp.png" alt="Click to visit our blog on WordPress."></a>
</td>
        </tr>
    </tbody>
</table>
</aside><nav aria-label="Help Links" class="helplinks">     <a aria-label="OCW Site Help" href="https://ocw.mit.edu/help">Help</a><span aria-hidden="true">|</span>     <a href="../../../common/about/contactus.htm">Contact Us</a>   </nav>
</div>
<div class="clear"> </div>
<!--googleon: index-->
</div>

</div>

<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a6d6567612d6d656e75" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a6d6567612d6d656e75">
<div class="portletStaticText portlet-static-mega-menu"><div><nav id="mega" class="grid_8 alpha" aria-label="Site">
<ul id="menu" role="presentation">
    <li id="menu_home">
<a href="https://ocw.mit.edu/" aria-label="Homepage"><img src="../../../common/images/top-nav_home.png" class="home_icon" alt="Click for site home page."></a><!-- Begin Home Item -->
</li>
    <!-- End Home Item -->
    <li id="drop_1" aria-label="Find Courses">
<a href="#" aria-hidden="true">FIND COURSES</a><!-- Begin 5 columns Item -->
    <div class="dropdown_5columns-a mega-courses">
    <div class="col_1a">
    <div class="row_1a">
<nav aria-labelledby="mm-find-courses-by">     <span id="mm-find-courses-by" class="nav" aria-hidden="true">Find courses by:</span>
    <ul class="find_by" role="presentation">
        <li><a href="https://ocw.mit.edu/courses/find-by-topic/">Topic</a></li>
        <li><a href="https://ocw.mit.edu/courses/find-by-number/">MIT Course Number</a></li>
        <li><a href="https://ocw.mit.edu/courses/find-by-department/">Department</a></li>
    </ul>
    </nav>     <nav aria-labelledby="mm-collections">     <span id="mm-collections" class="nav" aria-hidden="true">Collections</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Lectures</a></li>
        <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
        <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
        <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
        <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx &amp; Related OCW Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/mit-open-learning-library/">MIT Open Learning Library</a></li>
    </ul>
    </nav>     <nav class="col_1b" aria-labelledby="mm-translated-courses">     <span id="mm-translated-courses" class="nav" aria-hidden="true" style="line-height: 1.3;">Cross-Disciplinary Topic Lists</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/energy-courses">Energy</a></li>
        <li><a href="https://ocw.mit.edu/courses/entrepreneurship">Entrepreneurship</a></li>
        <li><a href="https://ocw.mit.edu/courses/environment-courses">Environment</a></li>
        <li><a href="https://ocw.mit.edu/courses/intro-programming">Introductory Programming</a></li>
        <li><a href="https://ocw.mit.edu/courses/life-sciences">Life Sciences</a></li>
        <li><a href="https://ocw.mit.edu/courses/transportation-courses">Transportation</a></li>
    </ul>
    </nav>
</div>
    <div class="row_1b"><nav aria-labelledby="mm-cross-disciplinary-topic-lists">     <span id="mm-cross-disciplinary-topic-lists" class="nav" aria-hidden="true">Translated Courses</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/translated-courses/traditional-chinese" aria-label="Traditional Chinese">繁體字 / Traditional Chinese</a></li>
        <li><a href="https://ocw.mit.edu/courses/translated-courses/turkish" aria-label="Turkish">Türkçe / Turkish</a></li>
        <li><a href="https://ocw.mit.edu/courses/translated-courses/korean" aria-label="Korean">(비디오)한국 / Korean</a></li>
    </ul>
    </nav></div>
    </div>
    </div>
    </li>
    <li id="drop_2">
<a href="#" aria-label="For Educators">For Educators</a>
    <div class="dropdown_1column-a" style="width: 270px;"><nav aria-labelledby="mm-find-courses-by">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/educator/chalk-radio-podcast">Chalk Radio Podcast</a></li>
        <li><a href="https://ocw.mit.edu/educator/">OCW Educator Portal</a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights by Department</a></li>
        <li><a href="https://openlearning.mit.edu/campus/digital-innovations/">Residential Digital Innovations </a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/educator/additional-resources/">Additional Resources</a></li>
    </ul>
    </nav></div>
    </li>
    <li id="drop_3">
<a href="#" aria-hidden="true">Give Now</a>
    <div class="dropdown_1column-a"><nav class="col_1" aria-label="Donate">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
        <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
        <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
        <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
        <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
    </ul>
    </nav></div>
    </li>
    <li id="drop_4">
<a href="#" aria-hidden="true">About</a>
    <div class="dropdown_1column-a"><nav class="col_1" aria-label="About">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/about/">About MIT OpenCourseWare</a></li>
        <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
        <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
        <li><a href="https://ocw.mit.edu/about/newsletter/">Newsletter</a></li>
        <li><a href="https://chalk-radio.simplecast.com/">Chalk Radio Podcast</a></li>
        <li><a href="https://www.ocw-openmatters.org/">Open Matters Blog</a></li>
    </ul>
    </nav></div>
    </li>
</ul>
</nav></div></div>

</div>





<!--googleoff: index-->
<script>
  (function() {
	var cx = '012626166551961672889:owjdpuboktq';
	var gcse = document.createElement('script');
	gcse.type = 'text/javascript';
	gcse.async = true;
	gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(gcse, s);
  })();
  window.onload = function(){
	document.getElementById('gsc-i-id1').placeholder = 'Search';	
  };

$(document).ready(function(){

$('.advanceSearch a').keydown(function(event){showSearchTips($(this),event);})
$('#searchTipsModal').keydown(function(event){showSearchTips($(this),event);})

function showSearchTips(obj,evt) {
// if pressed enter key
	if ( evt.which == 13 || evt.which == 32) {
		showModal();
		ga('send', 'pageview', "AdvanceSearch");
		$(".advanceSearch a").attr('aria-expanded', 'true');
		$('.searchTipsModal').focus();
		evt.preventDefault();
		}
	if ( evt.which == 27 ) {
		hideModal();
		$(".advanceSearch a").attr('aria-expanded', 'false');
		var modal = document.getElementById('searchTipsModal');
		modal.style.display = "none";
		$(".advanceSearch a").focus();
		evt.preventDefault();
		}
}

});
function showModal(){
	var modal = document.getElementById('searchTipsModal');
	modal.style.display = "block";
	ga('send', 'pageview', "AdvanceSearch");
	document.getElementById("searchTipsBtn").setAttribute("aria-expanded", true);
	window.setTimeout(function () {
    document.getElementById('searchTipsModal').focus(); }, 0);
}

function hideModal(){
	var modal = document.getElementById('searchTipsModal');
	modal.style.display = "none";
	document.getElementById("searchTipsBtn").setAttribute("aria-expanded", false);
}
</script>
<div id="search" role="search" class="grid_4 omega">
    	<table class="search">
				<tbody>
					<tr>
						<td><div class="searchboxheader"><searchbox-only resultsurl="/search/ocwsearch.htm"></searchbox-only></div></td>
						<td>
							<div class="advanceSearch">
								<a id="searchTipsBtn" onclick="showModal();" href="#" role="button" aria-label="search tips" aria-expanded="false" aria-describedby="searchtips">Search Tips</a>

								<!-- The Modal -->
								<div id="searchTipsModal" class="modal" tabindex="-1">
								  <!-- Modal content -->
									<div class="modal-content">
										<div class="modal-body">
											<button class="close" onclick="hideModal();" aria-label="close">X</button>
											<span>
												<b>Exclude words from your search</b>
												<br>Put - in front of a word you want to leave out. For example, jaguar speed -car
												<br><br>
												<b>Search for an exact match</b>
												<br>Put a word or phrase inside quotes. For example, "tallest building".
												<br><br>
												<b>Search for wildcards or unknown words</b>
												<br>Put a * in your word or phrase where you want to leave a placeholder. For example, "largest * in the world".
												<br><br>
												<b>Search within a range of numbers</b>
												<br>Put .. between two numbers. For example, camera $50..$100.
												<br><br>
												<b>Combine searches</b>
												<br>Put "OR" between each search query. For example,  marathon OR race.
												<br><br>
											</span>
										</div>
								  </div>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
		</table>
</div>
<div class="clear"></div>
<!--googleon: index-->
<!-- *end header* -->

				
				
			</div>
<!-- top grid end -->
		</header><!-- top end -->
			
		<div id="center_media">
      	<div id="grid">
      		<div id="left">
        		<nav id="breadcrumb_media" aria-label="Breadcrumb">
                	<p>

    <a href="https://ocw.mit.edu/">Home</a>
    
        »
        
    
    
        
            <a href="https://ocw.mit.edu/courses">Courses</a>
            
                »
                
            
            
         
    
    
        
            <a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science">Electrical Engineering and Computer Science</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/index.htm">Introduction to EECS II: Digital Communication Systems</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/lecture-videos/index.htm">Lecture Videos</a>
            
                »
                
            
            
         
    
    
        
            
            
            Lecture 22: Sliding Window Analysis, Little's Law
         
    
</p>

            	</nav>
            	<div class="clear"></div>
        		<div id="media_title">
        		<h1 class="title" itemprop="name" property="dct:title">
        <span class="" id="parent-fieldname-title">
            Lecture 22: Sliding Window Analysis, Little's Law
        </span>
    </h1>
        		</div>
           		<div class="clear"></div>
           		<div id="course_wrapper_media">
           			<nav id="course_nav" aria-label="Course">
           				<script language="javascript" type="text/javascript">
function toggleMenu(objID) {
  if (!document.getElementById) return;
  var ob = document.getElementById(objID);
  ob.className = (ob.className == 'selected')?'': 'selected';
}
function toggleClass(id)
{
  var divtoggleClass= document.getElementById(id);
  divtoggleClass.className = (divtoggleClass.className == 'mO')?'mC': 'mO';
  return false;
}
function changeAlt(id)
{
  id.alt = (id.alt == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
  id.title = (id.title == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
}
</script>
<!--Left Nav Starts -->


	<ul>			  
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/index.htm">
		                  Course Home  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
         	<li class="">
       		<div class="tlp_links">
	        	<div id="syllabus" class="mO">
						<a href="#" class="" onclick="toggleMenu('menusyllabus'); toggleClass('syllabus'); return false">
		                  <img src="../../../common/images/trans.gif" class="expandCollapseTrans" border="0" width="10" height="12" onclick="changeAlt(this)" alt="Expand Menu" title="Expand Menu">
		                </a>
		                <a href="../../../contents/syllabus/index.htm" class="">
		                  Syllabus  			                
	                    </a>
	                 			                
	            </div>
			    
	        	<ul id="menusyllabus" class="">
					               
		            <li class="">
				 		<a href="../../../contents/syllabus/software/index.htm" class="">Software</a>
		            </li>
			    </ul>
			    
			</div>
			</li>
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/calendar/index.htm">
		                  Calendar  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/readings/index.htm">
		                  Readings  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-slides/index.htm">
		                  Lecture Slides  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="selected">
			   			<a href="../../../contents/lecture-videos/index.htm">
		                  Lecture Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/tutorials/index.htm">
		                  Tutorials  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/assignments/index.htm">
		                  Assignments  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/exams/index.htm">
		                  Exams  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    
		    
         	
	<!--second tal block close-->  
	
</ul>


<!--Left Nav Ends -->





           			</nav>
           			<main id="course_inner_media" aria-labelledby="media_title">
      					 
        <div class="" id="parent-fieldname-text">
            
            
        </div>
    
      					     
    
    



<script type="text/javascript">var caption_embed_1 ={'English - US': '/courses/electrical-engineering-and-computer-science/6-02-introduction-to-eecs-ii-digital-communication-systems-fall-2012/lecture-videos/lecture-22-sliding-window-analysis-littles-law/xa38Q2_pnlQ.srt'}</script>     
     <div id="media-embed">
         <div class="attention_message" id="embed_1">
<p>Flash and JavaScript are required for this feature.</p>
<p>Download the video from <a href="https://itunes.apple.com/us/itunes-u/introduction-to-eecs-ii-digital/id835987738">iTunes U</a> or the <a href="http://www.archive.org/download/MIT6.02F12/MIT6_02F12_lec22_300k.mp4">Internet Archive</a>.</p>
</div>
     </div>
    
     <script type="text/javascript">ocw_embed_chapter_media('embed_1', 'https://www.youtube.com/v/xa38Q2_pnlQ', 'youtube', '/courses/electrical-engineering-and-computer-science/6-02-introduction-to-eecs-ii-digital-communication-systems-fall-2012/lecture-videos/lecture-22-sliding-window-analysis-littles-law', 'https://img.youtube.com/vi/xa38Q2_pnlQ/0.jpg',0,0, 'https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-02-introduction-to-eecs-ii-digital-communication-systems-fall-2012/lecture-videos/lecture-22-sliding-window-analysis-littles-law/xa38Q2_pnlQ.srt')</script>
	 
	 
	 		
	 		<div id="transcript1"></div>
				 <script type="text/javascript">createThreePlayParams(2, 5889874, "embed_1", 0, 0)</script>
			 
	

     <div id="media_resource_next_prev_nav" style="margin-top: 1em;">
        <p>
        
            <a href="../../../contents/lecture-videos/lecture-21-reliable-transport/index.htm">
                <img src="../../../common/images/btn_previous_resource.png" style="margin: 0 30px 0 50px;" alt="Previous track" title="Previous track"></a>
     	
     	
        
            <a href="../../../contents/lecture-videos/lecture-23-a-brief-history-of-the-internet/index.htm"> 
                <img src="../../../common/images/btn_next_resource.png" alt="Next track" title="Next track"></a>
       
       </p>
     </div>
 


<script type="text/javascript">
		window.onload=function(){
		init();
		
		}
		var tabLinks = new Array();
		var contentDivs = new Array();
		function init() {
		  // Grab the tab links and content divs from the page
		  var tabListItems = document.getElementById('tabs').childNodes;
		  for ( var i = 0; i < tabListItems.length; i++ ) {
			if ( tabListItems[i].nodeName == "LI" ) {
			  var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
			  var id = getHash( tabLink.getAttribute('href') );
			  tabLinks[id] = tabLink;
			  contentDivs[id] = document.getElementById( id );
			}
		  }
		  // Assign onclick events to the tab links, and
		  // highlight the first tab
		  var i = 0;
		  for ( var id in tabLinks ) {
			tabLinks[id].onclick = showTab;
			tabLinks[id].onfocus = function() { this.blur() };
			if ( i == 0 ) tabLinks[id].className = 'selected';
			i++;
		  }
		  // Hide all content divs except the first
		  var i = 0;
		  for ( var id in contentDivs ) {
			if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
			i++;
		  }
		}
		function showTab() {
		  var selectedId = getHash( this.getAttribute('href') );
		  // Highlight the selected tab, and dim all others.
		  // Also show the selected content div, and hide all others.
		  for ( var id in contentDivs ) {
			if ( id == selectedId ) {
			  tabLinks[id].className = 'selected';
			  contentDivs[id].className = 'tabContent';
			} else {
			  tabLinks[id].className = '';
			  contentDivs[id].className = 'tabContent hide';
			}
		  }
		  // Stop the browser following the link
		  return false;
		}
		function getFirstChildWithTagName( element, tagName ) {
		  for ( var i = 0; i < element.childNodes.length; i++ ) {
			if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
		  }
		}
		function getHash( url ) {
		  var hashPos = url.lastIndexOf ( '#' );
		  return url.substring( hashPos + 1 );
		}
 </script>	
 

  <div id="media_tabs">
     
        <ul id="tabs">
            <li class="first">
                <a href="#vid_about" class="selected">About this Video</a>
            </li>
            <li class="">
                <a href="#vid_index" class="">Playlist</a>
            </li>
            <li class="">
                <a href="#vid_playlist" class="">Transcript</a>
            </li>
            <li class="">
                <a href="#vid_related" class="">Download this Video</a>
            </li>
        </ul>
   
        <div id="vid_about" itemprop="description" class="tabContent">
<p><strong>Description:</strong> This lecture continues with an analysis of sliding window protocol and how it handles packet loss. Little's Law is introduced to relate the average number of packets to the average service rate and average delay of a stable system.</p>
<p><strong>Instructor:</strong> Hari Balakrishnan</p>
</div>
        <div id="vid_index" itemprop="description" class="tabContent hide">
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-1-overview-information-and-entropy/index.htm">
<img src="https://img.youtube.com/vi/BtaVq2g17G0/default.jpg" title="Lecture 1: Overview: Information and Entropy" alt="Lecture 1: Overview: Information and Entropy">
<p>Lecture 1: Overview: Inform...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-2-compression-huffman-and-lzw/index.htm">
<img src="https://img.youtube.com/vi/WafWLM41pQ0/default.jpg" title="Lecture 2: Compression: Huffman and LZW" alt="Lecture 2: Compression: Huffman and LZW">
<p>Lecture 2: Compression: Huf...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-3-errors-channel-codes/index.htm">
<img src="https://img.youtube.com/vi/HkmAT9eVYSo/default.jpg" title="Lecture 3: Errors, Channel Codes" alt="Lecture 3: Errors, Channel Codes">
<p>Lecture 3: Errors, Channel ...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-4-linear-block-codes-parity-relations/index.htm">
<img src="https://img.youtube.com/vi/5YyUArlg8Sg/default.jpg" title="Lecture 4: Linear Block Codes, Parity Relations" alt="Lecture 4: Linear Block Codes, Parity Relations">
<p>Lecture 4: Linear Block Cod...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-5-error-correction-syndrome-decoding/index.htm">
<img src="https://img.youtube.com/vi/jNzdhBVU620/default.jpg" title="Lecture 5: Error Correction, Syndrome Decoding" alt="Lecture 5: Error Correction, Syndrome Decoding">
<p>Lecture 5: Error Correction...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-6-convolutional-codes/index.htm">
<img src="https://img.youtube.com/vi/ytGmd25_10k/default.jpg" title="Lecture 6: Convolutional Codes" alt="Lecture 6: Convolutional Codes">
<p>Lecture 6: Convolutional Codes</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-7-viterbi-decoding/index.htm">
<img src="https://img.youtube.com/vi/POetF9rX7Zw/default.jpg" title="Lecture 7: Viterbi Decoding" alt="Lecture 7: Viterbi Decoding">
<p>Lecture 7: Viterbi Decoding</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-8-noise/index.htm">
<img src="https://img.youtube.com/vi/JJdzY3OTzEg/default.jpg" title="Lecture 8: Noise" alt="Lecture 8: Noise">
<p>Lecture 8: Noise</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-9-transmitting-on-a-physical-channel/index.htm">
<img src="https://img.youtube.com/vi/RG3CkwIDYfI/default.jpg" title="Lecture 9: Transmitting on a Physical Channel" alt="Lecture 9: Transmitting on a Physical Channel">
<p>Lecture 9: Transmitting on ...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-10-linear-time-invariant-lti-systems/index.htm">
<img src="https://img.youtube.com/vi/gF9Q0wNGENc/default.jpg" title="Lecture 10: Linear Time-Invariant (LTI) Systems" alt="Lecture 10: Linear Time-Invariant (LTI) Systems">
<p>Lecture 10: Linear Time-Inv...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-11-lti-channel-and-intersymbol-interference/index.htm">
<img src="https://img.youtube.com/vi/fQcJNoe-q-s/default.jpg" title="Lecture 11: LTI Channel and Intersymbol Interference" alt="Lecture 11: LTI Channel and Intersymbol Interference">
<p>Lecture 11: LTI Channel and...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-12-filters-and-composition/index.htm">
<img src="https://img.youtube.com/vi/jQM_gpIXBFs/default.jpg" title="Lecture 12: Filters and Composition" alt="Lecture 12: Filters and Composition">
<p>Lecture 12: Filters and Com...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-13-frequency-response-of-lti-systems/index.htm">
<img src="https://img.youtube.com/vi/Te1qKOJd8aw/default.jpg" title="Lecture 13: Frequency Response of LTI Systems" alt="Lecture 13: Frequency Response of LTI Systems">
<p>Lecture 13: Frequency Respo...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-14-spectral-representation-of-signals/index.htm">
<img src="https://img.youtube.com/vi/U1sAeMwdm6A/default.jpg" title="Lecture 14: Spectral Representation of Signals" alt="Lecture 14: Spectral Representation of Signals">
<p>Lecture 14: Spectral Repres...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-15-modulation-demodulation/index.htm">
<img src="https://img.youtube.com/vi/7kpuZgm-3GY/default.jpg" title="Lecture 15: Modulation/Demodulation" alt="Lecture 15: Modulation/Demodulation">
<p>Lecture 15: Modulation/Demo...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-16-more-on-modulation-demodulation/index.htm">
<img src="https://img.youtube.com/vi/QfaGCnfWpus/default.jpg" title="Lecture 16: More on Modulation/Demodulation" alt="Lecture 16: More on Modulation/Demodulation">
<p>Lecture 16: More on Modulat...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-17-packet-switching/index.htm">
<img src="https://img.youtube.com/vi/9HCUnJB9ovk/default.jpg" title="Lecture 17: Packet Switching" alt="Lecture 17: Packet Switching">
<p>Lecture 17: Packet Switching</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-18-mac-protocols/index.htm">
<img src="https://img.youtube.com/vi/y02p8znNAKk/default.jpg" title="Lecture 18: MAC Protocols" alt="Lecture 18: MAC Protocols">
<p>Lecture 18: MAC Protocols</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-19-network-routing-without-failures/index.htm">
<img src="https://img.youtube.com/vi/2QxgN2ugcMY/default.jpg" title="Lecture 19: Network Routing (without failures)" alt="Lecture 19: Network Routing (without failures)">
<p>Lecture 19: Network Routing...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-20-network-routing-with-failures/index.htm">
<img src="https://img.youtube.com/vi/EG6PPYma050/default.jpg" title="Lecture 20: Network Routing (with failures)" alt="Lecture 20: Network Routing (with failures)">
<p>Lecture 20: Network Routing...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-21-reliable-transport/index.htm">
<img src="https://img.youtube.com/vi/qpYjftJbGYI/default.jpg" title="Lecture 21: Reliable Transport" alt="Lecture 21: Reliable Transport">
<p>Lecture 21: Reliable Transport</p></a>
</div>
<div class="related-media-thumbnail-nolink">
<div class="now-playing-resource">Now Playing</div>
<img src="https://img.youtube.com/vi/xa38Q2_pnlQ/default.jpg" title="Lecture 22: Sliding Window Analysis, Little's Law" alt="Lecture 22: Sliding Window Analysis, Little's Law">
<p>Lecture 22: Sliding Window ...</p>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-23-a-brief-history-of-the-internet/index.htm">
<img src="https://img.youtube.com/vi/oIezCGjxV3A/default.jpg" title="Lecture 23: A Brief History of the Internet" alt="Lecture 23: A Brief History of the Internet">
<p>Lecture 23: A Brief History...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-24-history-of-the-internet-contd-course-summary/index.htm">
<img src="https://img.youtube.com/vi/RN4gSBTANUY/default.jpg" title="Lecture 24: History of the Internet cont'd, Course Summary" alt="Lecture 24: History of the Internet cont'd, Course Summary">
<p>Lecture 24: History of the ...</p></a>
</div>
</div>
        <div id="vid_playlist" itemprop="description" class="tabContent hide">
<ul><li><a class="transcript-link" title="Open in a new window." alt="Open in a new window." style="text-decoration: none; font-size: 1.0em;" target="_blank" text-decoration: none font-size: href="../../../contents/lecture-videos/lecture-22-sliding-window-analysis-littles-law/xa38Q2_pnlQ.pdf"> Download English-US transcript (PDF)</a></li></ul>
<p><span m="90">The</span> <span m="180">following</span> <span m="630">content</span> <span m="1200">is</span> <span m="1350">provided</span> <span m="1800">under</span> <span m="2040">a</span> <span m="2100">Creative</span> <span m="2520">Commons</span> <span m="2910">license.</span> <span m="3970">Your</span> <span m="4200">support</span> <span m="4710">will</span> <span m="4890">help</span> <span m="5130">MIT</span> <span m="5550">OpenCourseWare</span> <span m="6360">continue</span> <span m="6870">to</span> <span m="6990">offer</span> <span m="7380">high</span> <span m="7620">quality</span> <span m="8100">educational</span> <span m="8730">resources</span> <span m="9360">for</span> <span m="9540">free.</span> <span m="10660">To</span> <span m="10740">make</span> <span m="10950">a</span> <span m="10980">donation</span> <span m="11700">or</span> <span m="11940">view</span> <span m="12390">additional</span> <span m="12810">materials</span> <span m="13350">from</span> <span m="13530">hundreds</span> <span m="13950">of</span> <span m="14070">MIT</span> <span m="14490">courses,</span> <span m="15390">visit</span> <span m="15810">MIT</span> <span m="16230">OpenCourseWare</span> <span m="17190">at</span> <span m="17550">ocw.mit.edu.</span> </p>
<p><span m="26690">HARI BALAKRISHNAN:</span> <span m="26825">So</span> <span m="26960">this</span> <span m="27110">is</span> <span m="27230">actually</span> <span m="29030">almost</span> <span m="29570">near</span> <span m="29750">the</span> <span m="29870">end.</span> <span m="30290">So</span> <span m="30560">this</span> <span m="30740">is</span> <span m="30890">actually</span> <span m="31160">the</span> <span m="31250">last</span> <span m="31850">lecture</span> <span m="32360">on</span> <span m="32750">transport</span> <span m="33230">protocols.</span> <span m="33740">And</span> <span m="33860">then</span> <span m="34100">on</span> <span m="35210">Wednesday,</span> <span m="35780">my</span> <span m="35930">plan</span> <span m="36200">is</span> <span m="36320">to</span> <span m="36440">talk</span> <span m="36740">about</span> <span m="38030">how</span> <span m="38390">many</span> <span m="38600">of</span> <span m="38720">the</span> <span m="38780">things</span> <span m="39020">we</span> <span m="39080">have</span> <span m="39170">studied</span> <span m="39470">in</span> <span m="39530">this</span> <span m="39680">class</span> <span m="39920">apply</span> <span m="40160">to</span> <span m="40250">the</span> <span m="40340">internet.</span> <span m="41450">It</span> <span m="41630">will</span> <span m="41900">be</span> <span m="42050">a</span> <span m="42560">history</span> <span m="43010">lesson</span> <span m="44180">about</span> <span m="44690">communication</span> <span m="45260">networks.</span> </p>
<p><span m="45840">And</span> <span m="45940">I'll</span> <span m="45950">talk</span> <span m="46280">in</span> <span m="46370">specific</span> <span m="46910">terms</span> <span m="47300">about</span> <span m="47570">two</span> <span m="48110">interesting</span> <span m="48590">problems.</span> <span m="49200">One</span> <span m="49340">of</span> <span m="49490">them</span> <span m="49820">is</span> <span m="51110">a</span> <span m="51230">problem</span> <span m="51590">we'll</span> <span m="51770">start</span> <span m="51980">on</span> <span m="52130">today,</span> <span m="52650">which</span> <span m="52730">is</span> <span m="52850">how</span> <span m="53030">you</span> <span m="53150">pick</span> <span m="53330">these</span> <span m="53480">window</span> <span m="53750">sizes.</span> <span m="54800">And</span> <span m="54950">I'll</span> <span m="55040">talk</span> <span m="55220">about</span> <span m="55400">how</span> <span m="55580">TCP</span> <span m="56120">does</span> <span m="56420">this.</span> <span m="56850">And</span> <span m="57020">it's</span> <span m="57170">one</span> <span m="57320">of</span> <span m="57410">the</span> <span m="59540">pretty</span> <span m="59750">amazing</span> <span m="60140">result</span> <span m="60710">that</span> <span m="61130">was</span> <span m="61310">only</span> <span m="61550">invented</span> <span m="62030">in</span> <span m="62120">the</span> <span m="62180">mid-1980s</span> <span m="62990">or</span> <span m="63080">late</span> <span m="63290">1980s.</span> <span m="64310">And</span> <span m="64489">the</span> <span m="64580">second</span> <span m="64849">thing</span> <span m="64970">I</span> <span m="65030">want</span> <span m="65180">to</span> <span m="65239">talk</span> <span m="65450">about,</span> <span m="65690">when</span> <span m="65840">I</span> <span m="65900">talk</span> <span m="66110">about</span> <span m="66350">this</span> <span m="66500">history</span> <span m="66800">of</span> <span m="66890">the</span> <span m="66980">internet</span> <span m="67640">from,</span> <span m="68000">say,</span> <span m="68180">1960</span> <span m="68840">to</span> <span m="68960">today,</span> <span m="70010">I'll</span> <span m="70190">talk</span> <span m="70490">about</span> <span m="71420">how</span> <span m="72770">people</span> <span m="73130">can</span> <span m="73280">hijack</span> <span m="73910">other</span> <span m="74180">people's</span> <span m="74510">routes</span> <span m="75050">and</span> <span m="75440">be</span> <span m="75650">able</span> <span m="75920">to</span> <span m="76790">attract</span> <span m="77150">traffic</span> <span m="77630">that</span> <span m="77840">doesn't</span> <span m="78110">actually</span> <span m="78380">belong</span> <span m="78620">to</span> <span m="78740">them.</span> </p>
<p><span m="78950">So</span> <span m="79640">apparently,</span> <span m="80090">now</span> <span m="80810">there</span> <span m="80930">are</span> <span m="80990">people</span> <span m="81260">who</span> <span m="81380">are</span> <span m="81440">doing</span> <span m="81710">it</span> <span m="81830">illegally.</span> <span m="83660">But</span> <span m="84170">apparently,</span> <span m="84620">now</span> <span m="84770">some</span> <span m="84950">governments</span> <span m="85430">are</span> <span m="85520">also</span> <span m="85850">doing</span> <span m="86090">this</span> <span m="86240">sort</span> <span m="86450">of</span> <span m="86510">thing.</span> <span m="86800">So</span> <span m="86810">it's</span> <span m="87260">an</span> <span m="87350">interesting</span> <span m="88460">thing</span> <span m="88730">to</span> <span m="88820">understand,</span> <span m="89660">how</span> <span m="89960">it</span> <span m="90050">is</span> <span m="90230">that</span> <span m="90350">some</span> <span m="90530">of</span> <span m="90590">the</span> <span m="90680">routing</span> <span m="90920">protocols</span> <span m="91310">we</span> <span m="91430">studied</span> <span m="91790">are</span> <span m="91910">not</span> <span m="92240">secure.</span> <span m="92910">So</span> <span m="93050">I'll</span> <span m="93170">do</span> <span m="93290">that</span> <span m="93590">on</span> <span m="94490">Wednesday.</span> <span m="95030">And</span> <span m="95150">then</span> <span m="95300">we'll</span> <span m="95450">wrap</span> <span m="95720">up</span> <span m="96500">next</span> <span m="96860">week.</span> </p>
<p><span m="97850">So</span> <span m="98090">today,</span> <span m="98480">the</span> <span m="98570">plan</span> <span m="98870">is</span> <span m="98960">to</span> <span m="99080">continue</span> <span m="99770">to</span> <span m="99950">talk</span> <span m="100250">about</span> <span m="100460">transport</span> <span m="100850">protocols,</span> <span m="101390">in</span> <span m="101510">particular,</span> <span m="101900">about</span> <span m="102110">sliding</span> <span m="102440">windows.</span> <span m="103160">So</span> <span m="103430">just</span> <span m="103640">to</span> <span m="103730">refresh</span> <span m="104120">everyone's</span> <span m="104510">memory,</span> <span m="105290">the</span> <span m="105440">problem</span> <span m="105830">is</span> <span m="105980">that</span> <span m="106100">you</span> <span m="106220">have</span> <span m="106370">a</span> <span m="106400">best</span> <span m="106700">effort</span> <span m="106910">network,</span> <span m="107630">where</span> <span m="107870">packets</span> <span m="108260">could</span> <span m="108410">be</span> <span m="108530">lost,</span> <span m="108950">packets</span> <span m="109340">could</span> <span m="109490">be</span> <span m="109660">reordered,</span> <span m="110900">packets</span> <span m="111260">could</span> <span m="111410">be</span> <span m="111500">duplicated,</span> <span m="113060">and</span> <span m="113270">delays</span> <span m="113750">in</span> <span m="113870">the</span> <span m="113930">network</span> <span m="114290">are</span> <span m="114380">variable.</span> <span m="115430">And</span> <span m="115700">what</span> <span m="115910">we</span> <span m="116030">would</span> <span m="116180">like</span> <span m="116450">to</span> <span m="116540">provide</span> <span m="117080">to</span> <span m="117230">applications,</span> <span m="117980">like,</span> <span m="118190">for</span> <span m="118310">example,</span> <span m="118800">your</span> <span m="118850">web</span> <span m="119030">browser</span> <span m="119540">or</span> <span m="123020">your</span> <span m="123260">web</span> <span m="123440">client</span> <span m="123860">or</span> <span m="124340">server,</span> <span m="124910">is</span> <span m="125240">an</span> <span m="125330">abstraction</span> <span m="125900">where</span> <span m="126590">the</span> <span m="126800">application</span> <span m="127280">just</span> <span m="127490">writes</span> <span m="127880">data</span> <span m="128180">into</span> <span m="128479">some</span> <span m="128720">layer,</span> <span m="129289">and</span> <span m="129740">the</span> <span m="129860">application</span> <span m="130340">on</span> <span m="130430">the</span> <span m="130490">other</span> <span m="130669">side</span> <span m="130910">reads</span> <span m="131240">data</span> <span m="131450">from</span> <span m="131660">a</span> <span m="131690">layer,</span> <span m="132170">and</span> <span m="132510">this</span> <span m="132680">transport</span> <span m="133190">layer</span> <span m="133520">deals</span> <span m="133910">with</span> <span m="134480">providing</span> <span m="135620">in</span> <span m="135890">order</span> <span m="136450">reliable</span> <span m="137000">delivery.</span> </p>
<p><span m="138050">So</span> <span m="138290">we</span> <span m="138380">looked</span> <span m="138560">at</span> <span m="138650">the</span> <span m="138740">first</span> <span m="139130">version</span> <span m="139490">of</span> <span m="139580">that</span> <span m="139730">protocol,</span> <span m="140930">which</span> <span m="141200">is</span> <span m="141290">stop</span> <span m="141590">and</span> <span m="141680">wait.</span> <span m="142160">And</span> <span m="142400">it</span> <span m="142490">had</span> <span m="142640">a</span> <span m="142700">few</span> <span m="142880">nice</span> <span m="143120">ideas</span> <span m="143510">in</span> <span m="143630">it.</span> <span m="143780">The</span> <span m="143900">first--</span> <span m="144260">all</span> <span m="144440">simple</span> <span m="144770">ideas--</span> <span m="145600">the</span> <span m="145610">first</span> <span m="145940">is</span> <span m="146030">to</span> <span m="146150">use</span> <span m="146370">sequence</span> <span m="146810">number,</span> <span m="149000">and</span> <span m="149240">then</span> <span m="149420">to</span> <span m="149540">have</span> <span m="149750">acknowledgments,</span> <span m="152450">and</span> <span m="152690">then</span> <span m="152900">to</span> <span m="153020">retransmit</span> <span m="155840">after</span> <span m="156380">a</span> <span m="156410">timeout.</span> <span m="160370">And</span> <span m="160640">I</span> <span m="160790">didn't</span> <span m="161210">actually</span> <span m="161660">talk</span> <span m="161960">about</span> <span m="162200">how</span> <span m="162410">to</span> <span m="162530">do</span> <span m="162680">adaptive</span> <span m="163160">timers</span> <span m="163730">and</span> <span m="163920">the</span> <span m="164030">low</span> <span m="164220">pass</span> <span m="164940">exponentially</span> <span m="165770">weighted</span> <span m="166130">moving</span> <span m="166490">average</span> <span m="166880">filter.</span> <span m="167340">But</span> <span m="167420">we</span> <span m="167510">started</span> <span m="167850">that</span> <span m="168050">recitation.</span> <span m="168740">And</span> <span m="168860">if</span> <span m="168950">I</span> <span m="169040">have</span> <span m="169190">time,</span> <span m="169530">I'll</span> <span m="169550">come</span> <span m="169700">back</span> <span m="169880">to</span> <span m="169970">that</span> <span m="170150">today.</span> <span m="170820">But</span> <span m="171110">my</span> <span m="171260">assumption</span> <span m="171740">is</span> <span m="171920">that</span> <span m="173090">you've</span> <span m="173390">already</span> <span m="173660">seen</span> <span m="174020">how</span> <span m="174200">to</span> <span m="174290">do</span> <span m="174440">that.</span> </p>
<p><span m="176310">But</span> <span m="176360">then</span> <span m="176570">we</span> <span m="176690">concluded</span> <span m="177200">that</span> <span m="177530">the</span> <span m="177770">throughput</span> <span m="178220">of</span> <span m="178340">the</span> <span m="178400">stop</span> <span m="178640">and</span> <span m="178760">wait</span> <span m="178910">protocol</span> <span m="180320">is</span> <span m="180560">not</span> <span m="180770">very</span> <span m="181010">high.</span> <span m="182790">It's</span> <span m="182990">sometimes</span> <span m="183470">a</span> <span m="183530">good</span> <span m="183740">idea.</span> <span m="184100">For</span> <span m="184280">example,</span> <span m="185090">to</span> <span m="185210">get</span> <span m="185390">reliable</span> <span m="185840">delivery</span> <span m="186230">between</span> <span m="186530">this</span> <span m="186710">access</span> <span m="187070">point</span> <span m="187340">here</span> <span m="188030">and</span> <span m="188390">your</span> <span m="188540">computer</span> <span m="188930">right</span> <span m="189110">now,</span> <span m="190320">a</span> <span m="190940">stop</span> <span m="191210">and</span> <span m="191300">wait</span> <span m="191450">protocol</span> <span m="191900">is</span> <span m="191990">perfectly</span> <span m="192380">reasonable.</span> <span m="193820">We'll</span> <span m="194090">understand</span> <span m="194480">why</span> <span m="194720">later</span> <span m="195020">on.</span> <span m="195350">But</span> <span m="195530">the</span> <span m="195620">short</span> <span m="195860">answer</span> <span m="196250">why</span> <span m="196580">is</span> <span m="196790">because</span> <span m="197780">the</span> <span m="197900">round-trip</span> <span m="198320">time</span> <span m="198830">between</span> <span m="199370">this</span> <span m="199790">access</span> <span m="200180">point</span> <span m="200480">here</span> <span m="200780">and</span> <span m="201020">your</span> <span m="201380">laptop</span> <span m="202610">is</span> <span m="203000">quite</span> <span m="203240">small.</span> </p>
<p><span m="205310">And</span> <span m="205580">because</span> <span m="205970">it's</span> <span m="206360">a</span> <span m="206540">really</span> <span m="206780">small</span> <span m="207140">round-trip</span> <span m="207500">time,</span> <span m="208320">you're</span> <span m="208520">able</span> <span m="208730">to</span> <span m="208820">get</span> <span m="209030">one</span> <span m="209240">packet</span> <span m="209630">per</span> <span m="209780">round-trip</span> <span m="210170">time--</span> <span m="210590">or in</span> <span m="210950">[INAUDIBLE]</span> <span m="211550">packet</span> <span m="211850">losses,</span> <span m="212250">it's</span> <span m="212450">less</span> <span m="212660">than</span> <span m="212810">one</span> <span m="212990">packet</span> <span m="213290">per</span> <span m="213420">round-trip</span> <span m="213740">time,</span> <span m="214910">but</span> <span m="215120">roughly</span> <span m="215480">about</span> <span m="215720">one</span> <span m="215930">packet</span> <span m="216230">per</span> <span m="216430">round-trip</span> <span m="216610">time.</span> <span m="216790">But</span> <span m="217010">the</span> <span m="217130">round-trip</span> <span m="217430">time</span> <span m="217700">is</span> <span m="217790">on</span> <span m="217910">the</span> <span m="218000">order</span> <span m="218210">of</span> <span m="218300">microseconds.</span> <span m="219500">One</span> <span m="219800">packet</span> <span m="220430">per</span> <span m="220700">round-trip</span> <span m="221120">time</span> <span m="221420">can</span> <span m="221570">give</span> <span m="221810">you</span> <span m="222080">a</span> <span m="222200">throughput</span> <span m="225860">that's</span> <span m="226160">quite</span> <span m="226370">large.</span> </p>
<p><span m="226940">And</span> <span m="227180">therefore,</span> <span m="227780">if</span> <span m="228050">the</span> <span m="228140">link</span> <span m="228380">speed</span> <span m="228830">is</span> <span m="228950">10</span> <span m="229160">megabits</span> <span m="229580">per</span> <span m="229700">second,</span> <span m="230090">and</span> <span m="230210">you're</span> <span m="230330">able</span> <span m="230540">to</span> <span m="230630">send</span> <span m="231800">1,000-byte</span> <span m="232490">packet</span> <span m="233780">in,</span> <span m="234020">say,</span> <span m="234350">20</span> <span m="234710">microseconds,</span> <span m="235400">if</span> <span m="235490">you</span> <span m="235580">take</span> <span m="235760">the</span> <span m="235820">ratio,</span> <span m="236930">that's</span> <span m="237110">probably</span> <span m="237500">going</span> <span m="237710">to</span> <span m="237800">be</span> <span m="237890">bigger</span> <span m="238190">than</span> <span m="238310">the</span> <span m="238400">link</span> <span m="238590">speed.</span> <span m="238880">And</span> <span m="238970">therefore,</span> <span m="239360">you're</span> <span m="239480">going</span> <span m="239690">to</span> <span m="239750">get</span> <span m="240680">of</span> <span m="240890">the</span> <span m="240950">order</span> <span m="241220">of</span> <span m="241310">the</span> <span m="241400">link</span> <span m="241580">speed.</span> <span m="241850">And</span> <span m="241940">therefore,</span> <span m="242300">you're</span> <span m="242450">not</span> <span m="242630">going</span> <span m="242840">to</span> <span m="242960">underutilize</span> <span m="244370">the</span> <span m="244550">link.</span> </p>
<p><span m="246230">But</span> <span m="246440">now,</span> <span m="246950">if</span> <span m="247220">the</span> <span m="247310">round-trip time</span> <span m="247690">were</span> <span m="247940">100</span> <span m="248300">milliseconds,</span> <span m="248900">and</span> <span m="249020">you</span> <span m="249110">were</span> <span m="249230">able</span> <span m="249410">to</span> <span m="249470">send</span> <span m="249680">just</span> <span m="249890">one</span> <span m="250130">packet</span> <span m="250820">every</span> <span m="251120">100</span> <span m="251360">milliseconds,</span> <span m="251900">it</span> <span m="251990">would</span> <span m="252110">be</span> <span m="252200">slow.</span> <span m="252740">And</span> <span m="253310">to</span> <span m="253520">solve</span> <span m="253910">that</span> <span m="254090">problem,</span> <span m="254510">we</span> <span m="254870">looked</span> <span m="255170">at</span> <span m="255260">this</span> <span m="255440">idea</span> <span m="255650">of</span> <span m="255800">a</span> <span m="255830">sliding</span> <span m="256220">window.</span> <span m="258880">This</span> <span m="259089">is</span> <span m="259209">just</span> <span m="259390">pipelining.</span> <span m="260110">It</span> <span m="260290">just</span> <span m="260470">says,</span> <span m="260740">rather</span> <span m="261010">than</span> <span m="261160">have</span> <span m="261339">one</span> <span m="261610">packet</span> <span m="262150">unacknowledged</span> <span m="263470">at</span> <span m="263710">any</span> <span m="263860">point</span> <span m="264130">in</span> <span m="264220">time,</span> <span m="264710">we're</span> <span m="264820">going</span> <span m="265000">to</span> <span m="265120">have</span> <span m="265780">a</span> <span m="265960">value</span> <span m="266440">w</span> <span m="266920">that</span> <span m="267820">the</span> <span m="267970">sender</span> <span m="268330">decides,</span> <span m="270340">decides</span> <span m="270700">upon</span> <span m="270940">this</span> <span m="271090">value.</span> </p>
<p><span m="271750">And</span> <span m="272650">the</span> <span m="272800">semantics</span> <span m="273310">of</span> <span m="273400">a</span> <span m="273490">window</span> <span m="273850">are</span> <span m="274330">that</span> <span m="274540">we're</span> <span m="274690">going</span> <span m="274900">to</span> <span m="275020">have</span> <span m="276400">w</span> <span m="276970">unacknowledged</span> <span m="280480">packets</span> <span m="283380">in</span> <span m="283650">the</span> <span m="283740">system</span> <span m="284100">between</span> <span m="284370">the</span> <span m="284460">sender</span> <span m="284760">and</span> <span m="284850">the</span> <span m="284910">receiver.</span> <span m="285900">Now,</span> <span m="286140">technically,</span> <span m="286620">it's</span> <span m="286740">at</span> <span m="286920">most</span> <span m="287370">w</span> <span m="287730">packets.</span> <span m="288120">Because</span> <span m="288390">from</span> <span m="288510">time</span> <span m="288750">to</span> <span m="288840">time,</span> <span m="289110">you</span> <span m="289230">might</span> <span m="289830">have</span> <span m="290100">transients,</span> <span m="290700">where</span> <span m="290820">you</span> <span m="290970">have</span> <span m="291180">less</span> <span m="291390">than</span> <span m="291840">w</span> <span m="292170">packets,</span> <span m="292950">because</span> <span m="293280">you're</span> <span m="293430">about</span> <span m="293700">to</span> <span m="293790">send</span> <span m="294000">the</span> <span m="294090">next</span> <span m="294330">packet.</span> <span m="295050">Or</span> <span m="295440">if</span> <span m="295560">you</span> <span m="295650">get</span> <span m="295830">toward</span> <span m="296130">the</span> <span m="296250">end</span> <span m="296490">of</span> <span m="296610">the</span> <span m="296700">file,</span> <span m="297870">and</span> <span m="297990">you</span> <span m="298080">run</span> <span m="298290">out</span> <span m="298440">of</span> <span m="298710">data</span> <span m="298980">to</span> <span m="299070">send,</span> <span m="299430">you're</span> <span m="299550">clearly</span> <span m="299940">going</span> <span m="300150">to</span> <span m="300240">have</span> <span m="300420">fewer</span> <span m="300780">than</span> <span m="300900">w</span> <span m="301200">packets.</span> <span m="301590">So</span> <span m="302040">the</span> <span m="302130">technical</span> <span m="302550">definition</span> <span m="303000">of</span> <span m="303090">a</span> <span m="303150">window,</span> <span m="303840">a</span> <span m="303930">fixed-size</span> <span m="304500">window,</span> <span m="304740">says</span> <span m="304980">that</span> <span m="305100">if</span> <span m="305220">the</span> <span m="305310">window</span> <span m="305700">is</span> <span m="305880">w,</span> <span m="306660">then</span> <span m="307320">the</span> <span m="307440">semantics</span> <span m="307980">are</span> <span m="308190">that</span> <span m="308400">we</span> <span m="308550">will</span> <span m="308730">have</span> <span m="309030">no</span> <span m="309240">more</span> <span m="309540">than</span> <span m="309750">w</span> <span m="310620">unacknowledged</span> <span m="311430">packets</span> <span m="312840">in</span> <span m="313050">the</span> <span m="313140">system.</span> <span m="314460">Now,</span> <span m="314670">that's</span> <span m="314880">not</span> <span m="315060">the</span> <span m="315180">only</span> <span m="315480">possible</span> <span m="315930">definition</span> <span m="316350">of</span> <span m="316410">the</span> <span m="316500">window,</span> <span m="316770">but</span> <span m="316920">that's</span> <span m="317160">our</span> <span m="317460">current</span> <span m="317820">operating</span> <span m="318240">definition</span> <span m="318690">of</span> <span m="318780">the</span> <span m="318870">window.</span> </p>
<p><span m="321440">So</span> <span m="321650">then</span> <span m="322430">the</span> <span m="322550">rules</span> <span m="322880">at</span> <span m="323000">the</span> <span m="323090">center</span> <span m="323420">are</span> <span m="323480">very</span> <span m="323690">simple.</span> <span m="324080">When</span> <span m="324260">you</span> <span m="324380">get</span> <span m="324560">an</span> <span m="324680">acknowledgment</span> <span m="325310">from</span> <span m="325580">the</span> <span m="325670">receiver,</span> <span m="327030">as</span> <span m="327260">long</span> <span m="327500">as</span> <span m="327620">it's</span> <span m="327770">an</span> <span m="327860">acknowledgment</span> <span m="328340">for</span> <span m="328490">a</span> <span m="328520">packet</span> <span m="328850">that</span> <span m="329030">you</span> <span m="329100">have</span> <span m="329180">sent,</span> <span m="330620">and</span> <span m="331010">that</span> <span m="331280">packet</span> <span m="331680">has</span> <span m="331850">not</span> <span m="332060">previously</span> <span m="332480">been</span> <span m="332630">acknowledged,</span> <span m="334340">then</span> <span m="335690">you</span> <span m="335900">now</span> <span m="336110">know</span> <span m="336410">that</span> <span m="336740">packet</span> <span m="337010">has</span> <span m="337100">been</span> <span m="337190">acknowledged.</span> <span m="337610">So</span> <span m="337730">you</span> <span m="337820">remove</span> <span m="338150">it</span> <span m="338270">from</span> <span m="338450">your</span> <span m="338570">list</span> <span m="338810">of</span> <span m="339110">knowledge</span> <span m="339350">packets,</span> <span m="339740">and</span> <span m="339860">you</span> <span m="339950">send</span> <span m="340160">a</span> <span m="340190">new</span> <span m="340340">packet.</span> <span m="341480">The</span> <span m="341660">packet</span> <span m="342200">you</span> <span m="342290">send,</span> <span m="342560">the</span> <span m="342650">new</span> <span m="342830">packet</span> <span m="343160">you</span> <span m="343220">send,</span> <span m="343520">is</span> <span m="344030">the</span> <span m="344210">smallest</span> <span m="344690">sequence</span> <span m="345140">number</span> <span m="346010">that</span> <span m="346220">you</span> <span m="346310">haven't</span> <span m="346580">sent</span> <span m="346820">so</span> <span m="347000">far.</span> <span m="347665">OK?</span> <span m="348000">It's</span> <span m="348290">the</span> <span m="348380">very</span> <span m="348590">simple</span> <span m="348890">rule.</span> </p>
<p><span m="350060">And</span> <span m="350300">separately,</span> <span m="350900">there's</span> <span m="351200">a</span> <span m="351230">calculation</span> <span m="351800">of</span> <span m="351890">the</span> <span m="351980">timeout,</span> <span m="354470">an</span> <span m="354710">exponential</span> <span m="355400">moving</span> <span m="355730">average</span> <span m="356120">filter</span> <span m="356540">that</span> <span m="356720">calculates</span> <span m="357260">the</span> <span m="357380">average</span> <span m="357740">value</span> <span m="358010">of</span> <span m="358130">that</span> <span m="358250">timeout,</span> <span m="358580">the</span> <span m="358640">smooth</span> <span m="359540">estimate</span> <span m="360050">of</span> <span m="360140">the</span> <span m="360230">timeout,</span> <span m="361520">a</span> <span m="361640">similar</span> <span m="362000">calculation</span> <span m="362870">that</span> <span m="363140">finds</span> <span m="363560">the</span> <span m="363680">deviation</span> <span m="364310">from</span> <span m="364490">the</span> <span m="364580">mean.</span> <span m="365750">And</span> <span m="366150">you</span> <span m="366270">pick a</span> <span m="366590">return</span> <span m="366950">special</span> <span m="367250">timeout</span> <span m="367790">that</span> <span m="368390">is</span> <span m="368630">some</span> <span m="368930">number</span> <span m="369260">of</span> <span m="369650">deviations</span> <span m="370340">away</span> <span m="370550">from</span> <span m="370730">the</span> <span m="370820">mean,</span> <span m="371120">for</span> <span m="371360">example,</span> <span m="371840">four</span> <span m="372140">times</span> <span m="372860">the</span> <span m="372980">smoothed</span> <span m="373340">estimate.</span> <span m="374330">If</span> <span m="374600">that</span> <span m="374780">timer</span> <span m="375140">fires,</span> <span m="375710">and</span> <span m="375920">you</span> <span m="376040">haven't</span> <span m="376310">received</span> <span m="376640">an</span> <span m="376730">acknowledgment,</span> <span m="378200">you</span> <span m="378360">retransmit</span> <span m="378890">the</span> <span m="378950">packet.</span> <span m="379770">It's</span> <span m="379820">a</span> <span m="379880">very</span> <span m="380060">simple</span> <span m="380360">idea.</span> </p>
<p><span m="380600">So</span> <span m="380750">I'm</span> <span m="380810">going</span> <span m="380930">to</span> <span m="380990">show</span> <span m="381440">now</span> <span m="381710">what</span> <span m="381860">happens</span> <span m="382280">in</span> <span m="382400">some</span> <span m="382580">pictures</span> <span m="383690">with</span> <span m="384020">the</span> <span m="384050">sliding</span> <span m="384410">window,</span> <span m="384860">when</span> <span m="385100">you</span> <span m="385220">have</span> <span m="385430">packet</span> <span m="385730">loss.</span> <span m="387450">So</span> <span m="387880">it's</span> <span m="388100">the</span> <span m="388160">same</span> <span m="388400">picture</span> <span m="388760">as</span> <span m="388910">the</span> <span m="388970">last</span> <span m="389270">time,</span> <span m="391450">except</span> <span m="392080">now</span> <span m="392410">we</span> <span m="392560">have</span> <span m="392860">a</span> <span m="392950">packet--</span> <span m="393700">packet</span> <span m="394000">2</span> <span m="394870">is</span> <span m="395140">lost.</span> <span m="395500">The</span> <span m="395590">sender</span> <span m="395830">doesn't</span> <span m="396100">know</span> <span m="396310">that</span> <span m="396460">it's</span> <span m="396610">lost</span> <span m="396910">yet.</span> </p>
<p><span m="397870">So</span> <span m="398110">packet</span> <span m="398410">1</span> <span m="398620">goes</span> <span m="398890">here.</span> <span m="399460">Packet</span> <span m="399730">2</span> <span m="399880">is</span> <span m="400060">lost.</span> <span m="401950">This</span> <span m="402410">side was</span> <span m="402520">supposed</span> <span m="402790">to</span> <span m="402880">be</span> <span m="402970">packet</span> <span m="403270">3.</span> <span m="403680">The</span> <span m="404090">sent--</span> <span m="404500">packet</span> <span m="404800">4</span> <span m="405085">is sent,</span> <span m="405370">and</span> <span m="405460">packet</span> <span m="405730">5</span> <span m="406060">is sent.</span> <span m="406390">And</span> <span m="406690">the</span> <span m="406900">window</span> <span m="407200">size</span> <span m="407470">in</span> <span m="407560">this</span> <span m="407710">example</span> <span m="408130">is</span> <span m="408280">5.</span> </p>
<p><span m="410650">So</span> <span m="410890">now,</span> <span m="411070">when</span> <span m="411580">the</span> <span m="411760">first</span> <span m="412060">packet</span> <span m="412420">gets</span> <span m="412700">its</span> <span m="412870">acknowledgment,</span> <span m="413410">the</span> <span m="413530">window</span> <span m="413770">slides</span> <span m="414220">to</span> <span m="414340">the</span> <span m="414430">right</span> <span m="414670">by</span> <span m="414880">1.</span> <span m="415850">And</span> <span m="416110">at</span> <span m="416200">this</span> <span m="416410">point,</span> <span m="416860">we</span> <span m="417010">send</span> <span m="417250">packet</span> <span m="417730">6.</span> <span m="419110">And</span> <span m="419350">the</span> <span m="419440">window</span> <span m="419830">is</span> <span m="419920">now</span> <span m="420110">packet</span> <span m="420490">2 to</span> <span m="420760">6,</span> <span m="422608">the sent</span> <span m="423070">packet</span> <span m="423430">6.</span> <span m="424300">And</span> <span m="424630">now,</span> <span m="424840">in</span> <span m="424930">the</span> <span m="424990">meantime,</span> <span m="425350">what's</span> <span m="425530">going</span> <span m="425680">to</span> <span m="425770">happen</span> <span m="426010">is,</span> <span m="426130">when</span> <span m="426310">packet--</span> <span m="426730">packet</span> <span m="427090">2</span> <span m="427300">doesn't</span> <span m="427600">reach,</span> <span m="427930">but</span> <span m="428110">packet</span> <span m="428440">3</span> <span m="428680">reaches.</span> <span m="429490">when</span> <span m="429700">packet</span> <span m="430000">3</span> <span m="430240">reaches,</span> <span m="430660">3</span> <span m="430900">gets</span> <span m="431140">an</span> <span m="431230">acknowledgment.</span> <span m="432130">The</span> <span m="432250">receiver</span> <span m="432640">says</span> <span m="432880">that</span> <span m="433000">it's</span> <span m="433150">received</span> <span m="433510">3.</span> <span m="435130">When</span> <span m="435340">it</span> <span m="435430">receives</span> <span m="435790">3,</span> <span m="436180">what's</span> <span m="436450">the</span> <span m="436540">next</span> <span m="436810">packet</span> <span m="437170">that's</span> <span m="437380">transmitted?</span> <span m="440150">The</span> <span m="440270">packet</span> <span m="440570">that's</span> <span m="440750">transmitted</span> <span m="441140">is</span> <span m="441210">7.</span> </p>
<p><span m="442470">Now,</span> <span m="443390">let</span> <span m="443630">me</span> <span m="443750">ask</span> <span m="444020">you</span> <span m="444140">a</span> <span m="444230">question</span> <span m="444710">here.</span> <span m="447100">The</span> <span m="447290">sender</span> <span m="447560">got</span> <span m="447890">packet</span> <span m="448310">A1</span> <span m="448790">and</span> <span m="448910">packet</span> <span m="449270">A3--</span> <span m="450110">sorry,</span> <span m="450620">acknowledgment</span> <span m="451220">A1</span> <span m="451640">and</span> <span m="451730">acknowledgment</span> <span m="452040">A3.</span> <span m="454130">Now,</span> <span m="454400">it</span> <span m="454670">the</span> <span m="454790">sender</span> <span m="455060">were</span> <span m="455180">calculating</span> <span m="456020">the</span> <span m="456380">expected</span> <span m="456890">next</span> <span m="457190">acknowledgment,</span> <span m="458120">it</span> <span m="458330">knows</span> <span m="459320">that</span> <span m="459560">after</span> <span m="459860">A1,</span> <span m="460340">it</span> <span m="460400">should</span> <span m="460610">get</span> <span m="460820">A2,</span> <span m="461870">and</span> <span m="462080">it</span> <span m="462170">now</span> <span m="462410">got</span> <span m="462650">A3.</span> <span m="465140">So</span> <span m="465380">why</span> <span m="465560">doesn't</span> <span m="465890">it</span> <span m="465950">just</span> <span m="466190">re-send</span> <span m="467240">packet</span> <span m="467600">3</span> <span m="467780">right</span> <span m="467960">now?</span> <span m="472290">Yeah?</span> </p>
<p><span m="472590">AUDIENCE:</span> <span m="472799">[INAUDIBLE]</span> </p>
<p><span m="474680">HARI BALAKRISHNAN:</span> <span m="474785">It</span> <span m="474890">could</span> <span m="475130">have</span> <span m="475250">been</span> <span m="475400">delayed.</span> <span m="475760">Now,</span> <span m="477890">yes,</span> <span m="478220">it</span> <span m="478310">could</span> <span m="478430">have</span> <span m="478520">been</span> <span m="478610">delayed.</span> <span m="478910">But</span> <span m="479570">if</span> <span m="479840">it</span> <span m="479930">were</span> <span m="480080">delayed,</span> <span m="480500">wouldn't</span> <span m="480810">3,</span> <span m="481250">packet</span> <span m="481610">3,</span> <span m="481910">have</span> <span m="482090">also</span> <span m="482390">been</span> <span m="482600">delayed?</span> </p>
<p><span m="484858">AUDIENCE:</span> <span m="485084">[INAUDIBLE]</span> </p>
<p><span m="486670">HARI BALAKRISHNAN:</span> <span m="486835">Why</span> <span m="487000">not?</span> </p>
<p><span m="489158">AUDIENCE:</span> <span m="489386">[INAUDIBLE]</span> </p>
<p><span m="490990">HARI BALAKRISHNAN:</span> <span m="491080">All</span> <span m="491170">packets</span> <span m="491530">are</span> <span m="491590">delayed.</span> <span m="491980">So</span> <span m="492160">the</span> <span m="492250">question</span> <span m="492610">is,</span> <span m="492860">what</span> <span m="492940">is</span> <span m="493090">it</span> <span m="493210">about--</span> <span m="493510">the</span> <span m="493640">delay</span> <span m="493930">is</span> <span m="494050">one</span> <span m="494230">part</span> <span m="494440">of</span> <span m="494530">the</span> <span m="494620">answer,</span> <span m="495400">but</span> <span m="495580">what</span> <span m="495760">is</span> <span m="495880">it</span> <span m="495970">specifically</span> <span m="496600">about</span> <span m="496900">that</span> <span m="497050">delay</span> <span m="497320">that</span> <span m="497500">has</span> <span m="497680">caused</span> <span m="497950">this</span> <span m="498120">to--</span> <span m="498370">I</span> <span m="498520">mean,</span> <span m="498700">if</span> <span m="498880">a</span> <span m="498940">packet</span> <span m="499240">gets</span> <span m="499420">delayed,</span> <span m="499690">and</span> <span m="499810">packets</span> <span m="500140">are</span> <span m="500200">sitting</span> <span m="500470">in</span> <span m="500560">a</span> <span m="500620">queue,</span> <span m="501550">if</span> <span m="501790">the</span> <span m="501850">first</span> <span m="502120">packet</span> <span m="502450">in</span> <span m="502540">the</span> <span m="502600">queue</span> <span m="503080">was</span> <span m="503320">delayed,</span> <span m="503650">then</span> <span m="503890">the</span> <span m="504010">remaining</span> <span m="504340">packets</span> <span m="504670">are</span> <span m="504760">also</span> <span m="505000">going</span> <span m="505180">to</span> <span m="505270">get</span> <span m="505420">delayed,</span> <span m="505780">because</span> <span m="506020">they're</span> <span m="506140">sitting</span> <span m="506440">behind</span> <span m="507280">that</span> <span m="507670">packet</span> <span m="508120">in</span> <span m="508210">the</span> <span m="508270">queue.</span> <span m="509110">Yes,</span> <span m="509330">sir?</span> </p>
<p><span m="510003">AUDIENCE:</span> <span m="510239">Does it</span> <span m="510476">depend on the size</span> <span m="510949">of the packet?</span> </p>
<p><span m="512370">HARI BALAKRISHNAN:</span> <span m="512595">Well,</span> <span m="513210">so</span> <span m="513510">far,</span> <span m="513909">let's</span> <span m="514080">assume</span> <span m="514350">that</span> <span m="514500">you</span> <span m="514590">have</span> <span m="514890">a</span> <span m="514950">network</span> <span m="515309">where</span> <span m="515429">packets</span> <span m="516210">are</span> <span m="516390">delayed,</span> <span m="516720">and</span> <span m="516809">delays</span> <span m="517140">are</span> <span m="517230">variable.</span> <span m="518700">And</span> <span m="518940">you</span> <span m="519030">have</span> <span m="519150">a</span> <span m="519210">switch,</span> <span m="519510">right?</span> <span m="520470">And</span> <span m="520679">the</span> <span m="520740">switch</span> <span m="521010">has a queue</span> <span m="521409">in it.</span> <span m="523860">And</span> <span m="524430">let's</span> <span m="524670">say</span> <span m="524820">that</span> <span m="524970">you</span> <span m="525060">have--</span> <span m="525300">in</span> <span m="525390">this</span> <span m="525570">example,</span> <span m="526090">you</span> <span m="526190">have</span> <span m="526200">packet</span> <span m="526500">1</span> <span m="526830">and</span> <span m="526950">2</span> <span m="527400">and</span> <span m="527550">3.</span> <span m="528060">But</span> <span m="528270">in</span> <span m="528360">fact,</span> <span m="528660">packet</span> <span m="528930">2</span> <span m="529110">was</span> <span m="529230">lost,</span> <span m="529560">and</span> <span m="529680">you</span> <span m="529740">don't</span> <span m="529950">know</span> <span m="530160">that,</span> <span m="530700">this</span> <span m="530910">packet</span> <span m="531210">3.</span> <span m="532650">That's</span> <span m="532920">one</span> <span m="533250">case.</span> </p>
<p><span m="534570">But</span> <span m="534810">in</span> <span m="534900">the</span> <span m="534960">other</span> <span m="535140">case,</span> <span m="535380">if</span> <span m="535470">packet</span> <span m="535740">2</span> <span m="535890">were</span> <span m="536070">not</span> <span m="536280">actually</span> <span m="536670">lost--</span> <span m="536910">if</span> <span m="537120">packet</span> <span m="537330">2</span> <span m="537510">were</span> <span m="537690">lost,</span> <span m="539010">and</span> <span m="539490">you</span> <span m="539650">got</span> <span m="539880">an</span> <span m="539970">acknowledgment</span> <span m="540450">for</span> <span m="540600">1</span> <span m="540910">and an</span> <span m="540990">acknowledgment</span> <span m="541500">for</span> <span m="541650">3,</span> <span m="542790">if</span> <span m="543000">packet</span> <span m="543330">2</span> <span m="543540">were</span> <span m="543690">legitimately</span> <span m="544320">lost,</span> <span m="544620">then</span> <span m="544830">it's</span> <span m="544920">certainly</span> <span m="545250">correct</span> <span m="545580">behavior</span> <span m="546060">for</span> <span m="546240">the</span> <span m="546330">sender</span> <span m="546810">to</span> <span m="546990">send,</span> <span m="548010">when</span> <span m="548280">it</span> <span m="548370">receives</span> <span m="548760">A3,</span> <span m="549450">to</span> <span m="549780">retransmit</span> <span m="550740">packet</span> <span m="551070">2.</span> <span m="551850">So</span> <span m="552060">clearly,</span> <span m="552330">you're</span> <span m="552450">going</span> <span m="552690">after</span> <span m="552950">a</span> <span m="552990">case</span> <span m="553260">here,</span> <span m="553520">where</span> <span m="554040">2</span> <span m="554310">exists,</span> <span m="554850">but</span> <span m="555090">wasn't</span> <span m="555390">lost.</span> </p>
<p><span m="557100">In</span> <span m="557310">other</span> <span m="557460">words,</span> <span m="558640">if</span> <span m="558870">the</span> <span m="558960">sender</span> <span m="559350">were</span> <span m="559620">to</span> <span m="559950">retransmit</span> <span m="560490">packet</span> <span m="561720">3--</span> <span m="564154">oh,</span> <span m="564620">sorry,</span> <span m="564900">packet</span> <span m="565200">2</span> <span m="566750">when</span> <span m="567050">it</span> <span m="567140">receives</span> <span m="567530">A3,</span> <span m="569590">she</span> <span m="569780">said</span> <span m="569990">that</span> <span m="570650">that's</span> <span m="570950">wrong,</span> <span m="571340">because</span> <span m="571640">it</span> <span m="571730">could</span> <span m="571850">have</span> <span m="571970">gotten</span> <span m="572240">delayed.</span> <span m="573230">But</span> <span m="573710">what</span> <span m="574040">kind</span> <span m="574250">of</span> <span m="574340">delay</span> <span m="574640">would</span> <span m="574850">delay</span> <span m="575140">packet</span> <span m="575480">2</span> <span m="575780">but</span> <span m="575960">not</span> <span m="576170">packet</span> <span m="576470">3?</span> <span m="577400">Or</span> <span m="578300">what</span> <span m="578570">kind</span> <span m="578810">of</span> <span m="578900">delay</span> <span m="579170">equivalently</span> <span m="579740">would</span> <span m="580250">delay</span> <span m="581090">A2</span> <span m="581720">but</span> <span m="581930">not</span> <span m="582170">A3?</span> </p>
<p><span m="583820">If</span> <span m="584060">it's</span> <span m="584150">sitting</span> <span m="584450">behind</span> <span m="584810">the</span> <span m="584900">same</span> <span m="585140">queue,</span> <span m="586370">and</span> <span m="586610">the</span> <span m="586700">queue is</span> <span m="586930">serviced</span> <span m="587360">in</span> <span m="587450">that</span> <span m="587630">order,</span> <span m="587930">I</span> <span m="587990">mean,</span> <span m="588320">if</span> <span m="588620">this</span> <span m="588830">packet</span> <span m="589760">was</span> <span m="590030">delayed,</span> <span m="590840">this</span> <span m="591080">package</span> <span m="591380">would</span> <span m="591500">also</span> <span m="591710">be</span> <span m="591830">delayed.</span> <span m="592200">And</span> <span m="592300">this</span> <span m="592340">packet's</span> <span m="592700">behind</span> <span m="593060">this</span> <span m="593240">packet</span> <span m="593540">in</span> <span m="593630">the</span> <span m="593720">queue.</span> <span m="595220">So</span> <span m="595460">what</span> <span m="595610">else</span> <span m="595760">could</span> <span m="595910">it</span> <span m="595970">be? Yeah?</span> </p>
<p><span m="596090">AUDIENCE:</span> <span m="596326">[INAUDIBLE]</span> </p>
<p><span m="601760">HARI BALAKRISHNAN:</span> <span m="601935">Yeah.</span> <span m="602110">So</span> <span m="602830">the</span> <span m="603010">word</span> <span m="603220">I'm</span> <span m="603340">looking</span> <span m="603580">for</span> <span m="603820">is</span> <span m="603910">that</span> <span m="604030">packets</span> <span m="604360">could</span> <span m="604510">get</span> <span m="604660">reordered</span> <span m="605110">in</span> <span m="605200">the</span> <span m="605260">network.</span> <span m="606160">In</span> <span m="606340">fact,</span> <span m="606530">the</span> <span m="606610">reordering</span> <span m="607120">could</span> <span m="607300">happen</span> <span m="607690">even</span> <span m="607960">if</span> <span m="608050">there</span> <span m="608170">were</span> <span m="608290">no</span> <span m="608920">variable</span> <span m="609490">delays,</span> <span m="610270">like,</span> <span m="610450">no</span> <span m="610660">queuing</span> <span m="610960">delays</span> <span m="611440">in</span> <span m="611560">the</span> <span m="611650">network.</span> <span m="611890">I</span> <span m="611920">mean,</span> <span m="612200">you</span> <span m="612300">could</span> <span m="612310">just</span> <span m="612520">have</span> <span m="612940">a</span> <span m="613120">switch</span> <span m="613510">that</span> <span m="614670">you</span> <span m="615160">have</span> <span m="615340">a</span> <span m="615370">switch</span> <span m="615670">here.</span> <span m="616100">It</span> <span m="616150">could</span> <span m="616330">be</span> <span m="616510">that</span> <span m="616700">packet</span> <span m="616970">2</span> <span m="617200">gets</span> <span m="617410">sent</span> <span m="617650">that</span> <span m="617890">way,</span> <span m="618130">and</span> <span m="618250">packet</span> <span m="618580">3</span> <span m="618790">gets</span> <span m="619000">sent</span> <span m="619240">this</span> <span m="619450">way.</span> </p>
<p><span m="621820">Here's</span> <span m="622000">a</span> <span m="622030">very</span> <span m="622210">concrete</span> <span m="622540">example</span> <span m="622930">of</span> <span m="622990">how</span> <span m="623140">this</span> <span m="623320">would</span> <span m="623440">happen,</span> <span m="623740">from</span> <span m="624190">your</span> <span m="624490">previous</span> <span m="624940">lab.</span> <span m="625450">It</span> <span m="625660">could</span> <span m="625840">be</span> <span m="625990">that</span> <span m="626140">the</span> <span m="626230">network</span> <span m="626620">had</span> <span m="626860">a</span> <span m="626920">certain</span> <span m="627190">set</span> <span m="627340">of</span> <span m="627460">routes,</span> <span m="628180">and</span> <span m="628780">packets</span> <span m="629200">were</span> <span m="629320">going</span> <span m="629560">along</span> <span m="629800">this</span> <span m="630040">path.</span> <span m="631810">And</span> <span m="632050">then</span> <span m="634090">maybe</span> <span m="634390">there</span> <span m="634510">was</span> <span m="634600">a</span> <span m="634660">failure</span> <span m="634990">before,</span> <span m="635440">and</span> <span m="635590">a</span> <span m="635650">new</span> <span m="636010">link</span> <span m="636310">showed</span> <span m="636580">up.</span> <span m="636790">Or</span> <span m="636970">the</span> <span m="637330">failure</span> <span m="637720">healed.</span> <span m="638440">And</span> <span m="638710">the</span> <span m="638770">routing</span> <span m="639040">protocol</span> <span m="639490">converged</span> <span m="640510">to</span> <span m="640690">pick</span> <span m="640990">this</span> <span m="641260">path,</span> <span m="641560">going</span> <span m="641830">forward.</span> <span m="643450">And</span> <span m="643960">this</span> <span m="644200">new</span> <span m="644380">packet</span> <span m="644740">3,</span> <span m="644980">that</span> <span m="645100">showed</span> <span m="645370">up</span> <span m="645460">after</span> <span m="645670">2,</span> <span m="645880">gets</span> <span m="646060">sent</span> <span m="646300">along</span> <span m="646540">this</span> <span m="646750">path.</span> </p>
<p><span m="647080">And</span> <span m="647200">it</span> <span m="647290">could</span> <span m="647470">easily</span> <span m="647800">be</span> <span m="647950">the</span> <span m="648040">case</span> <span m="648280">that</span> <span m="648400">this</span> <span m="648580">path</span> <span m="648790">has</span> <span m="649030">a</span> <span m="649090">lot</span> <span m="649300">shorter</span> <span m="649660">delay</span> <span m="649930">to</span> <span m="650050">the</span> <span m="650170">destination</span> <span m="650950">than</span> <span m="651220">that</span> <span m="651460">path.</span> <span m="653560">And</span> <span m="653770">therefore,</span> <span m="654260">what</span> <span m="654340">would</span> <span m="654460">happen</span> <span m="654790">is</span> <span m="654880">that</span> <span m="655000">the</span> <span m="655120">receiver,</span> <span m="655900">packet</span> <span m="656320">3</span> <span m="656590">would</span> <span m="656770">arrive</span> <span m="657070">before</span> <span m="657370">packet</span> <span m="657670">2.</span> <span m="659050">So</span> <span m="659260">in</span> <span m="659350">other</span> <span m="659500">words,</span> <span m="660350">if</span> <span m="660670">I</span> <span m="660820">had</span> <span m="661060">a</span> <span m="661120">network</span> <span m="661540">where</span> <span m="661750">no</span> <span m="662020">packets</span> <span m="662530">ever</span> <span m="662830">got</span> <span m="663070">reordered,</span> <span m="663970">no</span> <span m="664210">acknowledgments</span> <span m="664840">got--</span> <span m="665020">no</span> <span m="665170">data</span> <span m="665380">packets</span> <span m="665740">got</span> <span m="665920">reordered, and</span> <span m="666340">no</span> <span m="666570">ACKs</span> <span m="666880">got</span> <span m="667060">reordered,</span> <span m="667750">then,</span> <span m="667960">in</span> <span m="668080">fact,</span> <span m="668750">it</span> <span m="668890">was</span> <span m="668980">perfectly</span> <span m="669400">good</span> <span m="669580">behavior</span> <span m="670000">for</span> <span m="670120">the</span> <span m="670210">sender,</span> <span m="670570">at</span> <span m="670690">this</span> <span m="670870">point,</span> <span m="671170">when</span> <span m="671320">it</span> <span m="671410">observes</span> <span m="671800">A3,</span> <span m="672610">to</span> <span m="672760">go</span> <span m="672940">ahead</span> <span m="673270">and</span> <span m="673530">resend</span> <span m="674800">packet</span> <span m="675130">2.</span> <span m="675670">Because</span> <span m="676000">I'm</span> <span m="676180">guaranteeing</span> <span m="676990">to</span> <span m="677200">you</span> <span m="677380">that</span> <span m="677560">there's</span> <span m="677770">no</span> <span m="677920">reordering</span> <span m="678400">in</span> <span m="678490">the</span> <span m="678550">network.</span> </p>
<p><span m="679240">But</span> <span m="679450">in</span> <span m="679540">general,</span> <span m="680040">the</span> <span m="680140">networks</span> <span m="680440">and</span> <span m="680530">packet</span> <span m="680830">switch</span> <span m="681070">networks,</span> <span m="681400">I mean,</span> <span m="681880">they</span> <span m="682060">get</span> <span m="682300">a</span> <span m="682360">lot</span> <span m="682600">of</span> <span m="682720">their</span> <span m="683470">robustness</span> <span m="684160">to</span> <span m="684250">failure</span> <span m="684790">and</span> <span m="684880">resilience</span> <span m="685360">to</span> <span m="685450">failure</span> <span m="686650">because</span> <span m="687040">they</span> <span m="687700">send</span> <span m="687910">packets</span> <span m="688300">any</span> <span m="688450">which</span> <span m="688630">way.</span> <span m="689020">Their</span> <span m="689440">only</span> <span m="689680">job</span> <span m="689890">is</span> <span m="689980">to</span> <span m="690070">get</span> <span m="690220">packets</span> <span m="690610">to</span> <span m="690730">the</span> <span m="690790">destination</span> <span m="693280">with</span> <span m="693550">as</span> <span m="693820">high</span> <span m="694030">a</span> <span m="694090">likelihood</span> <span m="694540">as</span> <span m="694960">they</span> <span m="695080">can,</span> <span m="695950">which</span> <span m="696160">means</span> <span m="696340">packets</span> <span m="696670">are</span> <span m="696730">allowed</span> <span m="696970">to</span> <span m="697060">get</span> <span m="697210">reordered.</span> <span m="697750">And</span> <span m="698020">therefore,</span> <span m="698530">it's</span> <span m="698740">not</span> <span m="698950">correct</span> <span m="699340">for</span> <span m="700360">packet</span> <span m="700690">2</span> <span m="700930">to</span> <span m="701050">get</span> <span m="701350">retransmitted</span> <span m="702700">when</span> <span m="702940">you</span> <span m="703030">get</span> <span m="703180">A3.</span> <span m="704170">OK?</span> </p>
<p><span m="705670">So</span> <span m="705880">let's</span> <span m="706090">keep</span> <span m="706240">going.</span> <span m="706510">So</span> <span m="706660">what</span> <span m="706840">is</span> <span m="706930">the</span> <span m="707020">next</span> <span m="707230">packet</span> <span m="707560">that's</span> <span m="707740">going</span> <span m="707920">to</span> <span m="708010">be</span> <span m="708100">sent,</span> <span m="708370">when</span> <span m="708940">you</span> <span m="709000">get</span> <span m="709150">A3,</span> <span m="709660">in</span> <span m="709840">this</span> <span m="709990">picture?</span> <span m="711820">It's</span> <span m="712090">7.</span> <span m="712480">Because</span> <span m="712810">the</span> <span m="712900">sender's</span> <span m="713110">rule</span> <span m="713350">is</span> <span m="713440">very</span> <span m="713650">simple.</span> <span m="714220">Have</span> <span m="714430">I</span> <span m="714490">seen</span> <span m="714730">the</span> <span m="714820">ACK</span> <span m="715030">before?</span> <span m="715610">No.</span> <span m="716860">Is</span> <span m="717130">this</span> <span m="717280">ACK</span> <span m="717600">corresponding</span> <span m="718090">to</span> <span m="718180">a</span> <span m="718240">packet</span> <span m="718570">that</span> <span m="718690">I've</span> <span m="718780">sent</span> <span m="718990">before?</span> </p>
<p><span m="719770">Remember,</span> <span m="720130">we</span> <span m="720250">need</span> <span m="720430">that</span> <span m="720610">check,</span> <span m="720880">because</span> <span m="721180">it's</span> <span m="721330">possible</span> <span m="721750">that</span> <span m="721870">a</span> <span m="721900">flaky--</span> <span m="722740">there's</span> <span m="722920">some</span> <span m="723070">bug</span> <span m="723370">on</span> <span m="723820">the</span> <span m="723880">receiver</span> <span m="724240">side.</span> <span m="724810">So</span> <span m="725080">is</span> <span m="725260">it</span> <span m="725350">is</span> <span m="725530">an</span> <span m="725650">ACK</span> <span m="726040">that</span> <span m="726450">corresponds</span> <span m="727060">to</span> <span m="727160">a</span> <span m="727180">packet</span> <span m="727480">I've</span> <span m="727570">sent</span> <span m="727780">before?</span> <span m="728330">Yes.</span> <span m="729040">Send</span> <span m="729460">the</span> <span m="729550">next</span> <span m="729940">in-sequence</span> <span m="730630">packet.</span> <span m="731020">So</span> <span m="731200">it</span> <span m="731290">sends</span> <span m="731560">packet</span> <span m="731830">7.</span> </p>
<p><span m="732390">At</span> <span m="732580">this</span> <span m="732730">point,</span> <span m="732970">we're</span> <span m="733180">going</span> <span m="733300">to</span> <span m="733360">lose</span> <span m="733660">the</span> <span m="733750">beautiful</span> <span m="734140">animation.</span> <span m="734650">Because</span> <span m="736030">each</span> <span m="736240">of</span> <span m="736330">these</span> <span m="736510">things</span> <span m="737050">takes</span> <span m="737500">an</span> <span m="737770">endless</span> <span m="738010">amount</span> <span m="738250">of</span> <span m="738340">time.</span> <span m="738980">So</span> <span m="739150">I</span> <span m="739270">just</span> <span m="739840">produced</span> <span m="740260">the</span> <span m="740320">full</span> <span m="740530">picture.</span> <span m="741610">I</span> <span m="741910">just</span> <span m="742060">wish</span> <span m="742270">I</span> <span m="742360">had</span> <span m="742540">the</span> <span m="742600">patience</span> <span m="743020">to</span> <span m="743110">sit</span> <span m="743320">and</span> <span m="743440">do</span> <span m="743560">the</span> <span m="743650">full</span> <span m="743890">animation.</span> <span m="744460">But</span> <span m="746730">I</span> <span m="747230">ran</span> <span m="747550">out</span> <span m="747670">of</span> <span m="747760">patience.</span> </p>
<p><span m="748690">So</span> <span m="749020">anyway,</span> <span m="749380">you</span> <span m="749500">sent</span> <span m="749710">packet</span> <span m="749980">7</span> <span m="750250">at</span> <span m="750370">this</span> <span m="750550">point.</span> <span m="751480">And</span> <span m="751720">then,</span> <span m="752530">when</span> <span m="752680">you</span> <span m="752740">receive</span> <span m="753100">A4,</span> <span m="753550">you</span> <span m="753670">send</span> <span m="753910">packet</span> <span m="754210">8.</span> <span m="754450">When</span> <span m="754660">you</span> <span m="754720">receive</span> <span m="755050">A5,</span> <span m="755440">you</span> <span m="755530">send</span> <span m="755770">packet</span> <span m="756070">9;</span> <span m="756340">A6,</span> <span m="756850">you</span> <span m="756940">send</span> <span m="757170">packet</span> <span m="757470">10.</span> <span m="758380">Now,</span> <span m="758890">let</span> <span m="759100">me</span> <span m="759190">ask</span> <span m="759430">this</span> <span m="759610">question.</span> <span m="760810">At</span> <span m="761590">this</span> <span m="761800">point</span> <span m="762070">in</span> <span m="762160">time,</span> <span m="762400">when</span> <span m="762550">you</span> <span m="762610">receive</span> <span m="763510">this</span> <span m="763780">acknowledgment,</span> <span m="764440">A5,</span> <span m="765070">and</span> <span m="765190">you</span> <span m="765280">sent</span> <span m="765520">packet</span> <span m="765820">9,</span> <span m="767260">what</span> <span m="767530">is</span> <span m="767710">the</span> <span m="767800">window?</span> <span m="768490">That</span> <span m="768700">is,</span> <span m="768820">what</span> <span m="769030">is</span> <span m="769120">the</span> <span m="769210">set</span> <span m="769390">of</span> <span m="769450">packets</span> <span m="769840">in</span> <span m="769930">the</span> <span m="769990">window?</span> </p>
<p><span m="775330">The</span> <span m="775450">window is</span> <span m="775780">5,</span> <span m="776340">the</span> <span m="776410">window</span> <span m="776620">size,</span> <span m="777250">but</span> <span m="777970">the</span> <span m="778120">window</span> <span m="778300">size</span> <span m="778570">corresponds</span> <span m="779020">to</span> <span m="779110">some</span> <span m="779320">list</span> <span m="779590">of</span> <span m="779680">packets</span> <span m="780130">that</span> <span m="780280">are</span> <span m="780370">in</span> <span m="780460">the</span> <span m="780520">window.</span> <span m="781360">What</span> <span m="781630">is</span> <span m="781750">that</span> <span m="782050">set</span> <span m="782380">of</span> <span m="782470">packets</span> <span m="782860">or</span> <span m="783010">that</span> <span m="783130">list</span> <span m="783370">of</span> <span m="783460">packets?</span> <span m="785150">Yeah?</span> </p>
<p><span m="786500">AUDIENCE:</span> <span m="786747">[INAUDIBLE]</span> </p>
<p><span m="787490">HARI BALAKRISHNAN:</span> <span m="787610">2,</span> <span m="787730">7,</span> <span m="788150">8, 9,</span> <span m="788480">10.</span> <span m="788810">This</span> <span m="788990">is</span> <span m="789110">important.</span> <span m="789800">This</span> <span m="790070">is</span> <span m="790190">2,</span> <span m="790400">7,</span> <span m="790760">8, 9,</span> <span m="791015">10.</span> <span m="791270">These</span> <span m="791450">packets</span> <span m="791780">are</span> <span m="791810">not</span> <span m="791990">in</span> <span m="792080">sequence.</span> <span m="792830">It's</span> <span m="793070">very</span> <span m="793280">tempting</span> <span m="793730">to</span> <span m="794150">say,</span> <span m="794360">the</span> <span m="794450">windows</span> <span m="794890">[INAUDIBLE]</span> <span m="795620">five</span> <span m="795860">packets.</span> <span m="796400">So</span> <span m="797150">if</span> <span m="797300">I've</span> <span m="797420">sent</span> <span m="797630">out</span> <span m="797750">10,</span> <span m="797990">the</span> <span m="798080">window</span> <span m="798350">must</span> <span m="798590">be</span> <span m="798770">10,</span> <span m="799110">9,</span> <span m="799310">8,</span> <span m="799510">7,</span> <span m="799760">6.</span> </p>
<p><span m="800510">Well,</span> <span m="800690">that's</span> <span m="800900">not</span> <span m="801060">true.</span> <span m="801470">The</span> <span m="801620">window</span> <span m="801860">just</span> <span m="802070">says,</span> <span m="802340">here's</span> <span m="802610">the</span> <span m="802700">number</span> <span m="803060">of</span> <span m="803690">unacknowledged</span> <span m="804470">packets.</span> <span m="806000">The</span> <span m="806210">number</span> <span m="806420">of</span> <span m="806480">unacknowledged</span> <span m="806900">packets</span> <span m="807350">is</span> <span m="808490">5,</span> <span m="809000">in</span> <span m="809180">this</span> <span m="809360">case.</span> <span m="811160">All</span> <span m="811370">right,</span> <span m="811490">let's</span> <span m="811670">keep</span> <span m="811820">going.</span> <span m="812760">When</span> <span m="813050">10</span> <span m="813290">arrives,</span> <span m="814430">when</span> <span m="815060">10 is</span> <span m="815380">sent</span> <span m="815810">out</span> <span m="816110">here,</span> <span m="816530">and</span> <span m="816710">then</span> <span m="818750">at</span> <span m="819020">some</span> <span m="819260">later</span> <span m="819500">point</span> <span m="819740">in</span> <span m="819830">time,</span> <span m="820190">we</span> <span m="820400">get</span> <span m="820520">an</span> <span m="820610">acknowledgment</span> <span m="821060">for</span> <span m="821180">7,</span> <span m="821510">we</span> <span m="821600">send</span> <span m="821810">out</span> <span m="821930">11.</span> <span m="822650">When</span> <span m="822890">we</span> <span m="822980">get</span> <span m="823130">8,</span> <span m="823310">we</span> <span m="823430">send</span> <span m="823640">out</span> <span m="823730">12.</span> </p>
<p><span m="824060">At</span> <span m="824180">this</span> <span m="824360">point</span> <span m="824580">in</span> <span m="824640">time,</span> <span m="824840">the</span> <span m="824930">window is</span> <span m="825320">12,</span> <span m="825810">11,</span> <span m="826230">10</span> <span m="826760">9,</span> <span m="827240">and</span> <span m="827630">2.</span> <span m="828980">At</span> <span m="829220">some</span> <span m="829460">point,</span> <span m="829820">the</span> <span m="829880">center</span> <span m="830150">times</span> <span m="830480">out.</span> <span m="831210">And</span> <span m="831320">the</span> <span m="831410">timeout</span> <span m="832130">is</span> <span m="832430">picked</span> <span m="833060">to</span> <span m="833210">be</span> <span m="833360">conservative.</span> <span m="835130">That's</span> <span m="835400">why</span> <span m="835550">we</span> <span m="835670">take</span> <span m="835880">the</span> <span m="835970">smooth</span> <span m="836300">average.</span> <span m="836760">We</span> <span m="836860">take</span> <span m="836930">the</span> <span m="836990">deviation.</span> <span m="837530">Because</span> <span m="837740">we</span> <span m="837830">don't</span> <span m="838040">actually</span> <span m="838490">want</span> <span m="838790">to</span> <span m="839090">transmit</span> <span m="839510">a</span> <span m="839540">packet</span> <span m="840620">that</span> <span m="840860">hasn't</span> <span m="841370">genuinely</span> <span m="841910">been</span> <span m="842150">lost.</span> </p>
<p><span m="843560">The</span> <span m="843740">reason</span> <span m="844070">for</span> <span m="844190">that</span> <span m="844400">is</span> <span m="844550">oftentimes,</span> <span m="847910">when</span> <span m="848300">you</span> <span m="848420">start</span> <span m="848750">seeing</span> <span m="849140">weird</span> <span m="849530">behavior</span> <span m="850040">like</span> <span m="850190">this,</span> <span m="850400">like</span> <span m="850640">a</span> <span m="850700">presumed</span> <span m="851120">missing</span> <span m="851480">packet,</span> <span m="852470">you're</span> <span m="852650">not</span> <span m="852830">actually</span> <span m="853130">sure</span> <span m="853400">if</span> <span m="853490">it's</span> <span m="853610">missing</span> <span m="854090">or</span> <span m="854210">if</span> <span m="854300">it's</span> <span m="854390">just</span> <span m="854600">delayed,</span> <span m="855470">as</span> <span m="856610">was</span> <span m="856820">pointed</span> <span m="857120">out</span> <span m="857270">before,</span> <span m="857600">because</span> <span m="857900">it</span> <span m="857960">took</span> <span m="858110">a</span> <span m="858170">different</span> <span m="858410">route.</span> <span m="860060">Something</span> <span m="860450">strange</span> <span m="860810">is</span> <span m="860930">going</span> <span m="861170">on</span> <span m="861320">in</span> <span m="861410">the</span> <span m="861470">network.</span> <span m="864260">And</span> <span m="865100">causing</span> <span m="865550">retransmission</span> <span m="866270">to</span> <span m="866390">happen</span> <span m="866870">of</span> <span m="867080">a</span> <span m="867140">packet</span> <span m="867620">that</span> <span m="867770">hasn't</span> <span m="868280">actually</span> <span m="868790">been</span> <span m="869000">lost</span> <span m="869810">makes</span> <span m="870140">things</span> <span m="870410">worse,</span> <span m="870770">because</span> <span m="871070">it</span> <span m="871460">adds</span> <span m="871880">more</span> <span m="872180">load</span> <span m="872510">onto</span> <span m="872720">the</span> <span m="872810">system</span> <span m="873500">right</span> <span m="873800">about</span> <span m="874040">the</span> <span m="874100">time</span> <span m="874340">when</span> <span m="874460">there's</span> <span m="874610">something</span> <span m="874910">fishy</span> <span m="875210">going</span> <span m="875450">on</span> <span m="875630">in</span> <span m="875690">the</span> <span m="875750">network.</span> </p>
<p><span m="876160">So</span> <span m="876200">the</span> <span m="876260">last</span> <span m="876500">thing</span> <span m="876620">you</span> <span m="876710">want</span> <span m="876860">to</span> <span m="876920">do,</span> <span m="877190">when</span> <span m="877610">something</span> <span m="878030">is</span> <span m="878120">under</span> <span m="878300">stress,</span> <span m="878630">is</span> <span m="878750">to</span> <span m="878840">add</span> <span m="879050">more</span> <span m="879230">stress</span> <span m="879560">to</span> <span m="879710">it.</span> <span m="880160">That's</span> <span m="880430">why</span> <span m="880610">the</span> <span m="880700">timeouts</span> <span m="881190">are</span> <span m="881310">conservative.</span> <span m="881930">Any</span> <span m="882290">time</span> <span m="882830">the</span> <span m="883010">sender,</span> <span m="883820">in</span> <span m="884090">any</span> <span m="884300">protocol</span> <span m="884720">like</span> <span m="884930">this,</span> <span m="886106">retransmits</span> <span m="887150">a</span> <span m="887210">packet</span> <span m="888050">that</span> <span m="888350">is</span> <span m="888560">not</span> <span m="888770">actually</span> <span m="889220">lost,</span> <span m="890180">that's</span> <span m="890450">considered</span> <span m="890870">a</span> <span m="890930">spurious</span> <span m="891230">retransmission.</span> <span m="892940">It's</span> <span m="893120">considered</span> <span m="893570">a retransmission</span> <span m="894380">that</span> <span m="894680">is</span> <span m="894830">just</span> <span m="895010">not</span> <span m="895190">a</span> <span m="895250">good</span> <span m="895400">thing.</span> </p>
<p><span m="897300">Now,</span> <span m="897470">actually,</span> <span m="897860">our</span> <span m="898100">protocol,</span> <span m="898640">as</span> <span m="898790">we've</span> <span m="898970">described,</span> <span m="899340">it</span> <span m="899420">has</span> <span m="899570">some</span> <span m="899750">wonderful</span> <span m="900140">nice</span> <span m="900410">properties.</span> <span m="901370">And</span> <span m="901640">I'll</span> <span m="901760">show</span> <span m="902030">later</span> <span m="902330">on--</span> <span m="902510">maybe</span> <span m="902930">you</span> <span m="903050">can</span> <span m="903170">read</span> <span m="903350">about</span> <span m="903590">this</span> <span m="903980">in</span> <span m="904130">the</span> <span m="904190">book--</span> <span m="904940">that</span> <span m="905120">it</span> <span m="905210">actually</span> <span m="905600">is</span> <span m="905810">the</span> <span m="905900">best</span> <span m="906200">possible</span> <span m="906650">protocol</span> <span m="907100">you</span> <span m="907220">can</span> <span m="907460">come</span> <span m="907670">up</span> <span m="907820">with</span> <span m="908030">in</span> <span m="908180">an</span> <span m="908270">asymptomatic</span> <span m="908840">sense.</span> <span m="909240">In</span> <span m="909260">other</span> <span m="909410">words,</span> <span m="910970">no</span> <span m="911180">other</span> <span m="911420">protocol,</span> <span m="911840">if</span> <span m="911900">you</span> <span m="911990">ran</span> <span m="912170">it</span> <span m="912260">for</span> <span m="912410">a</span> <span m="912470">long</span> <span m="912710">time,</span> <span m="913040">would</span> <span m="913160">actually</span> <span m="913460">get</span> <span m="913640">higher</span> <span m="913880">throughput</span> <span m="914390">in</span> <span m="914600">a</span> <span m="914660">network</span> <span m="914990">that</span> <span m="915110">had</span> <span m="915260">losses.</span> <span m="916040">So</span> <span m="916190">it</span> <span m="916280">has</span> <span m="916400">some</span> <span m="916550">nice</span> <span m="916760">properties.</span> </p>
<p><span m="917420">But</span> <span m="917630">it</span> <span m="917720">has</span> <span m="918020">this</span> <span m="918230">one</span> <span m="918530">bad</span> <span m="918950">property,</span> <span m="919860">which</span> <span m="920060">is</span> <span m="920210">that,</span> <span m="920810">in</span> <span m="921050">fact,</span> <span m="921440">this</span> <span m="921620">protocol,</span> <span m="922100">in</span> <span m="922190">the</span> <span m="922280">way</span> <span m="922460">these</span> <span m="922640">acknowledgments</span> <span m="923240">are</span> <span m="923300">structured,</span> <span m="925070">ends</span> <span m="925490">up</span> <span m="925640">with</span> <span m="925790">a</span> <span m="925850">lot</span> <span m="926030">of</span> <span m="926120">spurious</span> <span m="926560">retransmissions.</span> <span m="927440">Or</span> <span m="927680">they</span> <span m="927830">could</span> <span m="928280">end</span> <span m="928430">up</span> <span m="928520">with</span> <span m="928640">a</span> <span m="928700">lot</span> <span m="928850">of</span> <span m="928910">spurious</span> <span m="929280">retransmissions.</span> <span m="930860">Can</span> <span m="931070">you</span> <span m="931130">kind</span> <span m="931310">of</span> <span m="931370">see</span> <span m="931610">why</span> <span m="932000">this</span> <span m="932180">protocol</span> <span m="932750">could</span> <span m="932960">be</span> <span m="933110">that</span> <span m="933410">we</span> <span m="933620">follow</span> <span m="933980">this</span> <span m="934130">discipline</span> <span m="934550">extremely</span> <span m="934970">nicely,</span> <span m="935450">that</span> <span m="935750">timeouts</span> <span m="936680">are</span> <span m="937310">conservative.</span> <span m="938540">So</span> <span m="938780">the</span> <span m="938900">only</span> <span m="939170">timeout,</span> <span m="939530">when</span> <span m="939680">we</span> <span m="939770">are</span> <span m="939830">really,</span> <span m="940260">really</span> <span m="940370">sure</span> <span m="940790">when</span> <span m="941000">a</span> <span m="941030">packet--</span> <span m="942110">we</span> <span m="942200">don't</span> <span m="942410">get</span> <span m="942530">an</span> <span m="942650">acknowledgment,</span> <span m="943580">is</span> <span m="943850">when</span> <span m="944030">we</span> <span m="944150">time</span> <span m="944420">out,</span> <span m="945350">and</span> <span m="945530">we</span> <span m="945620">wait</span> <span m="945830">a</span> <span m="945860">long</span> <span m="946070">time.</span> </p>
<p><span m="946550">But</span> <span m="946730">the</span> <span m="946820">protocol</span> <span m="947180">could</span> <span m="947330">still</span> <span m="947570">have</span> <span m="947750">spurious</span> <span m="948170">retransmissions.</span> <span m="949850">Can</span> <span m="950060">anyone</span> <span m="950330">see</span> <span m="950510">why</span> <span m="950690">there's</span> <span m="950900">a</span> <span m="950960">very</span> <span m="951110">peculiar</span> <span m="951590">behavior</span> <span m="952040">of</span> <span m="952130">this</span> <span m="952580">property</span> <span m="953000">of</span> <span m="953090">this</span> <span m="953240">protocol</span> <span m="954320">that</span> <span m="954650">comes</span> <span m="954980">from</span> <span m="955280">the</span> <span m="955370">way</span> <span m="955580">in</span> <span m="955760">which</span> <span m="955940">these</span> <span m="956090">acknowledgments</span> <span m="956690">work?</span> </p>
<p><span m="961304">AUDIENCE:</span> <span m="961542">[INAUDIBLE]</span> </p>
<p><span m="963220">HARI BALAKRISHNAN:</span> <span m="963460">Yeah.</span> <span m="963700">So</span> <span m="963940">this</span> <span m="964060">protocol</span> <span m="964450">has</span> <span m="964720">a</span> <span m="964780">peculiar</span> <span m="965200">problem,</span> <span m="965720">which</span> <span m="965800">is</span> <span m="965950">that</span> <span m="967030">all</span> <span m="967330">packets</span> <span m="967840">and</span> <span m="967930">acknowledgments</span> <span m="968530">are</span> <span m="968650">essentially</span> <span m="969130">the</span> <span m="969220">same.</span> <span m="969890">They</span> <span m="969940">contain</span> <span m="970270">the</span> <span m="970330">same</span> <span m="970690">information.</span> <span m="971860">If</span> <span m="972070">you</span> <span m="972190">lose</span> <span m="972460">a</span> <span m="972520">packet</span> <span m="973750">or</span> <span m="974080">you</span> <span m="974230">lose</span> <span m="974500">an</span> <span m="974590">acknowledgment</span> <span m="975130">for</span> <span m="975280">that</span> <span m="975430">packet,</span> <span m="976450">the</span> <span m="976600">sender</span> <span m="976930">can't</span> <span m="977200">tell</span> <span m="977410">the</span> <span m="977470">difference.</span> </p>
<p><span m="981530">Now,</span> <span m="981770">this</span> <span m="981980">is,</span> <span m="982130">therefore,</span> <span m="982550">not</span> <span m="982820">necessarily</span> <span m="983390">the</span> <span m="983450">best</span> <span m="983690">protocol,</span> <span m="985610">in</span> <span m="985850">the</span> <span m="985940">sense</span> <span m="986270">that,</span> <span m="986630">if</span> <span m="986810">you</span> <span m="986960">have</span> <span m="987170">a</span> <span m="987230">path--</span> <span m="987530">here</span> <span m="987680">is</span> <span m="987740">an</span> <span m="987830">extreme</span> <span m="988190">case.</span> <span m="988500">So I</span> <span m="988640">have</span> <span m="988760">a</span> <span m="988820">path</span> <span m="989120">where</span> <span m="989270">there's</span> <span m="989480">no</span> <span m="989720">packet</span> <span m="990050">losses</span> <span m="990470">going</span> <span m="990740">from</span> <span m="990890">me</span> <span m="991040">to</span> <span m="991130">you,</span> <span m="991310">and</span> <span m="991400">I'm</span> <span m="991520">sending</span> <span m="991820">data</span> <span m="992030">to</span> <span m="992150">you.</span> <span m="992840">And</span> <span m="993080">coming</span> <span m="993380">back,</span> <span m="994160">the</span> <span m="994310">packet</span> <span m="994610">loss</span> <span m="994940">rate is</span> <span m="995030">25%.</span> <span m="997040">This</span> <span m="997280">protocol</span> <span m="997790">has</span> <span m="998060">this</span> <span m="998300">unfortunate</span> <span m="998810">property</span> <span m="999260">that</span> <span m="999440">I</span> <span m="999860">believe</span> <span m="1000370">that</span> <span m="1000520">25%</span> <span m="1001210">of</span> <span m="1001300">my</span> <span m="1001420">transmissions</span> <span m="1001990">are</span> <span m="1002080">lost</span> <span m="1003040">to</span> <span m="1003190">you.</span> </p>
<p><span m="1003840">In</span> <span m="1003970">fact,</span> <span m="1004300">you've</span> <span m="1004450">got</span> <span m="1004660">every</span> <span m="1004960">single</span> <span m="1005320">packet</span> <span m="1005650">I've</span> <span m="1005800">sent.</span> <span m="1006400">It's</span> <span m="1006610">just</span> <span m="1006790">that</span> <span m="1007330">I</span> <span m="1007570">don't</span> <span m="1007780">see</span> <span m="1008050">the</span> <span m="1008140">acknowledgments</span> <span m="1008740">for</span> <span m="1008890">those</span> <span m="1009100">specific</span> <span m="1009580">packets.</span> <span m="1010030">And</span> <span m="1010150">therefore,</span> <span m="1010540">I'm</span> <span m="1010720">going</span> <span m="1010870">to</span> <span m="1010950">retransmit</span> <span m="1011470">all</span> <span m="1011620">those</span> <span m="1011800">packets</span> <span m="1012280">to</span> <span m="1012400">you,</span> <span m="1012880">leading</span> <span m="1013210">to</span> <span m="1013300">spurious</span> <span m="1013550">retransmissions.</span> </p>
<p><span m="1015820">So</span> <span m="1017080">we</span> <span m="1017260">don't</span> <span m="1017410">have</span> <span m="1017500">to</span> <span m="1017590">worry</span> <span m="1017800">about</span> <span m="1018010">it</span> <span m="1018100">for</span> <span m="1018220">the</span> <span m="1018310">lab</span> <span m="1018610">or</span> <span m="1018700">for</span> <span m="1018910">the</span> <span m="1019000">class,</span> <span m="1019360">but</span> <span m="1019720">as</span> <span m="1019990">a</span> <span m="1020020">design</span> <span m="1020380">problem,</span> <span m="1021430">can</span> <span m="1021640">you</span> <span m="1022630">invent</span> <span m="1022870">a</span> <span m="1022930">protocol</span> <span m="1023320">that</span> <span m="1023470">fix</span> <span m="1023740">this</span> <span m="1023920">problem?</span> <span m="1028550">Can</span> <span m="1028730">you</span> <span m="1028790">modify</span> <span m="1029270">this</span> <span m="1029420">protocol,</span> <span m="1029839">or</span> <span m="1029930">come</span> <span m="1030079">up</span> <span m="1030200">with</span> <span m="1030319">an</span> <span m="1030410">idea</span> <span m="1030650">of</span> <span m="1030800">your</span> <span m="1030920">own,</span> <span m="1032010">which</span> <span m="1032329">has</span> <span m="1032540">the</span> <span m="1032630">property</span> <span m="1033050">that--</span> <span m="1034310">pick</span> <span m="1034520">the</span> <span m="1034640">design</span> <span m="1034940">point</span> <span m="1035240">that</span> <span m="1035510">is</span> <span m="1035990">the</span> <span m="1036140">sender-to-receiver</span> <span m="1036950">path</span> <span m="1037339">is</span> <span m="1037490">generally</span> <span m="1037940">loss-free.</span> <span m="1038869">But</span> <span m="1039050">let's</span> <span m="1039260">say</span> <span m="1039440">that</span> <span m="1039560">the</span> <span m="1039619">receiver-to-send</span> <span m="1040430">path</span> <span m="1041540">has</span> <span m="1041900">a</span> <span m="1041930">high</span> <span m="1042140">loss.</span> </p>
<p><span m="1042839">And</span> <span m="1043040">by</span> <span m="1043160">the</span> <span m="1043220">way,</span> <span m="1043410">this</span> <span m="1043490">is</span> <span m="1043579">not</span> <span m="1043760">hypothetical.</span> <span m="1044430">This</span> <span m="1044510">is</span> <span m="1044599">what</span> <span m="1044750">happens</span> <span m="1045109">in</span> <span m="1045200">wireless</span> <span m="1045589">networks</span> <span m="1045920">a</span> <span m="1045980">lot.</span> <span m="1046579">Because</span> <span m="1046880">that</span> <span m="1047060">base</span> <span m="1047300">station</span> <span m="1047700">sitting</span> <span m="1047930">in some</span> <span m="1048170">cell</span> <span m="1048410">tower</span> <span m="1048710">that</span> <span m="1048890">has</span> <span m="1049100">a</span> <span m="1049190">huge</span> <span m="1049430">amount</span> <span m="1049670">of</span> <span m="1049760">power--</span> <span m="1050300">it's</span> <span m="1050450">powered</span> <span m="1050780">in--</span> <span m="1050900">it</span> <span m="1051140">consumes</span> <span m="1051560">probably</span> <span m="1051830">kilowatts</span> <span m="1052310">these</span> <span m="1052520">days.</span> <span m="1053090">So</span> <span m="1053270">they</span> <span m="1053420">can</span> <span m="1053600">blast</span> <span m="1054230">at</span> <span m="1054500">whatever</span> <span m="1054920">is</span> <span m="1055160">the</span> <span m="1055280">maximum</span> <span m="1055730">allowed</span> <span m="1056000">by</span> <span m="1056150">the</span> <span m="1056240">FCC.</span> <span m="1056690">And</span> <span m="1056810">your</span> <span m="1056900">poor,</span> <span m="1057110">little,</span> <span m="1057320">dinky</span> <span m="1057620">phone</span> <span m="1057920">is sending</span> <span m="1058230">acknowledgments.</span> <span m="1059120">And</span> <span m="1059270">the</span> <span m="1059360">thing</span> <span m="1059540">is</span> <span m="1059630">running</span> <span m="1059870">out</span> <span m="1059990">of</span> <span m="1060050">battery</span> <span m="1060350">all</span> <span m="1060440">the</span> <span m="1060530">time.</span> <span m="1060890">So</span> <span m="1061010">they're</span> <span m="1061400">carefully</span> <span m="1061910">trying</span> <span m="1062150">to</span> <span m="1062240">figure</span> <span m="1062480">out,</span> <span m="1062570">what's</span> <span m="1062750">the</span> <span m="1062840">minimum</span> <span m="1063170">power</span> <span m="1063500">at</span> <span m="1063590">which</span> <span m="1063740">I</span> <span m="1063830">can</span> <span m="1063950">transmit?</span> </p>
<p><span m="1064700">So</span> <span m="1064880">in</span> <span m="1064970">fact,</span> <span m="1065280">these</span> <span m="1065450">asymmetric</span> <span m="1066020">conditions</span> <span m="1066470">are</span> <span m="1066530">not</span> <span m="1067280">unrealistic.</span> <span m="1067970">They're</span> <span m="1068060">quite</span> <span m="1068270">realistic.</span> <span m="1069510">So</span> <span m="1069620">if</span> <span m="1069710">I</span> <span m="1069800">ran</span> <span m="1070040">this</span> <span m="1070220">protocol</span> <span m="1070640">on</span> <span m="1070740">a</span> <span m="1070760">network</span> <span m="1071120">like</span> <span m="1071300">that,</span> <span m="1071540">it</span> <span m="1071660">would</span> <span m="1071780">be</span> <span m="1072200">probably</span> <span m="1072560">a</span> <span m="1072590">bad</span> <span m="1072830">thing.</span> <span m="1073800">So</span> <span m="1073940">what</span> <span m="1074120">would</span> <span m="1074270">you</span> <span m="1074360">do</span> <span m="1074510">to</span> <span m="1074600">the</span> <span m="1074660">protocol?</span> <span m="1077450">Yes?</span> <span m="1077840">What?</span> </p>
<p><span m="1078245">AUDIENCE:</span> <span m="1078447">[INAUDIBLE]</span> </p>
<p><span m="1079460">HARI BALAKRISHNAN:</span> <span m="1079610">Send</span> <span m="1079760">multiple</span> <span m="1080130">acknowledgments--</span> <span m="1080630">yeah,</span> <span m="1080900">you</span> <span m="1081020">could</span> <span m="1081320">send</span> <span m="1081650">multiple</span> <span m="1082040">acknowledgments</span> <span m="1082550">to</span> <span m="1082670">every</span> <span m="1082970">time.</span> <span m="1083390">So</span> <span m="1083660">you'd</span> <span m="1083840">be</span> <span m="1083930">doubling.</span> <span m="1084680">Yeah,</span> <span m="1085250">that's</span> <span m="1085430">a</span> <span m="1085490">little</span> <span m="1085670">bit--</span> <span m="1086480">but</span> <span m="1086690">it's</span> <span m="1087110">the</span> <span m="1087540">right</span> <span m="1087710">kind</span> <span m="1087890">of</span> <span m="1087980">idea.</span> <span m="1088280">You</span> <span m="1088370">want</span> <span m="1088550">some</span> <span m="1088760">sort</span> <span m="1088970">of</span> <span m="1089030">redundancy.</span> <span m="1089760">Yeah?</span> </p>
<p><span m="1090581">AUDIENCE:</span> <span m="1090816">[INAUDIBLE]</span> </p>
<p><span m="1094820">HARI BALAKRISHNAN:</span> <span m="1095000">Yeah.</span> <span m="1095180">That's</span> <span m="1095390">actually</span> <span m="1095630">not</span> <span m="1095780">a</span> <span m="1095840">bad</span> <span m="1096050">idea.</span> <span m="1097130">In</span> <span m="1097340">a</span> <span m="1097400">sense,</span> <span m="1097940">you're</span> <span m="1098210">sending</span> <span m="1098690">multiple</span> <span m="1099110">acknowledgments,</span> <span m="1099710">but</span> <span m="1099860">you're</span> <span m="1099950">not</span> <span m="1100100">just</span> <span m="1100310">blindly</span> <span m="1100880">sending</span> <span m="1101300">multiple</span> <span m="1101660">acknowledgment.</span> <span m="1102410">But</span> <span m="1102650">any</span> <span m="1102920">time</span> <span m="1103130">you</span> <span m="1103250">send</span> <span m="1103460">an</span> <span m="1103580">acknowledgment,</span> <span m="1104160">you</span> <span m="1104300">could</span> <span m="1104510">also</span> <span m="1104870">say--</span> <span m="1106190">sending</span> <span m="1106590">the</span> <span m="1106640">list</span> <span m="1106910">of</span> <span m="1107030">all</span> <span m="1107270">packets</span> <span m="1107690">you've</span> <span m="1107810">received</span> <span m="1108080">so</span> <span m="1108230">far</span> <span m="1108470">is</span> <span m="1108590">a</span> <span m="1108650">huge</span> <span m="1108920">amount.</span> <span m="1109280">Because</span> <span m="1109580">if</span> <span m="1109700">I</span> <span m="1109790">send</span> <span m="1110030">you</span> <span m="1110150">a</span> <span m="1110420">gigabyte</span> <span m="1110840">movie,</span> <span m="1111170">or</span> <span m="1111290">something,</span> <span m="1111650">I</span> <span m="1111740">mean,</span> <span m="1112010">by</span> <span m="1112160">the</span> <span m="1112250">end</span> <span m="1112370">of</span> <span m="1112460">that</span> <span m="1112580">movie,</span> <span m="1112820">you're</span> <span m="1112970">just</span> <span m="1113120">sending</span> <span m="1113390">me</span> <span m="1113540">a</span> <span m="1113630">lot</span> <span m="1113780">of</span> <span m="1113870">acknowledgments.</span> <span m="1114710">So</span> <span m="1114860">you</span> <span m="1114950">don't</span> <span m="1115100">quite</span> <span m="1115430">want</span> <span m="1115640">to</span> <span m="1115700">do</span> <span m="1115850">that.</span> </p>
<p><span m="1116350">But</span> <span m="1116450">remember,</span> <span m="1116720">the</span> <span m="1116810">receiver</span> <span m="1117230">has</span> <span m="1117440">some</span> <span m="1117710">idea.</span> <span m="1118130">If</span> <span m="1118280">it</span> <span m="1118370">knew</span> <span m="1118610">the</span> <span m="1118730">window</span> <span m="1119030">size,</span> <span m="1119390">it</span> <span m="1119510">would</span> <span m="1119600">have</span> <span m="1119780">some</span> <span m="1120020">idea</span> <span m="1120320">of</span> <span m="1120440">what</span> <span m="1120710">the</span> <span m="1123080">number</span> <span m="1123350">of</span> <span m="1123410">things</span> <span m="1123620">at</span> <span m="1123740">the</span> <span m="1123800">center.</span> <span m="1124400">You</span> <span m="1124580">could</span> <span m="1124670">do</span> <span m="1124760">something</span> <span m="1125060">even</span> <span m="1125300">simpler</span> <span m="1125690">than</span> <span m="1125840">all</span> <span m="1125990">of</span> <span m="1126110">that.</span> </p>
<p><span m="1127100">One</span> <span m="1127340">thing</span> <span m="1127520">you</span> <span m="1127640">could</span> <span m="1127790">do</span> <span m="1128060">is</span> <span m="1128540">that</span> <span m="1128750">the</span> <span m="1128810">receiver,</span> <span m="1129380">when</span> <span m="1129650">it</span> <span m="1129740">acknowledged</span> <span m="1130190">the</span> <span m="1130280">packet,</span> <span m="1130700">wouldn't</span> <span m="1130970">just</span> <span m="1131180">acknowledge</span> <span m="1131660">packet</span> <span m="1131990">7,</span> <span m="1132620">when</span> <span m="1132890">it</span> <span m="1132980">got</span> <span m="1133220">packet</span> <span m="1133520">7,</span> <span m="1134060">but</span> <span m="1134300">it</span> <span m="1134390">might</span> <span m="1134690">be</span> <span m="1134870">able</span> <span m="1135170">to</span> <span m="1135260">send</span> <span m="1135530">a</span> <span m="1135560">cumulative</span> <span m="1136040">acknowledgment.</span> <span m="1136580">In</span> <span m="1136700">other</span> <span m="1136850">words,</span> <span m="1137940">it</span> <span m="1138050">could</span> <span m="1138260">say,</span> <span m="1138740">that</span> <span m="1139070">when</span> <span m="1139220">I</span> <span m="1139310">send</span> <span m="1139490">an</span> <span m="1139580">acknowledgment,</span> <span m="1141140">I</span> <span m="1141380">guarantee</span> <span m="1141680">to</span> <span m="1141980">you</span> <span m="1142160">that</span> <span m="1142400">everything</span> <span m="1142940">I've</span> <span m="1143050">received</span> <span m="1143480">up</span> <span m="1143600">to</span> <span m="1143690">this</span> <span m="1143870">point--</span> <span m="1144800">I'm</span> <span m="1145190">sorry.</span> <span m="1145490">I</span> <span m="1145670">guarantee</span> <span m="1145925">to</span> <span m="1146180">you</span> <span m="1146360">that</span> <span m="1146600">all</span> <span m="1146930">packets</span> <span m="1147320">up</span> <span m="1147440">to</span> <span m="1147530">that</span> <span m="1147710">point</span> <span m="1148160">I</span> <span m="1148340">have</span> <span m="1148460">received.</span> </p>
<p><span m="1149860">So</span> <span m="1149960">if</span> <span m="1150080">I</span> <span m="1150140">tell</span> <span m="1150350">you</span> <span m="1150470">that</span> <span m="1151020">my</span> <span m="1151160">acknowledgment</span> <span m="1151580">is</span> <span m="1151640">17,</span> <span m="1152330">I</span> <span m="1152540">guarantee</span> <span m="1153140">you</span> <span m="1153320">that</span> <span m="1153470">there's</span> <span m="1153650">nothing</span> <span m="1153980">before</span> <span m="1154280">17</span> <span m="1154790">that</span> <span m="1154940">I've</span> <span m="1155060">not</span> <span m="1155240">received.</span> <span m="1155870">And</span> <span m="1156110">then</span> <span m="1156740">I</span> <span m="1156980">could,</span> <span m="1157190">in</span> <span m="1157310">addition,</span> <span m="1157760">in</span> <span m="1157850">the</span> <span m="1157940">acknowledgment,</span> <span m="1158690">tell</span> <span m="1158930">you</span> <span m="1159020">a</span> <span m="1159110">little</span> <span m="1159320">bit</span> <span m="1159440">about</span> <span m="1159680">some</span> <span m="1159890">of</span> <span m="1159980">the</span> <span m="1160040">later</span> <span m="1160280">packets</span> <span m="1160670">I've</span> <span m="1160790">received</span> <span m="1161150">or</span> <span m="1161240">some</span> <span m="1161420">of</span> <span m="1161510">the</span> <span m="1161570">later</span> <span m="1161810">packets</span> <span m="1162260">that</span> <span m="1162440">might</span> <span m="1162680">be</span> <span m="1162770">missing.</span> <span m="1163260">So</span> <span m="1163370">you</span> <span m="1163490">can</span> <span m="1163640">make</span> <span m="1163850">this</span> <span m="1164030">protocol</span> <span m="1164480">have</span> <span m="1164660">a</span> <span m="1164720">little</span> <span m="1164900">bit</span> <span m="1165050">more</span> <span m="1165200">redundancy.</span> </p>
<p><span m="1166160">And</span> <span m="1166370">if</span> <span m="1166460">you</span> <span m="1166550">do</span> <span m="1166730">that,</span> <span m="1168020">and</span> <span m="1168290">you</span> <span m="1168350">apply</span> <span m="1168620">almost</span> <span m="1168950">everything</span> <span m="1169310">else</span> <span m="1169490">I've</span> <span m="1169610">taught,</span> <span m="1170030">you</span> <span m="1170240">get</span> <span m="1170390">TCP,</span> <span m="1171410">which</span> <span m="1171680">is</span> <span m="1172070">an</span> <span m="1172370">extremely</span> <span m="1172760">popular</span> <span m="1173120">protocol.</span> <span m="1173480">But</span> <span m="1173630">that's</span> <span m="1173810">about</span> <span m="1174020">the</span> <span m="1174140">only</span> <span m="1174410">difference</span> <span m="1176120">of</span> <span m="1176330">significance</span> <span m="1176990">between</span> <span m="1177710">our</span> <span m="1178070">protocol</span> <span m="1178490">and</span> <span m="1178590">TCP.</span> <span m="1179180">Now,</span> <span m="1179480">interestingly,</span> <span m="1180200">our</span> <span m="1180350">protocol,</span> <span m="1182690">when</span> <span m="1182990">you</span> <span m="1183110">actually</span> <span m="1183500">have</span> <span m="1184700">loss</span> <span m="1185000">rates</span> <span m="1185300">in</span> <span m="1185390">the</span> <span m="1185450">forward</span> <span m="1185810">and</span> <span m="1185900">reverse</span> <span m="1186230">directions</span> <span m="1186740">that</span> <span m="1186890">are</span> <span m="1187040">roughly</span> <span m="1187400">the</span> <span m="1187490">same,</span> <span m="1188135">our</span> <span m="1188390">protocol</span> <span m="1188780">actually</span> <span m="1189050">does</span> <span m="1189230">a</span> <span m="1189290">little</span> <span m="1189470">better</span> <span m="1189740">than</span> <span m="1189890">what</span> <span m="1190070">TCP</span> <span m="1190460">happens</span> <span m="1190820">to</span> <span m="1190910">do.</span> <span m="1191930">But</span> <span m="1192140">TCP</span> <span m="1192470">is</span> <span m="1192650">good</span> <span m="1192920">at</span> <span m="1193100">dealing</span> <span m="1193430">with</span> <span m="1193730">the</span> <span m="1193880">reverse</span> <span m="1194240">path</span> <span m="1194570">having</span> <span m="1195980">a</span> <span m="1196130">higher</span> <span m="1196430">degree</span> <span m="1196700">of</span> <span m="1196790">packet</span> <span m="1197090">loss.</span> <span m="1198830">OK.</span> </p>
<p><span m="1199280">So</span> <span m="1203650">the</span> <span m="1204070">other</span> <span m="1204250">question</span> <span m="1204580">I</span> <span m="1204640">want</span> <span m="1204760">to</span> <span m="1204820">ask</span> <span m="1205360">people</span> <span m="1205720">here,</span> <span m="1205990">at</span> <span m="1206140">this</span> <span m="1206320">point,</span> <span m="1206650">is</span> <span m="1207280">let's</span> <span m="1207580">say</span> <span m="1207760">that</span> <span m="1207910">you</span> <span m="1208030">have</span> <span m="1208240">a</span> <span m="1208270">receiver</span> <span m="1208780">that's</span> <span m="1209050">running</span> <span m="1209410">on</span> <span m="1209770">an</span> <span m="1209910">extremely</span> <span m="1210370">simple</span> <span m="1210760">device.</span> <span m="1211310">So</span> <span m="1211420">you</span> <span m="1211510">don't</span> <span m="1211690">want</span> <span m="1211900">to</span> <span m="1212530">have</span> <span m="1212800">a</span> <span m="1212860">lot</span> <span m="1213010">of</span> <span m="1213070">storage.</span> <span m="1215270">Now,</span> <span m="1215380">why</span> <span m="1215590">would</span> <span m="1215740">you</span> <span m="1215830">need</span> <span m="1216040">storage,</span> <span m="1216730">before</span> <span m="1217030">I</span> <span m="1217090">get</span> <span m="1217240">to</span> <span m="1217330">that</span> <span m="1217480">question?</span> <span m="1218920">Let's</span> <span m="1219250">take</span> <span m="1219430">this</span> <span m="1219610">picture</span> <span m="1219910">here.</span> </p>
<p><span m="1220390">So</span> <span m="1221740">packet</span> <span m="1222130">2</span> <span m="1222370">hasn't</span> <span m="1222730">yet</span> <span m="1222940">been</span> <span m="1223150">received.</span> <span m="1223660">But</span> <span m="1223900">in</span> <span m="1223960">the</span> <span m="1224020">meantime,</span> <span m="1224660">the</span> <span m="1224680">receiver</span> <span m="1225190">has</span> <span m="1225370">gotten</span> <span m="1225700">packets</span> <span m="1226120">3</span> <span m="1226480">and</span> <span m="1226630">4</span> <span m="1227020">and</span> <span m="1227110">5,</span> <span m="1227620">all</span> <span m="1227800">the</span> <span m="1227890">way</span> <span m="1228010">up</span> <span m="1228130">to</span> <span m="1228250">12.</span> <span m="1229820">So</span> <span m="1229960">what</span> <span m="1230110">does</span> <span m="1230230">the</span> <span m="1230290">receiver</span> <span m="1230680">have</span> <span m="1230860">to</span> <span m="1230950">do?</span> <span m="1231190">Well,</span> <span m="1231610">the</span> <span m="1231760">receiver,</span> <span m="1232120">remember,</span> <span m="1232570">before</span> <span m="1232970">it</span> <span m="1233020">delivers</span> <span m="1233530">it</span> <span m="1233650">to</span> <span m="1233800">the</span> <span m="1233890">application,</span> <span m="1234560">it</span> <span m="1234660">has</span> <span m="1234760">to</span> <span m="1234850">hold</span> <span m="1235120">on</span> <span m="1235300">to</span> <span m="1235420">those</span> <span m="1235630">packets.</span> <span m="1237040">It</span> <span m="1237250">can't</span> <span m="1237550">deliver</span> <span m="1237940">packet</span> <span m="1238270">3</span> <span m="1238450">to</span> <span m="1238570">the</span> <span m="1238660">application</span> <span m="1239260">and</span> <span m="1239380">packet</span> <span m="1239680">4</span> <span m="1240010">to the</span> <span m="1240130">application.</span> <span m="1240700">Because</span> <span m="1241060">the</span> <span m="1241240">guarantee</span> <span m="1241750">that</span> <span m="1241900">the</span> <span m="1241960">receiver</span> <span m="1242440">is</span> <span m="1242590">giving</span> <span m="1243850">is</span> <span m="1244120">that</span> <span m="1244240">all</span> <span m="1244420">packets</span> <span m="1244780">will</span> <span m="1244900">be</span> <span m="1244990">delivered</span> <span m="1245380">in</span> <span m="1245830">exactly</span> <span m="1246310">the</span> <span m="1246400">same</span> <span m="1246670">order</span> <span m="1246940">in</span> <span m="1247060">which</span> <span m="1247240">they</span> <span m="1247360">were</span> <span m="1247510">sent.</span> </p>
<p><span m="1248170">So</span> <span m="1248470">the</span> <span m="1248560">receiver</span> <span m="1248860">has</span> <span m="1248950">got</span> <span m="1249100">to</span> <span m="1249160">hold</span> <span m="1249430">onto</span> <span m="1249670">those</span> <span m="1249850">packets</span> <span m="1250660">until</span> <span m="1251060">packet 2</span> <span m="1251530">shows</span> <span m="1251830">up.</span> <span m="1254620">Does</span> <span m="1254700">that</span> <span m="1254820">make</span> <span m="1254970">sense?</span> <span m="1255960">OK.</span> <span m="1256410">How</span> <span m="1256650">big</span> <span m="1256830">can</span> <span m="1257010">that</span> <span m="1257190">receiver's</span> <span m="1257610">buffer</span> <span m="1257910">become?</span> <span m="1258390">How</span> <span m="1258630">big</span> <span m="1258810">do</span> <span m="1258930">you</span> <span m="1259020">need</span> <span m="1259140">to</span> <span m="1259230">make</span> <span m="1259440">it?</span> <span m="1259830">Like,</span> <span m="1260070">if</span> <span m="1260190">you</span> <span m="1260290">were</span> <span m="1260460">implementing</span> <span m="1260910">this</span> <span m="1261120">on</span> <span m="1261270">a</span> <span m="1261330">computer,</span> <span m="1263120">if</span> <span m="1263280">you</span> <span m="1263370">want</span> <span m="1263490">to</span> <span m="1263550">allocate</span> <span m="1263910">memory</span> <span m="1264240">for</span> <span m="1264420">it,</span> <span m="1264870">how</span> <span m="1265110">big</span> <span m="1265290">do</span> <span m="1265380">you</span> <span m="1265470">need</span> <span m="1265620">to</span> <span m="1265710">make</span> <span m="1265890">it?</span> </p>
<p><span m="1271180">AUDIENCE:</span> <span m="1271415">[INAUDIBLE]</span> </p>
<p><span m="1272590">HARI BALAKRISHNAN:</span> <span m="1272740">What?</span> </p>
<p><span m="1272890">AUDIENCE:</span> <span m="1273122">[INAUDIBLE]</span> </p>
<p><span m="1273820">HARI BALAKRISHNAN:</span> <span m="1273940">Big</span> <span m="1274060">enough</span> <span m="1274270">to</span> <span m="1274360">handle</span> <span m="1274600">the</span> <span m="1274660">timeout--</span> <span m="1275020">good.</span> <span m="1275530">How big</span> <span m="1275950">can</span> <span m="1276040">the</span> <span m="1276130">timeout</span> <span m="1276490">be?</span> <span m="1284450">Well,</span> <span m="1284710">the</span> <span m="1284770">timeout</span> <span m="1285150">can</span> <span m="1285330">be</span> <span m="1285450">some</span> <span m="1285870">finite</span> <span m="1286230">number.</span> <span m="1286530">But</span> <span m="1287070">think</span> <span m="1287310">about</span> <span m="1287460">what</span> <span m="1287610">happens.</span> <span m="1288030">Think</span> <span m="1288240">about</span> <span m="1288480">the</span> <span m="1288600">timeout</span> <span m="1288960">happens.</span> <span m="1289440">You</span> <span m="1289560">retransmit</span> <span m="1290100">packet</span> <span m="1290390">2.</span> <span m="1291470">And</span> <span m="1291840">packet</span> <span m="1292200">2 is</span> <span m="1292320">lost</span> <span m="1292590">again.</span> </p>
<p><span m="1295090">Now,</span> <span m="1295330">in</span> <span m="1295390">the</span> <span m="1295450">meantime,</span> <span m="1295940">the</span> <span m="1296040">protocol</span> <span m="1296230">is</span> <span m="1296320">going</span> <span m="1296470">to</span> <span m="1296530">continue.</span> <span m="1296920">Because</span> <span m="1297160">all</span> <span m="1297250">these</span> <span m="1297430">other</span> <span m="1297700">packets</span> <span m="1298120">are</span> <span m="1298210">going</span> <span m="1298390">to</span> <span m="1298450">keep</span> <span m="1298780">getting</span> <span m="1299080">acknowledgments,</span> <span m="1299980">and</span> <span m="1300190">they're</span> <span m="1300280">going</span> <span m="1300430">to</span> <span m="1300490">keep</span> <span m="1300700">causing</span> <span m="1301090">the</span> <span m="1301150">sender</span> <span m="1301450">to</span> <span m="1301540">keep</span> <span m="1301720">sending</span> <span m="1302020">packets.</span> <span m="1302880">So</span> <span m="1303190">if</span> <span m="1303400">packet</span> <span m="1303700">2's</span> <span m="1304030">retransmission</span> <span m="1304660">were</span> <span m="1304840">lost,</span> <span m="1306160">we're</span> <span m="1306400">going</span> <span m="1306550">to</span> <span m="1306610">be</span> <span m="1306850">at</span> <span m="1307060">this</span> <span m="1307240">point</span> <span m="1307540">here.</span> <span m="1307750">We're</span> <span m="1307870">still</span> <span m="1308110">going</span> <span m="1308260">to</span> <span m="1308320">be</span> <span m="1308410">sending,</span> <span m="1309010">at</span> <span m="1309250">this</span> <span m="1309430">point</span> <span m="1309670">in</span> <span m="1309760">time,</span> <span m="1309970">packet</span> <span m="1310390">13</span> <span m="1311020">and</span> <span m="1311520">whatever--</span> <span m="1312280">13</span> <span m="1312970">and</span> <span m="1313180">14</span> <span m="1313630">and</span> <span m="1313750">15</span> <span m="1314230">and</span> <span m="1314320">16,</span> <span m="1314740">and</span> <span m="1314860">so</span> <span m="1315040">forth,</span> <span m="1315340">right?</span> </p>
<p><span m="1316510">Now,</span> <span m="1316750">packet</span> <span m="1317080">2</span> <span m="1317260">could</span> <span m="1317410">just</span> <span m="1317590">keep</span> <span m="1317800">getting</span> <span m="1318010">lost.</span> <span m="1318940">I</span> <span m="1319090">mean,</span> <span m="1319270">it</span> <span m="1319540">may</span> <span m="1319750">happen</span> <span m="1320050">with</span> <span m="1320170">low</span> <span m="1320350">probability,</span> <span m="1320980">but</span> <span m="1321490">there's</span> <span m="1321850">a</span> <span m="1321880">probability</span> <span m="1322390">that</span> <span m="1322540">it'll</span> <span m="1322690">happen.</span> <span m="1324260">So</span> <span m="1324400">how</span> <span m="1324640">big</span> <span m="1324850">does</span> <span m="1325030">the</span> <span m="1325090">receiver's</span> <span m="1325510">buffer</span> <span m="1325810">have</span> <span m="1326020">to</span> <span m="1326110">be</span> <span m="1326290">in</span> <span m="1326830">this</span> <span m="1327100">implementation,</span> <span m="1327730">in</span> <span m="1327820">the</span> <span m="1327880">worst</span> <span m="1328210">case?</span> <span m="1335560">Well,</span> <span m="1336190">let's</span> <span m="1336370">say</span> <span m="1336460">that</span> <span m="1336610">you</span> <span m="1336670">don't</span> <span m="1336790">know</span> <span m="1336880">how</span> <span m="1336970">big</span> <span m="1337120">the</span> <span m="1337180">file</span> <span m="1337420">is.</span> <span m="1337510">It's</span> <span m="1337630">a</span> <span m="1337660">continuous</span> <span m="1338110">stream</span> <span m="1338560">of</span> <span m="1340150">packets</span> <span m="1340600">that</span> <span m="1340720">are</span> <span m="1340780">sent.</span> </p>
<p><span m="1342220">I</span> <span m="1342370">mean,</span> <span m="1342520">is</span> <span m="1342670">that</span> <span m="1342820">a</span> <span m="1342880">bound?</span> <span m="1343660">In</span> <span m="1343810">the</span> <span m="1343870">worst</span> <span m="1344170">case,</span> <span m="1344410">is</span> <span m="1344500">that</span> <span m="1344680">a</span> <span m="1344740">real</span> <span m="1344980">bound</span> <span m="1345730">on</span> <span m="1345970">the</span> <span m="1346540">size</span> <span m="1346990">of</span> <span m="1347050">the</span> <span m="1347140">buffer?</span> <span m="1347500">Or</span> <span m="1347590">can</span> <span m="1347770">it</span> <span m="1347860">grow</span> <span m="1348070">to</span> <span m="1348190">be</span> <span m="1348730">as</span> <span m="1349000">big</span> <span m="1349300">as</span> <span m="1349540">the</span> <span m="1349660">entire</span> <span m="1350440">stream</span> <span m="1350890">that</span> <span m="1351040">you're</span> <span m="1351160">sending?</span> <span m="1352370">It</span> <span m="1352780">can</span> <span m="1352990">grow</span> <span m="1353170">to</span> <span m="1353260">be</span> <span m="1353380">really,</span> <span m="1353780">really</span> <span m="1353950">big.</span> </p>
<p><span m="1354580">Now,</span> <span m="1354790">this</span> <span m="1355030">is</span> <span m="1355150">a</span> <span m="1355210">potential</span> <span m="1355720">problem.</span> <span m="1357700">Because</span> <span m="1358030">it</span> <span m="1358120">can</span> <span m="1358270">keep</span> <span m="1358540">growing</span> <span m="1358870">and</span> <span m="1358990">growing</span> <span m="1359260">and</span> <span m="1359380">growing.</span> <span m="1359860">At</span> <span m="1360010">some</span> <span m="1360190">point,</span> <span m="1360490">you're</span> <span m="1360580">going</span> <span m="1360700">to</span> <span m="1360760">run</span> <span m="1360970">out.</span> <span m="1361120">You</span> <span m="1361210">might</span> <span m="1361360">run</span> <span m="1361510">out</span> <span m="1361630">of</span> <span m="1361690">space.</span> <span m="1363280">When</span> <span m="1363520">you</span> <span m="1363580">start</span> <span m="1363820">to</span> <span m="1363880">run</span> <span m="1364000">out</span> <span m="1364120">of</span> <span m="1364180">space,</span> <span m="1364480">it's</span> <span m="1364600">tempting</span> <span m="1364930">to</span> <span m="1365020">just</span> <span m="1365170">throw</span> <span m="1365350">things</span> <span m="1365590">out.</span> </p>
<p><span m="1367700">So</span> <span m="1367780">let's</span> <span m="1367990">say</span> <span m="1368170">that</span> <span m="1368320">the</span> <span m="1368410">receiver</span> <span m="1368830">implements</span> <span m="1369290">it.</span> <span m="1369400">Somebody</span> <span m="1369760">implements</span> <span m="1370210">this</span> <span m="1370450">protocol</span> <span m="1371080">and</span> <span m="1371320">just</span> <span m="1371470">says,</span> <span m="1371650">I'm</span> <span m="1371770">going</span> <span m="1371890">to</span> <span m="1371950">just</span> <span m="1372160">have</span> <span m="1372310">100</span> <span m="1372610">packets.</span> <span m="1373450">The</span> <span m="1373780">sender</span> <span m="1374070">is</span> <span m="1374170">running</span> <span m="1374410">with</span> <span m="1374530">a</span> <span m="1374560">window</span> <span m="1374800">size</span> <span m="1375100">of</span> <span m="1375160">5.</span> <span m="1377590">I'm</span> <span m="1377830">just</span> <span m="1378010">going</span> <span m="1378130">to</span> <span m="1378220">have</span> <span m="1378520">a</span> <span m="1378580">buffer</span> <span m="1378970">of</span> <span m="1379060">100</span> <span m="1379420">packets,</span> <span m="1380110">which</span> <span m="1380470">says,</span> <span m="1381010">the</span> <span m="1381190">maximum</span> <span m="1381730">number</span> <span m="1382030">of</span> <span m="1382150">packets</span> <span m="1382510">I'm</span> <span m="1382600">going</span> <span m="1382810">to</span> <span m="1382930">hold</span> <span m="1383290">in</span> <span m="1383410">my</span> <span m="1383530">buffer,</span> <span m="1384850">before</span> <span m="1385240">I</span> <span m="1385300">start</span> <span m="1385750">discarding</span> <span m="1386350">later</span> <span m="1386590">packets,</span> <span m="1387910">is</span> <span m="1388150">100.</span> <span m="1391700">Does</span> <span m="1391940">this</span> <span m="1392060">protocol</span> <span m="1392450">work?</span> <span m="1393290">Is</span> <span m="1393530">it</span> <span m="1393650">correct</span> <span m="1395180">if</span> <span m="1395420">I</span> <span m="1395540">do</span> <span m="1395690">that?</span> <span m="1395880">Yes?</span> </p>
<p><span m="1396170">AUDIENCE:</span> <span m="1396407">[INAUDIBLE]</span> <span m="1396644">like a</span> <span m="1397118">receiver</span> <span m="1397592">just</span> <span m="1398540">never</span> <span m="1399014">acknowledges</span> <span m="1399488">[INAUDIBLE]</span> <span m="1400436">receives it</span> <span m="1400910">[INAUDIBLE].</span> </p>
<p><span m="1403280">HARI BALAKRISHNAN:</span> <span m="1403407">OK,</span> <span m="1403790">but</span> <span m="1404000">what</span> <span m="1404180">if</span> <span m="1404270">I</span> <span m="1404360">acknowledge</span> <span m="1404780">a</span> <span m="1404840">packet</span> <span m="1405140">as</span> <span m="1405200">soon</span> <span m="1405350">as</span> <span m="1405470">I</span> <span m="1405560">get</span> <span m="1405710">it?</span> <span m="1406940">OK,</span> <span m="1407300">if</span> <span m="1407480">you</span> <span m="1407570">acknowledge</span> <span m="1408020">a</span> <span m="1408050">packet</span> <span m="1408530">as</span> <span m="1408620">soon</span> <span m="1408770">as</span> <span m="1408890">you</span> <span m="1408980">get</span> <span m="1409100">it,</span> <span m="1409220">the</span> <span m="1409280">receiver's</span> <span m="1409730">discipline,</span> <span m="1410270">the</span> <span m="1410360">guarantee</span> <span m="1410900">it</span> <span m="1411020">should</span> <span m="1411200">provide,</span> <span m="1411530">is</span> <span m="1411860">if</span> <span m="1412100">it</span> <span m="1412220">acknowledges</span> <span m="1412700">a</span> <span m="1412760">packet,</span> <span m="1414200">then</span> <span m="1414440">it's</span> <span m="1414590">told</span> <span m="1414800">the</span> <span m="1414860">sender</span> <span m="1415310">that</span> <span m="1415460">it's</span> <span m="1415580">got</span> <span m="1415820">the</span> <span m="1415880">packet,</span> <span m="1416810">which</span> <span m="1417050">means</span> <span m="1417230">the</span> <span m="1417290">sender</span> <span m="1417560">will</span> <span m="1417680">never</span> <span m="1417940">retransmit</span> <span m="1418290">it,</span> <span m="1419360">which</span> <span m="1419630">means</span> <span m="1419930">it</span> <span m="1420080">shouldn't</span> <span m="1420380">throw</span> <span m="1420590">the</span> <span m="1420680">packet</span> <span m="1420980">away.</span> <span m="1421910">So</span> <span m="1422270">as</span> <span m="1422600">long</span> <span m="1422930">as</span> <span m="1423050">the</span> <span m="1423110">receiver</span> <span m="1424010">only</span> <span m="1424400">throws</span> <span m="1424700">out</span> <span m="1424910">packets</span> <span m="1425360">that</span> <span m="1425510">it</span> <span m="1425600">doesn't</span> <span m="1425900">acknowledge,</span> <span m="1426500">you're</span> <span m="1426770">OK.</span> <span m="1429490">Does</span> <span m="1429610">that</span> <span m="1429700">make</span> <span m="1429850">sense?</span> </p>
<p><span m="1430280">So</span> <span m="1430600">the</span> <span m="1430720">discipline</span> <span m="1431055">is</span> <span m="1431390">it's</span> <span m="1431800">just</span> <span m="1432010">like</span> <span m="1432250">writing</span> <span m="1432520">a</span> <span m="1432550">legal</span> <span m="1432850">contract,</span> <span m="1433390">right?</span> <span m="1433600">That's</span> <span m="1433840">what</span> <span m="1433960">protocols</span> <span m="1434470">are.</span> <span m="1434800">It's</span> <span m="1434910">just</span> <span m="1435100">a</span> <span m="1435160">bunch</span> <span m="1435370">of</span> <span m="1435490">legal</span> <span m="1435790">contracts,</span> <span m="1436210">and</span> <span m="1436300">you</span> <span m="1436360">try</span> <span m="1436510">to</span> <span m="1436600">make</span> <span m="1436780">them</span> <span m="1436900">as</span> <span m="1437020">simple</span> <span m="1437320">as</span> <span m="1437440">possible.</span> <span m="1437990">And</span> <span m="1438010">you</span> <span m="1438100">try</span> <span m="1438310">hard,</span> <span m="1438520">and</span> <span m="1438670">you</span> <span m="1438790">end</span> <span m="1438940">up</span> <span m="1439030">with</span> <span m="1439120">200</span> <span m="1439480">pages.</span> <span m="1440320">But</span> <span m="1441220">that's</span> <span m="1441370">what</span> <span m="1441490">lawyers</span> <span m="1441820">also</span> <span m="1442060">say--</span> <span m="1442330">yeah,</span> <span m="1442620">it's</span> <span m="1442930">really</span> <span m="1443170">simple.</span> <span m="1443600">But</span> <span m="1443620">then</span> <span m="1443800">you've</span> <span m="1443890">got</span> <span m="1444040">all</span> <span m="1444130">these</span> <span m="1444280">clauses.</span> </p>
<p><span m="1444670">But</span> <span m="1444820">the</span> <span m="1444940">reality</span> <span m="1445450">is</span> <span m="1445600">that</span> <span m="1445750">you've</span> <span m="1445840">got</span> <span m="1445930">to</span> <span m="1445990">deal</span> <span m="1446170">with</span> <span m="1446320">all</span> <span m="1446410">these</span> <span m="1446560">[INAUDIBLE]</span> <span m="1446860">cases.</span> <span m="1447650">So</span> <span m="1447820">protocols</span> <span m="1448240">are</span> <span m="1448300">nothing</span> <span m="1448570">more</span> <span m="1448750">than</span> <span m="1448900">contracts</span> <span m="1449380">that</span> <span m="1449500">both</span> <span m="1449740">sides</span> <span m="1450040">agree</span> <span m="1450280">upon.</span> <span m="1450850">And</span> <span m="1451060">the</span> <span m="1451120">contract</span> <span m="1451570">here</span> <span m="1451810">from</span> <span m="1452080">the</span> <span m="1452140">receiver</span> <span m="1452500">is</span> <span m="1452590">actually</span> <span m="1452950">pretty</span> <span m="1453160">simple.</span> <span m="1453620">It</span> <span m="1453720">says,</span> <span m="1454150">if</span> <span m="1454330">I</span> <span m="1454450">send</span> <span m="1454720">you</span> <span m="1454780">an</span> <span m="1454840">acknowledgment,</span> <span m="1455380">it</span> <span m="1455470">means</span> <span m="1455740">that</span> <span m="1455860">I'm</span> <span m="1455950">not</span> <span m="1456130">throwing</span> <span m="1456400">the</span> <span m="1456460">packet</span> <span m="1456760">away.</span> </p>
<p><span m="1460120">What</span> <span m="1460390">happens</span> <span m="1460690">if</span> <span m="1460780">I</span> <span m="1460840">treat</span> <span m="1461110">this</span> <span m="1461290">protocol</span> <span m="1461800">to</span> <span m="1461920">do</span> <span m="1462100">a</span> <span m="1462160">little</span> <span m="1462340">bit</span> <span m="1462490">differently</span> <span m="1463000">at</span> <span m="1463190">the</span> <span m="1463240">receiver?</span> <span m="1464470">When</span> <span m="1464740">I</span> <span m="1464800">get</span> <span m="1464980">a</span> <span m="1465040">packet,</span> <span m="1465610">if</span> <span m="1465880">it's</span> <span m="1466030">in</span> <span m="1466270">order,</span> <span m="1467590">I</span> <span m="1467770">deliver</span> <span m="1468130">it</span> <span m="1468250">to</span> <span m="1468400">the</span> <span m="1468520">application.</span> <span m="1469430">And</span> <span m="1469630">after</span> <span m="1470170">I</span> <span m="1470260">deliver</span> <span m="1470590">it</span> <span m="1470680">to</span> <span m="1470770">the</span> <span m="1470860">application,</span> <span m="1471500">I</span> <span m="1471600">send</span> <span m="1471680">an</span> <span m="1471790">acknowledgment.</span> <span m="1475160">OK?</span> <span m="1475430">So</span> <span m="1475700">in</span> <span m="1475850">other</span> <span m="1475970">words,</span> <span m="1476250">I</span> <span m="1476300">only</span> <span m="1477140">send</span> <span m="1477530">an</span> <span m="1477620">acknowledgment</span> <span m="1478130">to</span> <span m="1478250">the</span> <span m="1478340">sender</span> <span m="1478700">after</span> <span m="1479000">it's</span> <span m="1479300">delivered</span> <span m="1479630">up</span> <span m="1479720">to</span> <span m="1479810">the</span> <span m="1479900">application.</span> <span m="1481370">Otherwise,</span> <span m="1481910">I</span> <span m="1482000">don't.</span> </p>
<p><span m="1484050">What</span> <span m="1484220">happens</span> <span m="1484490">to</span> <span m="1484610">this</span> <span m="1484760">protocol</span> <span m="1485180">if</span> <span m="1485300">I</span> <span m="1485390">do</span> <span m="1485540">that?</span> <span m="1485840">Does</span> <span m="1486050">it</span> <span m="1486140">perform</span> <span m="1486530">the</span> <span m="1486590">same</span> <span m="1486950">as</span> <span m="1487100">what</span> <span m="1487280">I</span> <span m="1487370">describe?</span> <span m="1488490">And</span> <span m="1488840">remember,</span> <span m="1489140">there's</span> <span m="1489320">a</span> <span m="1489380">subtle</span> <span m="1489650">difference.</span> <span m="1489950">The only</span> <span m="1490220">difference</span> <span m="1490520">is,</span> <span m="1491180">in</span> <span m="1491390">this</span> <span m="1491570">protocol</span> <span m="1491960">as</span> <span m="1492110">I've</span> <span m="1492200">described</span> <span m="1492590">it, the</span> <span m="1492780">receiver</span> <span m="1493130">gets</span> <span m="1493340">a</span> <span m="1493370">packet,</span> <span m="1493730">sends</span> <span m="1493970">an</span> <span m="1494060">acknowledgment,</span> <span m="1494840">and</span> <span m="1495080">then</span> <span m="1495350">holds</span> <span m="1495680">on</span> <span m="1495800">to</span> <span m="1495950">it</span> <span m="1496040">in</span> <span m="1496130">a</span> <span m="1496190">buffer,</span> <span m="1497120">if</span> <span m="1497360">the</span> <span m="1497450">packet's</span> <span m="1497900">not</span> <span m="1498140">the</span> <span m="1498230">next</span> <span m="1498530">packet</span> <span m="1498890">in</span> <span m="1499010">order.</span> </p>
<p><span m="1501640">The</span> <span m="1501820">modification</span> <span m="1502480">I'm</span> <span m="1502570">proposing</span> <span m="1503050">is</span> <span m="1503320">the</span> <span m="1503440">receiver</span> <span m="1503800">gets</span> <span m="1504010">a</span> <span m="1504070">packet,</span> <span m="1505360">and</span> <span m="1506440">only</span> <span m="1506950">when</span> <span m="1507140">it</span> <span m="1507230">delivers</span> <span m="1507640">it</span> <span m="1507760">up</span> <span m="1507940">to</span> <span m="1508030">the</span> <span m="1508150">application,</span> <span m="1508780">does</span> <span m="1509020">it</span> <span m="1509080">send</span> <span m="1509320">an</span> <span m="1509410">acknowledgment.</span> <span m="1510460">Otherwise,</span> <span m="1511300">it</span> <span m="1511450">doesn't</span> <span m="1511660">send</span> <span m="1511880">acknowledgment.</span> <span m="1514870">Yes?</span> </p>
<p><span m="1515727">AUDIENCE:</span> <span m="1515945">[INAUDIBLE]</span> </p>
<p><span m="1518350">HARI BALAKRISHNAN:</span> <span m="1518470">Is</span> <span m="1518590">it</span> <span m="1518680">just</span> <span m="1518890">like</span> <span m="1519010">stop and</span> <span m="1519340">wait?</span> </p>
<p><span m="1519550">AUDIENCE:</span> <span m="1519787">I</span> <span m="1520024">think so,</span> <span m="1520498">because</span> <span m="1520972">[INAUDIBLE].</span> </p>
<p><span m="1523820">HARI BALAKRISHNAN:</span> <span m="1523925">But</span> <span m="1524030">if</span> <span m="1524150">packets</span> <span m="1524510">are</span> <span m="1524570">not</span> <span m="1524780">being</span> <span m="1524960">lost,</span> <span m="1525320">it's</span> <span m="1525530">doing</span> <span m="1525740">a</span> <span m="1525770">lot</span> <span m="1525950">better</span> <span m="1526160">than</span> <span m="1526280">stop and</span> <span m="1526610">wait,</span> <span m="1528200">right?</span> <span m="1528650">If</span> <span m="1528890">packets</span> <span m="1529160">are</span> <span m="1529220">not</span> <span m="1529340">getting</span> <span m="1529550">lost,</span> <span m="1529850">it's</span> <span m="1529970">doing--</span> <span m="1530630">would</span> <span m="1530900">you</span> <span m="1530990">agree</span> <span m="1531260">that</span> <span m="1531380">if</span> <span m="1531470">packets</span> <span m="1531770">are</span> <span m="1531830">not</span> <span m="1532040">lost,</span> <span m="1532340">it</span> <span m="1532430">does</span> <span m="1532640">better</span> <span m="1532820">than</span> <span m="1532970">stop and</span> <span m="1533300">wait?</span> <span m="1535520">In</span> <span m="1535730">fact,</span> <span m="1536100">if</span> <span m="1536200">packets</span> <span m="1536390">are</span> <span m="1536420">not</span> <span m="1536600">lost,</span> <span m="1537110">is</span> <span m="1537260">there</span> <span m="1537410">any</span> <span m="1537560">difference</span> <span m="1537890">between</span> <span m="1538130">my</span> <span m="1538310">protocol</span> <span m="1538820">and</span> <span m="1539120">this</span> <span m="1539300">[INAUDIBLE]</span> <span m="1539910">modified?</span> <span m="1540610">No.</span> <span m="1540960">OK.</span> </p>
<p><span m="1541790">But</span> <span m="1542030">yet,</span> <span m="1542300">you</span> <span m="1542510">had</span> <span m="1542630">a</span> <span m="1542690">good</span> <span m="1542900">thought.</span> <span m="1543260">It</span> <span m="1543380">looks</span> <span m="1543590">like</span> <span m="1543740">stop</span> <span m="1543980">and</span> <span m="1544100">wait.</span> <span m="1544280">When</span> <span m="1544400">does</span> <span m="1544550">it</span> <span m="1544640">look</span> <span m="1544760">like</span> <span m="1544910">stop</span> <span m="1545150">and</span> <span m="1545240">wait?</span> </p>
<p><span m="1545420">AUDIENCE:</span> <span m="1545625">[INAUDIBLE]</span> </p>
<p><span m="1546650">HARI BALAKRISHNAN:</span> <span m="1546777">Yeah.</span> <span m="1547160">So</span> <span m="1547370">that</span> <span m="1547610">modification</span> <span m="1548660">is,</span> <span m="1549050">when</span> <span m="1549290">packets</span> <span m="1549620">are</span> <span m="1549680">lost,</span> <span m="1550100">it</span> <span m="1550220">looks</span> <span m="1550430">like</span> <span m="1550520">stop</span> <span m="1550760">and</span> <span m="1550850">wait.</span> <span m="1551090">Now,</span> <span m="1551300">this</span> <span m="1551450">is</span> <span m="1551540">not</span> <span m="1551720">a</span> <span m="1551780">mere</span> <span m="1552020">academic</span> <span m="1552470">thing.</span> <span m="1552650">So</span> <span m="1552800">it</span> <span m="1552860">turns</span> <span m="1553160">out</span> <span m="1553370">that</span> <span m="1553610">there</span> <span m="1553700">was</span> <span m="1553880">a</span> <span m="1553940">period</span> <span m="1554240">of</span> <span m="1554330">time</span> <span m="1554570">in</span> <span m="1554630">the</span> <span m="1554720">'90s,</span> <span m="1555140">where</span> <span m="1555590">somebody</span> <span m="1556040">in</span> <span m="1556130">Linux</span> <span m="1556460">TCP</span> <span m="1556910">had</span> <span m="1557120">the</span> <span m="1557210">bright</span> <span m="1557480">idea--</span> <span m="1558260">it</span> <span m="1558320">seemed</span> <span m="1558560">like</span> <span m="1558710">a</span> <span m="1558770">bright</span> <span m="1559010">idea--</span> <span m="1559320">that</span> <span m="1559430">that's</span> <span m="1559610">what</span> <span m="1559760">they</span> <span m="1559910">would</span> <span m="1560030">do.</span> <span m="1561980">So</span> <span m="1562310">for</span> <span m="1562520">a</span> <span m="1562550">period</span> <span m="1562940">of</span> <span m="1563030">time,</span> <span m="1563300">there</span> <span m="1563390">was</span> <span m="1563480">a</span> <span m="1563540">Linux</span> <span m="1563780">TCP,</span> <span m="1564140">where</span> <span m="1564260">they</span> <span m="1564380">said,</span> <span m="1564930">well,</span> <span m="1565160">it's</span> <span m="1565280">all</span> <span m="1565430">very</span> <span m="1565640">complicated.</span> </p>
<p><span m="1567080">Because</span> <span m="1567380">what</span> <span m="1567530">would</span> <span m="1567650">happen</span> <span m="1567980">was</span> <span m="1568160">that</span> <span m="1568310">sometimes,</span> <span m="1568700">the</span> <span m="1568760">machine</span> <span m="1569000">would</span> <span m="1569120">crash.</span> <span m="1569570">And</span> <span m="1569660">the</span> <span m="1569750">sender</span> <span m="1570020">thought</span> <span m="1570320">that</span> <span m="1570470">the</span> <span m="1570530">packet</span> <span m="1571250">had</span> <span m="1571460">been</span> <span m="1571610">acknowledged,</span> <span m="1572030">but</span> <span m="1572180">it</span> <span m="1572300">hadn't</span> <span m="1572540">actually</span> <span m="1572930">been</span> <span m="1573110">delivered</span> <span m="1573440">up</span> <span m="1573530">to</span> <span m="1573620">the</span> <span m="1573710">application.</span> <span m="1574470">So</span> <span m="1574580">let's</span> <span m="1574790">just</span> <span m="1574970">make</span> <span m="1575210">it</span> <span m="1575400">so</span> <span m="1575450">the</span> <span m="1575540">packets</span> <span m="1575870">get</span> <span m="1576020">delivered</span> <span m="1576350">to</span> <span m="1576470">the</span> <span m="1576530">application,</span> <span m="1577100">and</span> <span m="1577190">only</span> <span m="1577400">when</span> <span m="1577520">the</span> <span m="1577610">application</span> <span m="1578180">does</span> <span m="1578420">the</span> <span m="1578510">read--</span> <span m="1579830">for</span> <span m="1580010">those</span> <span m="1580340">of</span> <span m="1580490">you</span> <span m="1580640">who've</span> <span m="1580820">done</span> <span m="1581030">this</span> <span m="1581120">sort</span> <span m="1581300">of</span> <span m="1581360">thing--</span> <span m="1581510">from</span> <span m="1581780">the</span> <span m="1581870">socket</span> <span m="1582230">buffer,</span> <span m="1582980">and</span> <span m="1583250">it's</span> <span m="1583400">been</span> <span m="1583670">out</span> <span m="1583940">in</span> <span m="1584000">the</span> <span m="1584090">application,</span> <span m="1584600">and</span> <span m="1584720">out</span> <span m="1584930">of</span> <span m="1584990">the</span> <span m="1585110">operating</span> <span m="1585500">system,</span> <span m="1585890">that's</span> <span m="1586100">when</span> <span m="1586280">we'll</span> <span m="1586400">send</span> <span m="1586580">the</span> <span m="1586640">acknowledgment.</span> </p>
<p><span m="1587300">And</span> <span m="1588130">you</span> <span m="1588290">[? read, ?]</span> <span m="1588560">seemed</span> <span m="1588890">OK.</span> <span m="1589160">People</span> <span m="1589460">said,</span> <span m="1589715">that seems</span> <span m="1589970">reasonable.</span> <span m="1590490">And</span> <span m="1590630">Linux,</span> <span m="1590930">the</span> <span m="1591020">way</span> <span m="1591140">it</span> <span m="1591200">seems,</span> <span m="1591970">things</span> <span m="1592220">seem</span> <span m="1592430">to</span> <span m="1592520">work,</span> <span m="1592730">as</span> <span m="1592820">people</span> <span m="1593030">try</span> <span m="1593240">out</span> <span m="1593360">a</span> <span m="1593390">lot</span> <span m="1593540">of</span> <span m="1593600">stuff.</span> <span m="1593900">And</span> <span m="1594020">then</span> <span m="1595260">I</span> <span m="1595730">suggest,</span> <span m="1595910">from</span> <span m="1596060">time</span> <span m="1596240">to</span> <span m="1596330">time,</span> <span m="1596510">somebody</span> <span m="1596840">declares</span> <span m="1597290">that</span> <span m="1597440">something</span> <span m="1597740">is</span> <span m="1597860">right.</span> </p>
<p><span m="1598550">So</span> <span m="1598820">anyway,</span> <span m="1599780">they</span> <span m="1599900">tried</span> <span m="1600170">this</span> <span m="1600350">out.</span> <span m="1600620">And</span> <span m="1601130">it</span> <span m="1601250">actually</span> <span m="1601490">didn't</span> <span m="1601700">work</span> <span m="1601910">as</span> <span m="1602030">well.</span> <span m="1602640">And</span> <span m="1602750">the</span> <span m="1602840">reason</span> <span m="1603110">for</span> <span m="1603230">that</span> <span m="1603410">is,</span> <span m="1603530">if</span> <span m="1603590">you</span> <span m="1603650">don't run</span> <span m="1603830">on</span> <span m="1603950">a</span> <span m="1603980">high</span> <span m="1604190">enough</span> <span m="1604430">packet</span> <span m="1604730">loss</span> <span m="1605000">rate</span> <span m="1605160">network,</span> <span m="1606300">then</span> <span m="1606530">what</span> <span m="1606710">could</span> <span m="1606890">happen</span> <span m="1607220">is</span> <span m="1607340">that</span> <span m="1607490">you</span> <span m="1607610">may</span> <span m="1607730">get</span> <span m="1607880">stuck.</span> <span m="1609710">And</span> <span m="1610310">it's</span> <span m="1610580">very</span> <span m="1610850">hard</span> <span m="1611180">to</span> <span m="1611300">notice</span> <span m="1611630">these</span> <span m="1611810">performance</span> <span m="1612290">problems.</span> <span m="1612920">Correctness</span> <span m="1613340">problems</span> <span m="1613760">are</span> <span m="1613820">one</span> <span m="1614060">thing,</span> <span m="1614570">because</span> <span m="1614870">the</span> <span m="1614930">other</span> <span m="1615110">side</span> <span m="1615410">stops.</span> <span m="1616370">It</span> <span m="1616820">stops</span> <span m="1617090">working.</span> <span m="1617570">And</span> <span m="1617870">you</span> <span m="1617990">can</span> <span m="1618740">corner</span> <span m="1618890">it</span> <span m="1619220">down.</span> </p>
<p><span m="1619610">But</span> <span m="1619880">this</span> <span m="1620900">simple</span> <span m="1621380">tweak,</span> <span m="1621770">that</span> <span m="1621920">looks</span> <span m="1622130">perfectly</span> <span m="1622550">reasonable,</span> <span m="1623030">is</span> <span m="1623150">actually</span> <span m="1623390">a</span> <span m="1623420">performance</span> <span m="1623870">problem.</span> <span m="1624290">And</span> <span m="1624650">it</span> <span m="1624710">doesn't</span> <span m="1624890">show</span> <span m="1625040">up</span> <span m="1625190">all</span> <span m="1625310">the</span> <span m="1625370">time.</span> <span m="1625640">It</span> <span m="1625730">actually</span> <span m="1626000">shows</span> <span m="1626210">up</span> <span m="1626330">only</span> <span m="1626540">when</span> <span m="1626630">the</span> <span m="1626690">packet</span> <span m="1627020">loss</span> <span m="1627260">rate</span> <span m="1627470">is</span> <span m="1627560">reasonably</span> <span m="1627980">high.</span> <span m="1629160">So</span> <span m="1629270">these</span> <span m="1629480">are</span> <span m="1629600">all</span> <span m="1629720">examples</span> <span m="1630230">of</span> <span m="1630330">reasons</span> <span m="1630650">why</span> <span m="1630890">these</span> <span m="1631070">protocols</span> <span m="1631490">are</span> <span m="1631550">not</span> <span m="1632180">completely</span> <span m="1632600">obvious</span> <span m="1633050">and</span> <span m="1633260">require</span> <span m="1633860">a</span> <span m="1634010">fair</span> <span m="1634400">amount</span> <span m="1634700">of</span> <span m="1635210">care</span> <span m="1635930">to</span> <span m="1636080">get</span> <span m="1636260">it</span> <span m="1636320">to</span> <span m="1636410">work.</span> <span m="1639180">Are</span> <span m="1639360">there</span> <span m="1639450">any</span> <span m="1639600">questions</span> <span m="1640050">about</span> <span m="1640260">any</span> <span m="1640410">of</span> <span m="1640530">the</span> <span m="1640600">stuff?</span> <span m="1643870">Is</span> <span m="1644170">this</span> <span m="1644310">all</span> <span m="1644390">clear?</span> <span m="1646360">OK.</span> </p>
<p><span m="1646900">What</span> <span m="1647110">I</span> <span m="1647170">want</span> <span m="1647290">to</span> <span m="1647350">do</span> <span m="1647470">now</span> <span m="1647650">is</span> <span m="1647770">to</span> <span m="1647860">show</span> <span m="1648010">a</span> <span m="1648070">picture</span> <span m="1648820">of</span> <span m="1649000">something</span> <span m="1649300">called</span> <span m="1649480">a</span> <span m="1649510">sequence</span> <span m="1649960">plot,</span> <span m="1650420">which</span> <span m="1650530">is</span> <span m="1651670">a</span> <span m="1651820">very</span> <span m="1652060">useful</span> <span m="1652450">tool</span> <span m="1652990">in</span> <span m="1653260">understanding</span> <span m="1653800">how</span> <span m="1653950">these</span> <span m="1654130">protocols</span> <span m="1654580">actually</span> <span m="1654940">work.</span> <span m="1655310">So</span> <span m="1655390">what</span> <span m="1655570">you</span> <span m="1655630">do</span> <span m="1656380">to</span> <span m="1656500">produce</span> <span m="1656860">one</span> <span m="1656980">of</span> <span m="1657040">these</span> <span m="1657220">plots</span> <span m="1657580">is</span> <span m="1657700">you</span> <span m="1657820">run</span> <span m="1658600">your</span> <span m="1658840">protocol.</span> <span m="1660010">And</span> <span m="1660550">you</span> <span m="1660700">plot</span> <span m="1661120">out--</span> <span m="1661510">at</span> <span m="1661660">the</span> <span m="1661750">sender,</span> <span m="1662590">you</span> <span m="1662800">plot</span> <span m="1663100">out</span> <span m="1663280">the</span> <span m="1663340">times</span> <span m="1663700">at</span> <span m="1663820">which</span> <span m="1664060">the</span> <span m="1664180">sender</span> <span m="1664510">sent</span> <span m="1664840">out</span> <span m="1665680">every</span> <span m="1666070">sequence</span> <span m="1666460">number,</span> <span m="1667270">every</span> <span m="1667600">time</span> <span m="1667810">it</span> <span m="1667900">transmitted</span> <span m="1668380">a</span> <span m="1668440">packet.</span> <span m="1669610">And</span> <span m="1669820">you</span> <span m="1669910">plot</span> <span m="1670180">that</span> <span m="1670270">out</span> <span m="1670480">as</span> <span m="1670570">a</span> <span m="1670630">function</span> <span m="1670960">of</span> <span m="1671080">time.</span> </p>
<p><span m="1673420">The</span> <span m="1673960">y-axis</span> <span m="1674620">is</span> <span m="1674710">the</span> <span m="1674800">sequence</span> <span m="1675220">number.</span> <span m="1675520">The</span> <span m="1675670">x-axis</span> <span m="1676200">is</span> <span m="1676390">time.</span> <span m="1677810">And</span> <span m="1677950">similarly,</span> <span m="1678580">every</span> <span m="1678790">time</span> <span m="1679000">the</span> <span m="1679090">sender</span> <span m="1679390">gets</span> <span m="1679600">an</span> <span m="1679690">acknowledgment,</span> <span m="1680410">you</span> <span m="1680650">plot</span> <span m="1681400">that</span> <span m="1681610">out</span> <span m="1681820">on</span> <span m="1681930">the</span> <span m="1682000">trace</span> <span m="1682300">as</span> <span m="1682450">well.</span> <span m="1682820">So</span> <span m="1682930">you</span> <span m="1683020">look</span> <span m="1683200">at</span> <span m="1683290">these</span> <span m="1683500">two</span> <span m="1683610">traces.</span> <span m="1684710">OK,</span> <span m="1684940">this</span> <span m="1685120">is</span> <span m="1685240">a</span> <span m="1685270">trace</span> <span m="1685690">of</span> <span m="1686260">packet</span> <span m="1686680">transmissions,</span> <span m="1687850">data</span> <span m="1688120">packet</span> <span m="1688390">transmissions,</span> <span m="1688720">and</span> <span m="1689050">this</span> <span m="1689110">is</span> <span m="1689230">a</span> <span m="1689290">trace</span> <span m="1689560">of</span> <span m="1689720">ACK packet</span> <span m="1690130">receptions.</span> <span m="1690730">And</span> <span m="1690850">you</span> <span m="1690940">look</span> <span m="1691120">at</span> <span m="1691210">this</span> <span m="1691810">picture.</span> </p>
<p><span m="1692110">Now,</span> <span m="1695420">the</span> <span m="1695530">moment</span> <span m="1695740">you</span> <span m="1695800">get</span> <span m="1695920">a</span> <span m="1695980">picture</span> <span m="1696220">like</span> <span m="1696400">this,</span> <span m="1696520">there's</span> <span m="1696610">a</span> <span m="1696670">few</span> <span m="1696820">things</span> <span m="1697030">you</span> <span m="1697120">can</span> <span m="1697240">immediately</span> <span m="1697600">conclude.</span> <span m="1698380">The</span> <span m="1698470">first</span> <span m="1698710">thing</span> <span m="1698830">you</span> <span m="1698920">can</span> <span m="1699070">conclude</span> <span m="1699460">is,</span> <span m="1699610">that</span> <span m="1700300">if</span> <span m="1700600">I</span> <span m="1700750">look</span> <span m="1701020">at</span> <span m="1701140">the</span> <span m="1701230">distance</span> <span m="1701680">between</span> <span m="1702010">the</span> <span m="1702100">data</span> <span m="1702430">and</span> <span m="1702610">the</span> <span m="1702730">ACK,</span> <span m="1704050">when</span> <span m="1704260">there</span> <span m="1704380">are</span> <span m="1704500">no</span> <span m="1704650">losses</span> <span m="1705070">happening,</span> <span m="1705400">if</span> <span m="1705520">I</span> <span m="1705550">look</span> <span m="1705730">at</span> <span m="1705820">that</span> <span m="1706000">distance,</span> <span m="1706390">that</span> <span m="1706570">tells</span> <span m="1706780">me</span> <span m="1706900">the</span> <span m="1706990">window</span> <span m="1707230">size.</span> <span m="1708190">Because</span> <span m="1708550">that's</span> <span m="1708790">the</span> <span m="1708880">number</span> <span m="1709180">of</span> <span m="1709270">packets.</span> <span m="1710440">Because</span> <span m="1710770">the</span> <span m="1710830">last</span> <span m="1711130">acknowledgment,</span> <span m="1711640">every</span> <span m="1711820">time</span> <span m="1712000">an</span> <span m="1712090">acknowledgment</span> <span m="1712540">happens,</span> <span m="1712840">you</span> <span m="1712930">send</span> <span m="1713170">out</span> <span m="1713290">a</span> <span m="1713320">new</span> <span m="1713470">packet.</span> <span m="1714150">Therefore,</span> <span m="1714610">the</span> <span m="1714760">distance</span> <span m="1715240">in</span> <span m="1715420">sequence</span> <span m="1715870">numbers</span> <span m="1716530">between--</span> <span m="1718675">in</span> <span m="1719080">one</span> <span m="1719230">of</span> <span m="1719320">these</span> <span m="1719440">vertical</span> <span m="1719830">slices,</span> <span m="1720340">when</span> <span m="1720460">there</span> <span m="1720610">are</span> <span m="1720670">no</span> <span m="1720820">packet</span> <span m="1721120">losses,</span> <span m="1721510">is</span> <span m="1721660">the</span> <span m="1721750">window</span> <span m="1721990">size.</span> </p>
<p><span m="1725350">You</span> <span m="1725460">can</span> <span m="1725610">also</span> <span m="1725850">read</span> <span m="1726060">off</span> <span m="1726270">the</span> <span m="1726360">typical</span> <span m="1726720">round-trip</span> <span m="1727140">time</span> <span m="1727680">of</span> <span m="1727890">the</span> <span m="1727980">connection.</span> <span m="1728400">Because</span> <span m="1728640">the</span> <span m="1728700">round-trip</span> <span m="1729060">time</span> <span m="1729360">is</span> <span m="1729570">the</span> <span m="1729630">time</span> <span m="1729900">between</span> <span m="1730140">when</span> <span m="1730320">a</span> <span m="1730350">packet,</span> <span m="1730770">data</span> <span m="1731010">packet,</span> <span m="1731340">was</span> <span m="1731460">sent</span> <span m="1731760">and</span> <span m="1731910">when</span> <span m="1732060">you</span> <span m="1732150">got</span> <span m="1732330">an</span> <span m="1732450">acknowledgment</span> <span m="1732930">for</span> <span m="1733140">it.</span> <span m="1733740">So</span> <span m="1733950">you</span> <span m="1734100">can</span> <span m="1734220">read</span> <span m="1734460">that</span> <span m="1734670">off</span> <span m="1734880">as</span> <span m="1735030">well.</span> <span m="1736415">Those</span> <span m="1736800">two</span> <span m="1736950">pictures,</span> <span m="1737850">there's</span> <span m="1738060">an</span> <span m="1738180">easy</span> <span m="1738420">way</span> <span m="1738570">for</span> <span m="1738720">you</span> <span m="1739260">in</span> <span m="1739440">your</span> <span m="1739560">lab</span> <span m="1739830">9</span> <span m="1740880">to</span> <span m="1741060">produce</span> <span m="1741420">these</span> <span m="1741600">pictures.</span> </p>
<p><span m="1743270">So</span> <span m="1743460">if</span> <span m="1743580">you're</span> <span m="1743700">running</span> <span m="1743970">into</span> <span m="1744120">things</span> <span m="1744330">where</span> <span m="1744480">things</span> <span m="1744690">look</span> <span m="1744840">slow,</span> <span m="1745140">things</span> <span m="1745380">look</span> <span m="1745560">bad,</span> <span m="1746240">you</span> <span m="1746370">should</span> <span m="1746580">just</span> <span m="1747150">put</span> <span m="1747390">up</span> <span m="1747510">one</span> <span m="1747660">of</span> <span m="1747720">these</span> <span m="1747900">pictures,</span> <span m="1748860">and</span> <span m="1749070">then</span> <span m="1749220">it'll</span> <span m="1749460">usually</span> <span m="1749880">become</span> <span m="1750120">pretty</span> <span m="1750300">apparent</span> <span m="1750720">what's</span> <span m="1750990">going</span> <span m="1751230">on.</span> <span m="1751380">What</span> <span m="1751620">may</span> <span m="1751920">happen</span> <span m="1752250">is</span> <span m="1752340">that</span> <span m="1752550">initially,</span> <span m="1753030">things</span> <span m="1753210">look</span> <span m="1753390">like</span> <span m="1753540">this.</span> <span m="1753690">And</span> <span m="1753780">all</span> <span m="1753900">of</span> <span m="1753990">a</span> <span m="1754020">sudden,</span> <span m="1754260">things</span> <span m="1754470">stop.</span> <span m="1755400">And</span> <span m="1755670">you</span> <span m="1755730">can</span> <span m="1755850">start</span> <span m="1756030">to</span> <span m="1756120">see,</span> <span m="1756340">well,</span> <span m="1756420">I'm</span> <span m="1756510">not</span> <span m="1756660">getting</span> <span m="1756900">acknowledgments,</span> <span m="1757530">or</span> <span m="1757620">I'm</span> <span m="1757740">not</span> <span m="1757890">sending</span> <span m="1758220">data</span> <span m="1758460">the</span> <span m="1758550">right</span> <span m="1758790">way.</span> <span m="1759030">And</span> <span m="1759180">these</span> <span m="1759360">are</span> <span m="1759390">very</span> <span m="1759600">useful</span> <span m="1760020">to</span> <span m="1760230">understand</span> <span m="1760710">what</span> <span m="1760830">is</span> <span m="1760950">going</span> <span m="1761190">on.</span> </p>
<p><span m="1761520">And</span> <span m="1761730">generally</span> <span m="1762120">speaking,</span> <span m="1762570">these</span> <span m="1762750">are</span> <span m="1762810">useful</span> <span m="1763260">to</span> <span m="1763440">uncover</span> <span m="1764340">performance</span> <span m="1765240">issues</span> <span m="1766080">rather</span> <span m="1766470">than</span> <span m="1767070">correctness.</span> <span m="1767640">I</span> <span m="1767700">mean,</span> <span m="1767850">correctness,</span> <span m="1768330">usually,</span> <span m="1768840">you</span> <span m="1768930">can iron</span> <span m="1769320">out</span> <span m="1769530">before</span> <span m="1769920">you</span> <span m="1770070">get</span> <span m="1770220">to</span> <span m="1770310">this</span> <span m="1770430">stage.</span> <span m="1773080">The</span> <span m="1773350">retransmission</span> <span m="1774010">timeout</span> <span m="1774580">is</span> <span m="1774730">the</span> <span m="1774820">time</span> <span m="1775120">between</span> <span m="1775420">when</span> <span m="1775600">you</span> <span m="1775690">send</span> <span m="1775900">a</span> <span m="1775930">packet</span> <span m="1776320">and</span> <span m="1776440">when</span> <span m="1776590">you</span> <span m="1776680">send</span> <span m="1776890">the</span> <span m="1777000">retransmission</span> <span m="1777620">for</span> <span m="1777760">the</span> <span m="1777850">packet.</span> <span m="1778270">In</span> <span m="1778390">this</span> <span m="1778540">particular</span> <span m="1778960">picture,</span> <span m="1779350">the</span> <span m="1780640">deviation</span> <span m="1781360">from</span> <span m="1781540">the</span> <span m="1781660">mean</span> <span m="1781990">was</span> <span m="1782170">small.</span> <span m="1782720">And</span> <span m="1782740">that's</span> <span m="1782950">why</span> <span m="1783100">the</span> <span m="1783190">retransmission</span> <span m="1783940">timeout</span> <span m="1784750">is</span> <span m="1784990">only</span> <span m="1785200">a</span> <span m="1785260">little</span> <span m="1785470">bit</span> <span m="1785620">bigger</span> <span m="1785920">than</span> <span m="1786100">the</span> <span m="1786160">mean</span> <span m="1786370">round-trip</span> <span m="1786730">time.</span> </p>
<p><span m="1789420">Every</span> <span m="1789720">time</span> <span m="1789930">you</span> <span m="1790020">see</span> <span m="1790200">a</span> <span m="1790260">packet</span> <span m="1790680">that's</span> <span m="1790890">off</span> <span m="1791190">of</span> <span m="1791310">that</span> <span m="1791520">sequence</span> <span m="1791820">[INAUDIBLE]--</span> <span m="1792120">so</span> <span m="1792240">you</span> <span m="1792360">see</span> <span m="1792540">packets</span> <span m="1792930">here.</span> <span m="1793170">The</span> <span m="1793260">pluses</span> <span m="1793710">are</span> <span m="1793800">data</span> <span m="1794010">packets.</span> <span m="1794700">And</span> <span m="1794910">then</span> <span m="1795030">you</span> <span m="1795120">see</span> <span m="1795870">something</span> <span m="1796230">going</span> <span m="1796500">normally.</span> <span m="1796950">And</span> <span m="1797070">then</span> <span m="1797460">you</span> <span m="1797640">see</span> <span m="1797820">a</span> <span m="1797880">lower</span> <span m="1798270">sequence</span> <span m="1798700">number</span> <span m="1799020">retransmitted,</span> <span m="1800570">sent</span> <span m="1800970">here.</span> <span m="1801420">That's</span> <span m="1801750">a</span> <span m="1801790">retransmission.</span> <span m="1802500">So</span> <span m="1803070">you</span> <span m="1803280">see,</span> <span m="1803490">normally,</span> <span m="1803850">the</span> <span m="1804060">new</span> <span m="1804270">packets</span> <span m="1804660">are</span> <span m="1804790">all</span> <span m="1804870">sent</span> <span m="1805140">there.</span> <span m="1805440">But</span> <span m="1805620">the</span> <span m="1805680">retransmissions</span> <span m="1806370">show up</span> <span m="1806610">before.</span> <span m="1807070">So</span> <span m="1807120">these</span> <span m="1807300">are</span> <span m="1807390">examples</span> <span m="1807840">of</span> <span m="1807930">retransmissions,</span> <span m="1809400">and</span> <span m="1809640">these</span> <span m="1809880">are</span> <span m="1809970">examples</span> <span m="1810480">of</span> <span m="1810600">packets</span> <span m="1811050">that</span> <span m="1811200">were</span> <span m="1811300">retransmitted</span> <span m="1811890">more</span> <span m="1812070">than</span> <span m="1812220">once,</span> <span m="1813510">because</span> <span m="1813840">they're</span> <span m="1814320">timing</span> <span m="1814680">out</span> <span m="1814860">multiple</span> <span m="1815250">times.</span> <span m="1815640">Yes?</span> </p>
<p><span m="1815910">AUDIENCE:</span> <span m="1816148">[INAUDIBLE]</span> </p>
<p><span m="1819720">HARI BALAKRISHNAN:</span> <span m="1819877">Yeah.</span> <span m="1820350">So</span> <span m="1820800">the</span> <span m="1820950">window</span> <span m="1821190">size--</span> <span m="1821490">what's</span> <span m="1821640">the</span> <span m="1821730">definition</span> <span m="1822120">of</span> <span m="1822190">the</span> <span m="1822240">window</span> <span m="1822510">size?</span> <span m="1822690">The</span> <span m="1822780">maximum</span> <span m="1823230">number</span> <span m="1823470">of</span> <span m="1823530">unacknowledged</span> <span m="1824160">packets.</span> <span m="1825810">So</span> <span m="1826110">the</span> <span m="1826170">maximum</span> <span m="1826500">number</span> <span m="1826710">of</span> <span m="1826770">unacknowledged</span> <span m="1827220">packets,</span> <span m="1827610">when</span> <span m="1827760">there</span> <span m="1827880">are</span> <span m="1828000">no</span> <span m="1828150">packet</span> <span m="1828480">losses</span> <span m="1828900">that</span> <span m="1829050">have</span> <span m="1829170">happened,</span> <span m="1829800">is</span> <span m="1830190">the</span> <span m="1830340">difference</span> <span m="1830700">between</span> <span m="1831810">the</span> <span m="1831930">last</span> <span m="1832230">packet</span> <span m="1832630">you</span> <span m="1832710">transmitted</span> <span m="1833520">and</span> <span m="1833850">the</span> <span m="1833910">last</span> <span m="1834210">acknowledgment</span> <span m="1834720">you</span> <span m="1834780">got.</span> <span m="1835800">Because</span> <span m="1836040">every</span> <span m="1836280">time</span> <span m="1836460">you</span> <span m="1836530">got</span> <span m="1836670">an</span> <span m="1836730">acknowledgment,</span> <span m="1837210">you</span> <span m="1837300">send</span> <span m="1837540">a</span> <span m="1837630">new</span> <span m="1837720">packet.</span> </p>
<p><span m="1838770">And</span> <span m="1839010">initially,</span> <span m="1839460">you</span> <span m="1839550">send</span> <span m="1839760">out</span> <span m="1840060">w</span> <span m="1840660">packets.</span> <span m="1841300">So</span> <span m="1841470">if</span> <span m="1841590">you</span> <span m="1841830">continue</span> <span m="1842220">that,</span> <span m="1842370">so</span> <span m="1842490">you</span> <span m="1842610">initially</span> <span m="1842910">send</span> <span m="1843060">1</span> <span m="1843210">to</span> <span m="1843330">5,</span> <span m="1843780">then</span> <span m="1843930">you</span> <span m="1844020">send</span> <span m="1844170">2</span> <span m="1844320">to</span> <span m="1844410">6,</span> <span m="1845220">3</span> <span m="1845430">to</span> <span m="1845520">7.</span> <span m="1846240">And</span> <span m="1846540">the</span> <span m="1846660">last</span> <span m="1846930">ACK</span> <span m="1847140">you</span> <span m="1847260">had</span> <span m="1847500">was</span> <span m="1848370">2,</span> <span m="1848730">when</span> <span m="1848910">you</span> <span m="1849000">sent</span> <span m="1849240">out</span> <span m="1849390">3</span> <span m="1849570">to</span> <span m="1849660">7.</span> <span m="1849960">So</span> <span m="1850080">that</span> <span m="1850290">distance</span> <span m="1850750">tells</span> <span m="1850960">you</span> <span m="1851080">the</span> <span m="1851160">window</span> <span m="1851480">size.</span> <span m="1853190">I</span> <span m="1853400">might</span> <span m="1853580">be</span> <span m="1853670">off</span> <span m="1853880">by</span> <span m="1854060">1.</span> <span m="1854750">It's</span> <span m="1854900">probably</span> <span m="1855590">the</span> <span m="1855710">last</span> <span m="1856130">packet</span> <span m="1856550">you</span> <span m="1856670">sent</span> <span m="1857030">minus</span> <span m="1857420">the</span> <span m="1857510">last</span> <span m="1857900">acknowledgment</span> <span m="1858680">you</span> <span m="1858830">got</span> <span m="1859040">plus</span> <span m="1859340">1,</span> <span m="1860070">is</span> <span m="1860270">the</span> <span m="1860360">window</span> <span m="1860600">size,</span> <span m="1860900">or</span> <span m="1861020">minus</span> <span m="1861350">1,</span> <span m="1863000">something</span> <span m="1863420">like</span> <span m="1863570">that.</span> <span m="1865100">You've</span> <span m="1865370">got</span> <span m="1865490">to</span> <span m="1865550">get</span> <span m="1865670">that</span> <span m="1865790">right</span> <span m="1866000">on</span> <span m="1866090">the</span> <span m="1866180">quiz.</span> <span m="1866450">Fortunately,</span> <span m="1867110">I</span> <span m="1867140">don't</span> <span m="1867320">have</span> <span m="1867410">to</span> <span m="1867500">get</span> <span m="1867620">it</span> <span m="1867710">right</span> <span m="1867890">here.</span> </p>
<p><span m="1868595">[LAUGHTER]</span> </p>
<p></p>
<p><span m="1873250">And</span> <span m="1873490">then,</span> <span m="1873640">some</span> <span m="1873880">of</span> <span m="1873940">these</span> <span m="1874150">things</span> <span m="1874480">here</span> <span m="1874870">are</span> <span m="1875050">later</span> <span m="1875470">x's.</span> <span m="1876040">And</span> <span m="1876190">these</span> <span m="1876460">are</span> <span m="1876580">acknowledgments</span> <span m="1877210">that</span> <span m="1877360">show up.</span> <span m="1877570">So</span> <span m="1877690">these</span> <span m="1877930">are</span> <span m="1878050">packets</span> <span m="1878470">that</span> <span m="1878590">got</span> <span m="1878810">retransmitted</span> <span m="1879430">multiple</span> <span m="1879760">times.</span> <span m="1880390">These</span> <span m="1880690">are</span> <span m="1880780">acknowledgments</span> <span m="1881440">that</span> <span m="1881950">are</span> <span m="1882160">for</span> <span m="1882310">these</span> <span m="1882490">retransmitted</span> <span m="1883120">packets.</span> <span m="1883930">And</span> <span m="1884170">I</span> <span m="1884260">say</span> <span m="1884500">most</span> <span m="1884920">probably,</span> <span m="1885340">because</span> <span m="1885640">I</span> <span m="1885730">can't</span> <span m="1885940">actually</span> <span m="1886300">be</span> <span m="1886420">sure.</span> </p>
<p><span m="1887080">In</span> <span m="1887320">principle,</span> <span m="1887920">it</span> <span m="1888010">could</span> <span m="1888220">be</span> <span m="1888430">that</span> <span m="1888640">this</span> <span m="1888820">acknowledgment</span> <span m="1889420">here</span> <span m="1889870">is</span> <span m="1890290">for</span> <span m="1891280">this</span> <span m="1891580">packet,</span> <span m="1892780">is</span> <span m="1893080">for</span> <span m="1893200">this</span> <span m="1893380">data</span> <span m="1893620">packet,</span> <span m="1893980">that</span> <span m="1894130">was</span> <span m="1894280">actually</span> <span m="1894580">originally</span> <span m="1895030">transmitted</span> <span m="1895540">over</span> <span m="1895780">here,</span> <span m="1896530">rather</span> <span m="1896950">than</span> <span m="1897190">for</span> <span m="1897340">this</span> <span m="1897520">retransmission.</span> <span m="1898180">It's,</span> <span m="1898600">in</span> <span m="1898810">principle,</span> <span m="1899230">possible</span> <span m="1899710">that</span> <span m="1899920">this</span> <span m="1900160">acknowledgment</span> <span m="1900910">was</span> <span m="1901150">sent</span> <span m="1901510">by</span> <span m="1901660">the</span> <span m="1901750">receiver</span> <span m="1902770">upon</span> <span m="1903250">the</span> <span m="1903340">reception</span> <span m="1903790">of</span> <span m="1903940">a</span> <span m="1903970">packet</span> <span m="1904300">over</span> <span m="1904510">here.</span> <span m="1905090">It's</span> <span m="1905290">just</span> <span m="1905470">that</span> <span m="1905590">it's</span> <span m="1905710">unlikely.</span> <span m="1906190">It's</span> <span m="1906340">more</span> <span m="1906550">likely</span> <span m="1906910">that</span> <span m="1907060">it</span> <span m="1907180">was</span> <span m="1907330">this,</span> <span m="1907540">because</span> <span m="1907870">that's</span> <span m="1908110">the</span> <span m="1908200">round-trip</span> <span m="1908560">time</span> <span m="1908860">that's</span> <span m="1909070">consistent</span> <span m="1909520">with that</span> <span m="1909610">RTT.</span> <span m="1910180">But</span> <span m="1910330">you</span> <span m="1910390">can't</span> <span m="1910600">actually</span> <span m="1910870">be</span> <span m="1910990">sure.</span> </p>
<p><span m="1913120">All</span> <span m="1913450">you</span> <span m="1913540">know</span> <span m="1913810">is</span> <span m="1913960">that</span> <span m="1914140">this</span> <span m="1914290">was</span> <span m="1914440">an</span> <span m="1914500">acknowledgment</span> <span m="1914920">for</span> <span m="1915100">that</span> <span m="1915310">data</span> <span m="1915550">packet.</span> <span m="1916720">But</span> <span m="1916930">most</span> <span m="1917200">likely,</span> <span m="1917620">it</span> <span m="1917770">was</span> <span m="1917920">for</span> <span m="1918040">the</span> <span m="1918250">retransmission.</span> <span m="1919360">OK,</span> <span m="1919660">so</span> <span m="1919780">these</span> <span m="1919960">sequence</span> <span m="1920360">traces</span> <span m="1920800">are</span> <span m="1920890">generally</span> <span m="1921250">pretty</span> <span m="1921490">helpful</span> <span m="1921970">and</span> <span m="1922150">useful</span> <span m="1923110">in</span> <span m="1923290">understanding</span> <span m="1924220">the</span> <span m="1924370">performance</span> <span m="1924910">of</span> <span m="1925000">transport</span> <span m="1925390">protocols,</span> <span m="1925780">particularly</span> <span m="1926230">sliding</span> <span m="1926590">window</span> <span m="1926830">protocols.</span> <span m="1930030">So</span> <span m="1930270">any</span> <span m="1930450">questions?</span> <span m="1933540">OK.</span> </p>
<p><span m="1934020">So</span> <span m="1934260">now</span> <span m="1934410">I'm</span> <span m="1934500">going</span> <span m="1934680">to</span> <span m="1934800">turn</span> <span m="1935070">to</span> <span m="1935220">the</span> <span m="1935520">last</span> <span m="1935910">remaining</span> <span m="1936330">issue</span> <span m="1937410">for</span> <span m="1937620">these</span> <span m="1937830">transport</span> <span m="1938280">protocols,</span> <span m="1939100">which</span> <span m="1939300">is</span> <span m="1940380">analogous</span> <span m="1941040">to</span> <span m="1941230">we</span> <span m="1941340">did</span> <span m="1941490">a</span> <span m="1941580">calculation</span> <span m="1942210">of</span> <span m="1943020">the</span> <span m="1943470">throughput</span> <span m="1943830">of</span> <span m="1943950">the</span> <span m="1944100">stop</span> <span m="1944310">and</span> <span m="1944400">wait</span> <span m="1944550">protocol.</span> <span m="1944970">I</span> <span m="1945090">want</span> <span m="1945240">to</span> <span m="1945300">look</span> <span m="1945480">at</span> <span m="1945570">the</span> <span m="1945630">throughput</span> <span m="1946020">of</span> <span m="1946110">the</span> <span m="1946170">sliding</span> <span m="1946500">window</span> <span m="1946740">protocol.</span> <span m="1947635">OK.</span> <span m="1948080">And</span> <span m="1948210">I</span> <span m="1948300">want</span> <span m="1948480">to</span> <span m="1948570">explain</span> <span m="1948990">that</span> <span m="1950280">by</span> <span m="1950550">first</span> <span m="1950940">actually</span> <span m="1951660">explaining</span> <span m="1952200">what</span> <span m="1952350">the</span> <span m="1952440">problem</span> <span m="1952830">is.</span> <span m="1953070">And</span> <span m="1953250">then</span> <span m="1953370">I</span> <span m="1953430">want</span> <span m="1953580">to</span> <span m="1953730">go</span> <span m="1953970">back</span> <span m="1954330">and</span> <span m="1955890">tell</span> <span m="1956160">you</span> <span m="1956250">about</span> <span m="1956550">a</span> <span m="1956610">very</span> <span m="1956880">beautiful</span> <span m="1957390">result,</span> <span m="1957900">very</span> <span m="1958260">widely</span> <span m="1958680">applicable</span> <span m="1959130">result,</span> <span m="1959430">applies</span> <span m="1959730">to</span> <span m="1959850">everything</span> <span m="1960240">from</span> <span m="1962610">networking</span> <span m="1963150">to</span> <span m="1963885">how</span> <span m="1964170">long</span> <span m="1964380">you're</span> <span m="1964470">going</span> <span m="1964620">to</span> <span m="1964680">wait</span> <span m="1964980">to</span> <span m="1965130">get</span> <span m="1965310">served</span> <span m="1965610">at</span> <span m="1965700">a</span> <span m="1965760">restaurant,</span> <span m="1966370">called</span> <span m="1966660">Little's</span> <span m="1966900">Law.</span> <span m="1967590">It's</span> <span m="1968040">a</span> <span m="1968100">remarkable</span> <span m="1968610">result,</span> <span m="1969060">very</span> <span m="1969300">simple,</span> <span m="1969720">and</span> <span m="1969870">widely</span> <span m="1970230">applicable.</span> <span m="1972150">Everybody</span> <span m="1972690">should</span> <span m="1972840">know</span> <span m="1972960">it.</span> </p>
<p><span m="1974260">So</span> <span m="1974880">the</span> <span m="1975030">question</span> <span m="1975420">here</span> <span m="1975600">is,</span> <span m="1975750">what's</span> <span m="1975930">the</span> <span m="1976020">throughput</span> <span m="1976380">of</span> <span m="1976470">sliding</span> <span m="1976800">window?</span> <span m="1986150">And</span> <span m="1986390">in</span> <span m="1986480">particular,</span> <span m="1987510">if</span> <span m="1987680">I</span> <span m="1987790">had</span> <span m="1987890">run</span> <span m="1988130">a</span> <span m="1988190">protocol</span> <span m="1989180">in</span> <span m="1989420">a</span> <span m="1989480">network</span> <span m="1989810">that</span> <span m="1989930">looks</span> <span m="1990140">like</span> <span m="1990290">this-- so</span> <span m="1990610">I</span> <span m="1990710">have</span> <span m="1990740">a</span> <span m="1990800">sender.</span> <span m="1992600">I</span> <span m="1992780">have</span> <span m="1992930">a</span> <span m="1992960">receiver.</span> <span m="1995120">There's</span> <span m="1995360">some</span> <span m="1995570">network</span> <span m="1995930">path</span> <span m="1996260">in</span> <span m="1996350">between.</span> <span m="1998750">And</span> <span m="1998930">of</span> <span m="1999020">course,</span> <span m="1999330">this</span> <span m="1999380">has</span> <span m="1999590">a</span> <span m="1999620">bunch</span> <span m="1999830">of</span> <span m="1999920">switches</span> <span m="2000280">here.</span> <span m="2002280">And</span> <span m="2002460">I</span> <span m="2002550">want</span> <span m="2002700">to</span> <span m="2002760">know</span> <span m="2002940">what</span> <span m="2003120">is</span> <span m="2003240">the</span> <span m="2003370">throughput</span> <span m="2003690">of</span> <span m="2003780">the</span> <span m="2003870">protocol.</span> </p>
<p><span m="2004350">And</span> <span m="2004590">what</span> <span m="2005150">I</span> <span m="2005280">would</span> <span m="2005430">like</span> <span m="2005700">a</span> <span m="2005760">few</span> <span m="2006540">to</span> <span m="2006630">tell</span> <span m="2006810">you</span> <span m="2007320">what</span> <span m="2007590">the</span> <span m="2007650">throughput</span> <span m="2008010">is</span> <span m="2008130">in</span> <span m="2008220">terms</span> <span m="2008610">of.</span> <span m="2009690">So</span> <span m="2009930">the</span> <span m="2010020">sender</span> <span m="2010350">has</span> <span m="2010560">a</span> <span m="2010620">window</span> <span m="2010860">size</span> <span m="2011180">w,</span> <span m="2012030">according</span> <span m="2012450">to</span> <span m="2012540">this</span> <span m="2012720">protocol.</span> <span m="2014580">For</span> <span m="2014880">now,</span> <span m="2015240">we'll</span> <span m="2015450">assume</span> <span m="2015750">that</span> <span m="2015900">there's</span> <span m="2016080">no</span> <span m="2016260">packet</span> <span m="2016560">loss.</span> <span m="2018120">That</span> <span m="2018360">is,</span> <span m="2018630">acknowledgment</span> <span m="2019590">data</span> <span m="2019800">packets</span> <span m="2020100">are</span> <span m="2020160">not</span> <span m="2020370">lost,</span> <span m="2020670">and</span> <span m="2020760">acknowledgments</span> <span m="2021300">are</span> <span m="2021330">not</span> <span m="2021540">lost.</span> </p>
<p><span m="2022770">If</span> <span m="2023010">I</span> <span m="2023100">have</span> <span m="2023310">time</span> <span m="2023550">today,</span> <span m="2023790">I'll</span> <span m="2023910">come</span> <span m="2024090">back</span> <span m="2024330">to</span> <span m="2024420">explaining</span> <span m="2025290">what</span> <span m="2025530">happens</span> <span m="2025890">with</span> <span m="2026010">packet</span> <span m="2026340">loss.</span> <span m="2026550">Otherwise,</span> <span m="2026910">we'll</span> <span m="2027060">pick</span> <span m="2027210">it</span> <span m="2027300">up</span> <span m="2027390">in</span> <span m="2027450">recitation</span> <span m="2027930">tomorrow,</span> <span m="2028350">or</span> <span m="2028590">I'll</span> <span m="2028740">point</span> <span m="2028980">you</span> <span m="2029070">to</span> <span m="2029200">the</span> <span m="2029250">place</span> <span m="2029520">in</span> <span m="2029610">the</span> <span m="2029670">book.</span> <span m="2030640">It's</span> <span m="2030780">just</span> <span m="2031020">a</span> <span m="2031050">simple</span> <span m="2031380">calculation</span> <span m="2032010">that</span> <span m="2032160">expands.</span> <span m="2033240">The</span> <span m="2033360">more</span> <span m="2033540">important</span> <span m="2033870">part</span> <span m="2034110">is</span> <span m="2034230">when</span> <span m="2034350">there</span> <span m="2034470">are</span> <span m="2034560">no</span> <span m="2034710">losses.</span> </p>
<p><span m="2036910">Now,</span> <span m="2037410">I'll</span> <span m="2037650">also</span> <span m="2037890">assume</span> <span m="2038250">that</span> <span m="2038760">there's</span> <span m="2040500">links</span> <span m="2041190">of</span> <span m="2041280">different</span> <span m="2042720">rates</span> <span m="2043260">here.</span> <span m="2043710">And</span> <span m="2044820">one</span> <span m="2045180">of</span> <span m="2045300">these</span> <span m="2045540">links</span> <span m="2046020">on</span> <span m="2046230">the</span> <span m="2046290">path</span> <span m="2046650">between</span> <span m="2046980">sender</span> <span m="2047310">and</span> <span m="2047370">receiver</span> <span m="2048690">is</span> <span m="2049020">the</span> <span m="2049170">link</span> <span m="2051150">that</span> <span m="2051420">is</span> <span m="2051600">the</span> <span m="2051690">bottleneck</span> <span m="2052260">link.</span> <span m="2052530">In</span> <span m="2052679">other</span> <span m="2052800">words,</span> <span m="2053110">no</span> <span m="2053190">matter</span> <span m="2053429">what</span> <span m="2053639">you</span> <span m="2053730">do</span> <span m="2053909">or</span> <span m="2054030">who</span> <span m="2054179">you</span> <span m="2054330">bribe,</span> <span m="2054719">you</span> <span m="2054840">cannot</span> <span m="2055170">send</span> <span m="2055650">packets</span> <span m="2056130">faster</span> <span m="2056580">than</span> <span m="2056850">the</span> <span m="2056940">speed</span> <span m="2057239">of</span> <span m="2057330">that</span> <span m="2057510">link.</span> <span m="2058409">For</span> <span m="2058590">simplicity,</span> <span m="2059159">I'll</span> <span m="2059280">assume</span> <span m="2059550">that</span> <span m="2059699">there's</span> <span m="2059909">one</span> <span m="2060150">bottleneck.</span> </p>
<p><span m="2061540">The</span> <span m="2061800">general</span> <span m="2062250">results</span> <span m="2062730">apply,</span> <span m="2063159">even</span> <span m="2063330">though</span> <span m="2063420">there</span> <span m="2063540">are</span> <span m="2063600">multiple</span> <span m="2063929">bottlenecks.</span> <span m="2065000">But</span> <span m="2065489">I'll</span> <span m="2065730">assume</span> <span m="2066000">that</span> <span m="2066150">there's</span> <span m="2066300">some</span> <span m="2066540">bottleneck</span> <span m="2066960">here.</span> <span m="2068070">And</span> <span m="2068340">I'll</span> <span m="2068460">assume</span> <span m="2068760">that</span> <span m="2068940">its</span> <span m="2069960">rate</span> <span m="2070380">as</span> <span m="2070469">c</span> <span m="2070739">packets</span> <span m="2071159">per</span> <span m="2071310">second.</span> <span m="2075639">And</span> <span m="2075989">I</span> <span m="2076139">will</span> <span m="2076290">assume</span> <span m="2076590">here,</span> <span m="2076889">that</span> <span m="2077489">because</span> <span m="2077969">there's</span> <span m="2078120">a</span> <span m="2078179">bottleneck,</span> <span m="2079380">in</span> <span m="2079590">general,</span> <span m="2081719">packets</span> <span m="2082139">may</span> <span m="2082290">show</span> <span m="2082590">up</span> <span m="2082830">faster</span> <span m="2083460">than</span> <span m="2083639">the</span> <span m="2083730">bottleneck</span> <span m="2084179">can</span> <span m="2084360">handle.</span> <span m="2084750">And</span> <span m="2084929">if</span> <span m="2085050">they</span> <span m="2085199">do,</span> <span m="2086070">they</span> <span m="2086290">sit in</span> <span m="2086580">a</span> <span m="2086610">queue.</span> </p>
<p><span m="2090300">And</span> <span m="2090750">because</span> <span m="2091170">I've</span> <span m="2091260">constructed</span> <span m="2091770">the</span> <span m="2091830">problems</span> <span m="2092280">so</span> <span m="2092340">packets</span> <span m="2092699">don't</span> <span m="2092880">get</span> <span m="2093030">lost,</span> <span m="2093360">the</span> <span m="2093449">queue</span> <span m="2093690">can</span> <span m="2093929">have</span> <span m="2094139">an</span> <span m="2094230">arbitrary</span> <span m="2094739">length.</span> <span m="2095489">It</span> <span m="2095699">could</span> <span m="2095880">be</span> <span m="2095969">potentially--</span> <span m="2096510">it</span> <span m="2096659">could</span> <span m="2096810">grow</span> <span m="2097020">unbounded.</span> <span m="2097920">Though,</span> <span m="2098130">in</span> <span m="2098220">reality,</span> <span m="2098640">it</span> <span m="2098790">won't,</span> <span m="2099150">because</span> <span m="2099930">the</span> <span m="2100110">sender</span> <span m="2100440">has</span> <span m="2100680">a</span> <span m="2100740">fixed</span> <span m="2101010">window</span> <span m="2101250">size</span> <span m="2101550">of</span> <span m="2101620">w.</span> </p>
<p><span m="2103140">Now,</span> <span m="2103410">all</span> <span m="2103650">of</span> <span m="2103740">this</span> <span m="2103890">analysis</span> <span m="2104370">and</span> <span m="2104490">calculation</span> <span m="2105090">will</span> <span m="2105240">apply</span> <span m="2105630">when</span> <span m="2105810">there</span> <span m="2105960">are</span> <span m="2106020">many,</span> <span m="2106330">many</span> <span m="2106440">people</span> <span m="2106710">transmitting</span> <span m="2107220">data,</span> <span m="2107880">sharing</span> <span m="2108330">this</span> <span m="2109020">bottleneck.</span> <span m="2109750">So</span> <span m="2109890">you</span> <span m="2110010">can</span> <span m="2110130">have</span> <span m="2110220">multiple</span> <span m="2110640">set</span> <span m="2110790">senders</span> <span m="2111210">to</span> <span m="2111330">multiple</span> <span m="2111660">receivers,</span> <span m="2112140">and</span> <span m="2112230">they'll</span> <span m="2112400">all</span> <span m="2112510">share</span> <span m="2113430">this</span> <span m="2113670">link</span> <span m="2113910">in</span> <span m="2114000">some</span> <span m="2114210">way.</span> <span m="2114830">And</span> <span m="2115260">for</span> <span m="2115500">now,</span> <span m="2115860">today,</span> <span m="2116460">all</span> <span m="2116700">I'll</span> <span m="2116880">assume</span> <span m="2117150">is</span> <span m="2117240">that</span> <span m="2117360">there's</span> <span m="2117540">one</span> <span m="2118020">user</span> <span m="2118470">of</span> <span m="2118590">the</span> <span m="2118680">network.</span> <span m="2119050">It's</span> <span m="2119310">not</span> <span m="2119610">hard</span> <span m="2119880">to</span> <span m="2120120">extend</span> <span m="2120570">the</span> <span m="2120660">same</span> <span m="2120990">calculation</span> <span m="2122040">to</span> <span m="2122190">multiple</span> <span m="2122550">users.</span> </p>
<p><span m="2123780">And</span> <span m="2123960">the</span> <span m="2124050">question</span> <span m="2124410">is,</span> <span m="2124990">what</span> <span m="2125130">is</span> <span m="2125250">the</span> <span m="2125310">throughput</span> <span m="2125850">in</span> <span m="2126060">terms</span> <span m="2126330">of</span> <span m="2126420">the</span> <span m="2126510">window</span> <span m="2126750">size</span> <span m="2129910">and</span> <span m="2130240">in</span> <span m="2130300">terms</span> <span m="2130510">of</span> <span m="2130570">these</span> <span m="2130720">other</span> <span m="2130900">things?</span> <span m="2131240">Now,</span> <span m="2133870">in</span> <span m="2134140">order</span> <span m="2134320">to</span> <span m="2134650">answer</span> <span m="2135070">this</span> <span m="2135250">question,</span> <span m="2135790">it'll</span> <span m="2136090">turn</span> <span m="2136300">out</span> <span m="2136450">that</span> <span m="2136600">the</span> <span m="2136660">throughput</span> <span m="2136970">depends</span> <span m="2137290">on</span> <span m="2137380">the</span> <span m="2137440">window</span> <span m="2137680">size,</span> <span m="2137950">and</span> <span m="2138070">also</span> <span m="2138370">on</span> <span m="2138460">the</span> <span m="2138520">round-trip</span> <span m="2138880">time,</span> <span m="2139420">and</span> <span m="2139690">also</span> <span m="2139960">on</span> <span m="2140080">the</span> <span m="2140140">loss</span> <span m="2140440">rate,</span> <span m="2141100">and</span> <span m="2141400">also</span> <span m="2141850">on--</span> <span m="2144430">in</span> <span m="2145990">a</span> <span m="2146050">certain</span> <span m="2146320">mode,</span> <span m="2146530">it</span> <span m="2146620">will</span> <span m="2146740">depend</span> <span m="2147010">on</span> <span m="2147130">c.</span> <span m="2147340">It</span> <span m="2147430">can't</span> <span m="2147640">exceed</span> <span m="2147950">c.</span> <span m="2148880">OK?</span> </p>
<p><span m="2150580">But</span> <span m="2150790">in</span> <span m="2150880">order</span> <span m="2151060">to</span> <span m="2151180">understand</span> <span m="2151780">how</span> <span m="2151960">to</span> <span m="2152050">solve</span> <span m="2152380">these</span> <span m="2152560">kinds</span> <span m="2152800">of</span> <span m="2152860">questions,</span> <span m="2153730">there's</span> <span m="2153880">a</span> <span m="2153940">more</span> <span m="2154120">general</span> <span m="2154450">result</span> <span m="2154780">that's</span> <span m="2154960">more</span> <span m="2155170">widely</span> <span m="2155470">applicable,</span> <span m="2155950">called</span> <span m="2156100">Little's</span> <span m="2156430">Law,</span> <span m="2156970">which</span> <span m="2157210">I</span> <span m="2157270">want</span> <span m="2157400">to</span> <span m="2157600">tell</span> <span m="2157780">you</span> <span m="2157870">about.</span> <span m="2158410">So</span> <span m="2158590">Little's</span> <span m="2158920">Law</span> <span m="2159130">applies</span> <span m="2159940">to</span> <span m="2160150">any</span> <span m="2160420">queuing</span> <span m="2160780">system.</span> <span m="2161290">It</span> <span m="2161530">applies</span> <span m="2161800">to</span> <span m="2161920">any</span> <span m="2162130">system</span> <span m="2162580">where</span> <span m="2163240">there's</span> <span m="2163450">some</span> <span m="2163660">big</span> <span m="2163840">black</span> <span m="2164140">box</span> <span m="2164470">here,</span> <span m="2166000">and</span> <span m="2166150">the</span> <span m="2166240">black</span> <span m="2166480">box</span> <span m="2166840">has</span> <span m="2167500">a</span> <span m="2167860">queue</span> <span m="2168100">sitting</span> <span m="2168370">inside</span> <span m="2168730">it,</span> <span m="2171550">and</span> <span m="2172150">the</span> <span m="2172300">queue</span> <span m="2172570">drains</span> <span m="2173050">at</span> <span m="2173170">some</span> <span m="2173410">rate.</span> </p>
<p><span m="2174760">So</span> <span m="2175000">you</span> <span m="2175120">have</span> <span m="2175270">a</span> <span m="2175330">queue</span> <span m="2175540">sitting</span> <span m="2175810">here.</span> <span m="2176200">Things</span> <span m="2176500">arrive</span> <span m="2176800">into</span> <span m="2177010">the</span> <span m="2177070">queue.</span> <span m="2179590">I'll</span> <span m="2179830">call</span> <span m="2180040">that</span> <span m="2180520">the</span> <span m="2180730">arrival</span> <span m="2181150">process,</span> <span m="2184430">which</span> <span m="2184570">I'll</span> <span m="2184670">represent</span> <span m="2185090">by</span> <span m="2185260">A.</span> <span m="2185950">And</span> <span m="2186190">then</span> <span m="2186340">things</span> <span m="2186640">come</span> <span m="2186820">out</span> <span m="2187000">of</span> <span m="2187090">the</span> <span m="2187180">queue,</span> <span m="2187750">according</span> <span m="2188200">to</span> <span m="2188320">some</span> <span m="2188560">service</span> <span m="2189010">process,</span> <span m="2189590">which</span> <span m="2189670">I'll</span> <span m="2189760">represent</span> <span m="2190270">by</span> <span m="2191146">S.</span> <span m="2196240">By</span> <span m="2196390">the</span> <span m="2196450">way,</span> <span m="2196570">Little</span> <span m="2196810">is</span> <span m="2196930">a</span> <span m="2196990">professor</span> <span m="2197410">at</span> <span m="2197500">MIT.</span> <span m="2198110">I</span> <span m="2198220">think</span> <span m="2198400">he</span> <span m="2198490">wrote</span> <span m="2199600">this</span> <span m="2199990">result,</span> <span m="2200390">this</span> <span m="2200620">law.</span> <span m="2201670">Well,</span> <span m="2202150">I</span> <span m="2202390">don't</span> <span m="2202510">think</span> <span m="2202690">he</span> <span m="2202780">called</span> <span m="2203040">it</span> <span m="2203150">Little's</span> <span m="2203360">Law,</span> <span m="2203590">but</span> <span m="2204540">other people</span> <span m="2204920">did.</span> <span m="2207910">So</span> <span m="2208150">he</span> <span m="2208270">did</span> <span m="2208450">this</span> <span m="2208600">work,</span> <span m="2208870">I</span> <span m="2208930">think,</span> <span m="2209080">in</span> <span m="2209170">the</span> <span m="2209230">1950s.</span> </p>
<p><span m="2210130">And</span> <span m="2211180">what's</span> <span m="2211510">beautiful</span> <span m="2211900">about</span> <span m="2212170">this</span> <span m="2212920">result</span> <span m="2213370">is</span> <span m="2213520">that</span> <span m="2213670">it</span> <span m="2213790">relates</span> <span m="2216130">three</span> <span m="2216340">parameters.</span> <span m="2216910">It</span> <span m="2217030">relates</span> <span m="2217810">the--</span> <span m="2219280">I'll</span> <span m="2219520">call</span> <span m="2219700">it</span> <span m="2219820">N.</span> <span m="2220150">It</span> <span m="2220390">relates</span> <span m="2220780">N,</span> <span m="2221200">the</span> <span m="2221410">average</span> <span m="2221950">number</span> <span m="2222340">of</span> <span m="2222460">items</span> <span m="2222880">that</span> <span m="2223030">you</span> <span m="2223150">have</span> <span m="2223420">in</span> <span m="2223570">this</span> <span m="2224020">system,</span> <span m="2224980">in</span> <span m="2225190">the</span> <span m="2225280">queue,</span> <span m="2225670">or</span> <span m="2225820">in</span> <span m="2225910">this</span> <span m="2226090">black</span> <span m="2226360">box.</span> <span m="2227750">It</span> <span m="2227890">relates</span> <span m="2228340">that</span> <span m="2228790">to</span> <span m="2229000">the</span> <span m="2229090">service</span> <span m="2229540">rate</span> <span m="2230410">and</span> <span m="2230920">to</span> <span m="2231100">the</span> <span m="2231220">average</span> <span m="2231670">delay</span> <span m="2232120">experienced</span> <span m="2233170">by</span> <span m="2233950">an</span> <span m="2234220">item</span> <span m="2234610">that</span> <span m="2234790">sits</span> <span m="2235030">inside</span> <span m="2235360">this</span> <span m="2235480">black</span> <span m="2235750">box.</span> </p>
<p><span m="2237850">So</span> <span m="2238090">let</span> <span m="2238240">me</span> <span m="2238360">relate</span> <span m="2238720">the</span> <span m="2238810">three</span> <span m="2239020">again.</span> <span m="2239530">It</span> <span m="2239770">relates</span> <span m="2241240">N,</span> <span m="2242290">which</span> <span m="2242560">is</span> <span m="2242650">the</span> <span m="2242740">average</span> <span m="2243130">number,</span> <span m="2246370">to</span> <span m="2247990">D,</span> <span m="2248590">which</span> <span m="2248920">is</span> <span m="2249280">the</span> <span m="2249670">average</span> <span m="2250150">delay--</span> <span m="2251450">so</span> <span m="2251530">I'm</span> <span m="2251650">going</span> <span m="2251770">to</span> <span m="2251830">put</span> <span m="2252010">a</span> <span m="2252220">bar</span> <span m="2252640">above</span> <span m="2252940">the</span> <span m="2253060">fact</span> <span m="2253300">that</span> <span m="2253450">it's</span> <span m="2253570">an</span> <span m="2253660">average--</span> <span m="2255280">to</span> <span m="2256510">lambda,</span> <span m="2257530">which</span> <span m="2257830">is</span> <span m="2258040">the</span> <span m="2259270">average</span> <span m="2259810">rate.</span> <span m="2262510">Now,</span> <span m="2262930">the</span> <span m="2263080">result</span> <span m="2263440">applies</span> <span m="2263830">to</span> <span m="2263950">a</span> <span m="2264010">stable</span> <span m="2264460">system.</span> <span m="2264980">What</span> <span m="2265060">that</span> <span m="2265210">means</span> <span m="2265510">is</span> <span m="2265630">it</span> <span m="2265810">applies</span> <span m="2266200">to</span> <span m="2266320">a</span> <span m="2266380">system</span> <span m="2266830">where</span> <span m="2267070">the</span> <span m="2267190">queue</span> <span m="2267430">doesn't</span> <span m="2267730">grow</span> <span m="2267970">unbounded</span> <span m="2268510">to</span> <span m="2268660">infinity.</span> </p>
<p><span m="2270200">In</span> <span m="2270370">other</span> <span m="2270490">words,</span> <span m="2270800">it</span> <span m="2270900">applies</span> <span m="2271120">to</span> <span m="2271240">a</span> <span m="2271300">system</span> <span m="2271690">where</span> <span m="2272320">the</span> <span m="2272500">service</span> <span m="2273010">rate--</span> <span m="2273310">if</span> <span m="2273730">the</span> <span m="2273850">arrivals</span> <span m="2274330">are</span> <span m="2274450">persistently</span> <span m="2275110">bigger</span> <span m="2275440">than</span> <span m="2275620">the</span> <span m="2275680">service,</span> <span m="2276640">then</span> <span m="2277000">it</span> <span m="2277090">doesn't</span> <span m="2277300">matter</span> <span m="2277540">what</span> <span m="2277690">you</span> <span m="2277780">do.</span> <span m="2277870">The</span> <span m="2277960">queue</span> <span m="2278110">is</span> <span m="2278230">going</span> <span m="2278380">to</span> <span m="2278440">grow</span> <span m="2278590">to</span> <span m="2278650">infinity,</span> <span m="2279220">and</span> <span m="2279400">the</span> <span m="2279460">delay</span> <span m="2279700">is</span> <span m="2279790">going</span> <span m="2279940">to</span> <span m="2280000">grow</span> <span m="2280150">to</span> <span m="2280210">infinity,</span> <span m="2281890">and</span> <span m="2282530">N</span> <span m="2282730">is</span> <span m="2282850">going</span> <span m="2283000">to</span> <span m="2283060">grow</span> <span m="2283210">to</span> <span m="2283270">infinity.</span> <span m="2283800">So</span> <span m="2283840">you're</span> <span m="2283930">going</span> <span m="2284050">to</span> <span m="2284140">get</span> <span m="2285500">a</span> <span m="2285940">relationship</span> <span m="2286480">that's</span> <span m="2286660">not</span> <span m="2286900">of much</span> <span m="2287110">practical</span> <span m="2287560">use.</span> </p>
<p><span m="2288490">But</span> <span m="2288700">otherwise,</span> <span m="2289300">if</span> <span m="2289450">the</span> <span m="2289570">rate</span> <span m="2289870">at</span> <span m="2289960">which</span> <span m="2290200">things</span> <span m="2290500">come</span> <span m="2290680">out</span> <span m="2290860">of</span> <span m="2290950">the</span> <span m="2291010">system,</span> <span m="2291520">in</span> <span m="2291700">a</span> <span m="2291760">stable</span> <span m="2292090">system,</span> <span m="2292420">is</span> <span m="2292510">lambda--</span> <span m="2294040">which,</span> <span m="2294280">if</span> <span m="2294340">it's</span> <span m="2294460">a</span> <span m="2294490">stable</span> <span m="2294820">system,</span> <span m="2295150">the</span> <span m="2295210">rate</span> <span m="2295390">at</span> <span m="2295480">which</span> <span m="2295690">things</span> <span m="2295960">enter</span> <span m="2296200">the</span> <span m="2296290">system</span> <span m="2296650">can't</span> <span m="2296890">exceed</span> <span m="2297220">it</span> <span m="2297340">either.</span> <span m="2298240">But</span> <span m="2299950">it</span> <span m="2300160">relates</span> <span m="2300730">the</span> <span m="2300910">service</span> <span m="2301240">rate</span> <span m="2301570">lambda</span> <span m="2301900">for</span> <span m="2302080">a</span> <span m="2302110">stable</span> <span m="2302470">system</span> <span m="2302830">that</span> <span m="2302950">doesn't</span> <span m="2303190">grow</span> <span m="2303370">unbounded</span> <span m="2304090">to</span> <span m="2304330">N</span> <span m="2304750">entity.</span> <span m="2305860">OK?</span> <span m="2307920">So</span> <span m="2308160">let</span> <span m="2308310">me</span> <span m="2308520">give</span> <span m="2308880">this</span> <span m="2309150">first</span> <span m="2309510">by</span> <span m="2309720">example.</span> </p>
<p><span m="2311420">How</span> <span m="2311540">many</span> <span m="2311970">of</span> <span m="2312030">you</span> <span m="2312150">guys</span> <span m="2312390">have</span> <span m="2312480">used</span> <span m="2312690">the</span> <span m="2312780">food</span> <span m="2313020">truck?</span> <span m="2314700">All</span> <span m="2314880">right,</span> <span m="2315090">so</span> <span m="2315390">last</span> <span m="2315750">week,</span> <span m="2316680">I</span> <span m="2316800">did</span> <span m="2316980">a</span> <span m="2317040">little</span> <span m="2317280">experiment</span> <span m="2317820">there.</span> <span m="2318360">And</span> <span m="2318630">I</span> <span m="2318720">found</span> <span m="2319050">that--</span> <span m="2319380">this</span> <span m="2319560">is</span> <span m="2319680">all</span> <span m="2319800">real</span> <span m="2320070">data.</span> <span m="2320670">I</span> <span m="2320910">found</span> <span m="2321210">that,</span> <span m="2321540">at</span> <span m="2321660">least</span> <span m="2322160">the</span> <span m="2322770">[? Thai ?]</span> <span m="2323070">truck,</span> <span m="2326310">they</span> <span m="2327180">seem</span> <span m="2327420">to</span> <span m="2327720">take</span> <span m="2327990">about</span> <span m="2328170">20</span> <span m="2328440">seconds</span> <span m="2328890">per</span> <span m="2330330">person,</span> <span m="2331110">on</span> <span m="2331350">average.</span> <span m="2331890">OK?</span> </p>
<p><span m="2338880">And</span> <span m="2339150">when</span> <span m="2339300">I</span> <span m="2339420">showed</span> <span m="2339690">up</span> <span m="2339810">there--</span> <span m="2340170">and this</span> <span m="2340320">wasn't</span> <span m="2340590">an</span> <span m="2340710">average</span> <span m="2341010">calculation.</span> <span m="2341580">But</span> <span m="2341730">I</span> <span m="2341820">showed</span> <span m="2342030">up</span> <span m="2342120">there,</span> <span m="2342360">and</span> <span m="2342450">there</span> <span m="2342570">were</span> <span m="2342660">20</span> <span m="2342900">people</span> <span m="2343170">ahead</span> <span m="2343320">of</span> <span m="2343410">me</span> <span m="2343530">in</span> <span m="2343650">the line.</span> <span m="2352195">And</span> <span m="2352690">the</span> <span m="2352900">question,</span> <span m="2353360">of</span> <span m="2353460">course,</span> <span m="2353720">is</span> <span m="2353770">I</span> <span m="2354010">don't</span> <span m="2354190">care</span> <span m="2354370">how</span> <span m="2354430">many</span> <span m="2354610">people</span> <span m="2354880">there</span> <span m="2355030">are</span> <span m="2355300">in line.</span> <span m="2355480">What</span> <span m="2355630">I</span> <span m="2355660">care</span> <span m="2355840">about</span> <span m="2356050">is,</span> <span m="2356140">how</span> <span m="2356230">long</span> <span m="2357070">do</span> <span m="2357280">I</span> <span m="2357370">have</span> <span m="2357490">to</span> <span m="2357580">wait?</span> </p>
<p><span m="2358490">Assuming</span> <span m="2358960">that</span> <span m="2359110">the</span> <span m="2359140">random</span> <span m="2359470">sample</span> <span m="2359830">I</span> <span m="2359890">did</span> <span m="2360100">was</span> <span m="2360220">the</span> <span m="2360340">average,</span> <span m="2360710">which</span> <span m="2361100">who</span> <span m="2361240">knows</span> <span m="2361450">if</span> <span m="2361510">it</span> <span m="2361600">was</span> <span m="2361900">or</span> <span m="2361990">not,</span> <span m="2364720">looking</span> <span m="2365320">at</span> <span m="2365440">these</span> <span m="2365650">two</span> <span m="2365800">numbers,</span> <span m="2366640">what's</span> <span m="2366940">the</span> <span m="2367030">waiting</span> <span m="2367330">time?</span> <span m="2367750">In</span> <span m="2367960">other</span> <span m="2368110">words,</span> <span m="2368390">what's</span> <span m="2368560">D?</span> <span m="2372060">10</span> <span m="2372300">minutes?</span> <span m="2373740">Is</span> <span m="2373950">it?</span> <span m="2374550">I</span> <span m="2374640">didn't</span> <span m="2374790">wait</span> <span m="2374970">10</span> <span m="2375150">minutes.</span> <span m="2375760">How</span> <span m="2375870">do</span> <span m="2375930">you</span> <span m="2376020">get</span> <span m="2376140">10?</span> </p>
<p><span m="2377394">AUDIENCE:</span> <span m="2377640">[INAUDIBLE]</span> </p>
<p><span m="2378870">HARI BALAKRISHNAN:</span> <span m="2378990">I</span> <span m="2379110">see.</span> <span m="2379320">It</span> <span m="2379440">might</span> <span m="2379620">be.</span> <span m="2379870">So</span> <span m="2379890">I</span> <span m="2379980">got</span> <span m="2380130">30.</span> <span m="2380880">So</span> <span m="2381030">I</span> <span m="2381120">had</span> <span m="2381240">it</span> <span m="2381310">as 20.</span> <span m="2381470">All</span> <span m="2381630">right,</span> <span m="2382080">it</span> <span m="2382180">might</span> <span m="2382230">be</span> <span m="2382320">10.</span> <span m="2382560">Why</span> <span m="2382710">is</span> <span m="2382810">it</span> <span m="2382890">10?</span> <span m="2386520">How</span> <span m="2387150">do</span> <span m="2387210">you</span> <span m="2387270">conclude</span> <span m="2387600">that</span> <span m="2387720">it</span> <span m="2387780">was</span> <span m="2387930">10?</span> <span m="2391070">Who</span> <span m="2391250">said</span> <span m="2391460">10?</span> </p>
<p><span m="2391730">AUDIENCE:</span> <span m="2391962">[INAUDIBLE]</span> </p>
<p><span m="2392660">HARI BALAKRISHNAN:</span> <span m="2392855">Why?</span> </p>
<p><span m="2393050">AUDIENCE:</span> <span m="2393296">Well,</span> <span m="2393542">so it'd</span> <span m="2394034">be like,</span> <span m="2394526">[? if you have ?]</span> <span m="2395018">30 people,</span> <span m="2395510">then you</span> <span m="2396002">have</span> <span m="2396494">[INAUDIBLE]</span> <span m="2397478">[? per person ?]</span> <span m="2397970">[INAUDIBLE].</span> </p>
<p><span m="2399450">HARI BALAKRISHNAN:</span> <span m="2399630">Yeah.</span> <span m="2400650">Right.</span> <span m="2401100">So</span> <span m="2401850">what</span> <span m="2402180">this</span> <span m="2402360">says--</span> <span m="2402600">what</span> <span m="2402750">you</span> <span m="2402840">did</span> <span m="2403050">was</span> <span m="2403200">you</span> <span m="2403290">just</span> <span m="2403440">said</span> <span m="2403650">that</span> <span m="2403800">D</span> <span m="2404010">must</span> <span m="2404220">be</span> <span m="2404340">equal</span> <span m="2404650">to</span> <span m="2404700">N</span> <span m="2404940">over</span> <span m="2405300">lambda,</span> <span m="2406770">right?</span> <span m="2407250">Or</span> <span m="2407580">N</span> <span m="2407910">is lambda</span> <span m="2408480">times</span> <span m="2408780">D.</span> <span m="2409120">So</span> <span m="2409200">if</span> <span m="2409290">you</span> <span m="2409410">say</span> <span m="2409590">that</span> <span m="2409740">it's</span> <span m="2410100">20</span> <span m="2410400">seconds</span> <span m="2410730">per</span> <span m="2410880">person,</span> <span m="2411330">is</span> <span m="2412470">3</span> <span m="2412710">people</span> <span m="2413010">per</span> <span m="2413190">minute.</span> <span m="2413950">So</span> <span m="2414090">what</span> <span m="2414240">you</span> <span m="2414300">do</span> <span m="2414450">is</span> <span m="2414570">you</span> <span m="2414870">do</span> <span m="2414990">30</span> <span m="2415290">people</span> <span m="2415620">divided</span> <span m="2415980">by</span> <span m="2416610">3 per</span> <span m="2417030">minute.</span> <span m="2418110">And</span> <span m="2418320">so</span> <span m="2418440">you</span> <span m="2418530">get</span> <span m="2418680">10</span> <span m="2418890">minutes.</span> <span m="2422260">So</span> <span m="2422370">that's</span> <span m="2422520">about</span> <span m="2422730">right.</span> <span m="2424110">That</span> <span m="2424290">is</span> <span m="2424410">exactly right.</span> </p>
<p><span m="2424870">So</span> <span m="2424950">Little's</span> <span m="2425250">Law</span> <span m="2425430">just</span> <span m="2425640">tells</span> <span m="2425970">you</span> <span m="2426420">that</span> <span m="2427290">the</span> <span m="2428250">average</span> <span m="2428760">number</span> <span m="2429030">of</span> <span m="2429120">items</span> <span m="2429540">in</span> <span m="2429660">a</span> <span m="2429720">system--</span> <span m="2430080">this</span> <span m="2430230">is</span> <span m="2430290">all</span> <span m="2430650">applicable</span> <span m="2431130">to</span> <span m="2431220">various</span> <span m="2431640">conditions</span> <span m="2432120">on</span> <span m="2432270">stable</span> <span m="2432630">systems,</span> <span m="2433120">and</span> <span m="2433140">so</span> <span m="2433320">forth--</span> <span m="2434460">it</span> <span m="2434640">says</span> <span m="2434910">the</span> <span m="2435030">average</span> <span m="2435450">number</span> <span m="2435780">of</span> <span m="2435900">items,</span> <span m="2436410">or</span> <span m="2436560">packets,</span> <span m="2437100">or</span> <span m="2437220">people,</span> <span m="2437790">or</span> <span m="2438330">whatever,</span> <span m="2439680">is</span> <span m="2439980">equal</span> <span m="2440340">to</span> <span m="2440670">the</span> <span m="2440790">product</span> <span m="2441180">of</span> <span m="2441300">the</span> <span m="2441360">rate</span> <span m="2441630">at</span> <span m="2441750">which</span> <span m="2442470">the</span> <span m="2442650">system is</span> <span m="2443020">servicing</span> <span m="2443580">them</span> <span m="2443760">multiplied</span> <span m="2444330">by</span> <span m="2444480">the</span> <span m="2444600">average</span> <span m="2444990">delay</span> <span m="2445260">that</span> <span m="2445410">they</span> <span m="2445530">experience.</span> <span m="2446400">So</span> <span m="2446640">knowing</span> <span m="2446940">two</span> <span m="2447120">of</span> <span m="2447240">them,</span> <span m="2447390">you</span> <span m="2447510">can</span> <span m="2447660">calculate</span> <span m="2448080">the</span> <span m="2448170">third.</span> </p>
<p><span m="2448650">And</span> <span m="2448890">what's</span> <span m="2449290">truly,</span> <span m="2449860">truly</span> <span m="2450120">remarkable</span> <span m="2450690">about</span> <span m="2450900">the</span> <span m="2450990">result</span> <span m="2451650">is</span> <span m="2451920">that</span> <span m="2452130">it</span> <span m="2452250">applies</span> <span m="2453150">to</span> <span m="2453420">anything</span> <span m="2454230">that</span> <span m="2454440">you</span> <span m="2454560">do</span> <span m="2454800">in</span> <span m="2454920">the</span> <span m="2455010">system.</span> <span m="2455670">Packets</span> <span m="2456120">could</span> <span m="2456270">arrive,</span> <span m="2456630">or</span> <span m="2456750">jobs</span> <span m="2457110">could</span> <span m="2457260">arrive,</span> <span m="2457500">or</span> <span m="2457590">people</span> <span m="2457860">could</span> <span m="2458010">arrive,</span> <span m="2458310">in</span> <span m="2458520">some</span> <span m="2458760">arbitrary</span> <span m="2459240">distribution.</span> <span m="2460320">They</span> <span m="2460560">could</span> <span m="2460710">be</span> <span m="2460800">serviced</span> <span m="2461220">according</span> <span m="2461490">to</span> <span m="2461580">some</span> <span m="2461790">completely</span> <span m="2462300">arbitrary</span> <span m="2462720">distribution.</span> </p>
<p><span m="2463920">They</span> <span m="2464100">don't</span> <span m="2464280">have</span> <span m="2464400">to</span> <span m="2464490">be</span> <span m="2464580">serviced</span> <span m="2464970">in</span> <span m="2465060">the</span> <span m="2465150">order</span> <span m="2465420">in</span> <span m="2465540">which</span> <span m="2465720">they</span> <span m="2465840">arrive.</span> <span m="2466240">They</span> <span m="2466350">could</span> <span m="2466500">be</span> <span m="2466860">shuffled</span> <span m="2467190">around.</span> <span m="2467790">You</span> <span m="2468000">could</span> <span m="2468150">make</span> <span m="2468330">it</span> <span m="2468420">so</span> <span m="2468630">people</span> <span m="2469980">who</span> <span m="2470070">come</span> <span m="2470220">in</span> <span m="2470310">last</span> <span m="2470670">get</span> <span m="2470850">serviced</span> <span m="2471210">first.</span> <span m="2471540">You</span> <span m="2471630">could</span> <span m="2471720">do</span> <span m="2471840">whatever,</span> <span m="2472500">and</span> <span m="2472710">the</span> <span m="2472800">result</span> <span m="2473100">still</span> <span m="2473340">applies.</span> <span m="2474390">Yes?</span> </p>
<p><span m="2474720">AUDIENCE:</span> <span m="2474962">[INAUDIBLE]</span> <span m="2475690">delay</span> <span m="2476175">[INAUDIBLE]?</span> </p>
<p><span m="2481510">HARI BALAKRISHNAN:</span> <span m="2481712">No.</span> <span m="2482320">Well,</span> <span m="2482680">I</span> <span m="2482830">kind</span> <span m="2483010">of</span> <span m="2483070">cheated</span> <span m="2483430">here</span> <span m="2483640">a</span> <span m="2483700">little</span> <span m="2483910">bit.</span> <span m="2484300">This</span> <span m="2484510">is</span> <span m="2484630">20</span> <span m="2484900">seconds</span> <span m="2485320">per</span> <span m="2485530">person.</span> <span m="2486250">But</span> <span m="2486460">whenever</span> <span m="2486820">I</span> <span m="2486910">tell</span> <span m="2487090">you</span> <span m="2487150">a</span> <span m="2487210">number</span> <span m="2487480">like</span> <span m="2487660">that,</span> <span m="2487960">what</span> <span m="2488230">this</span> <span m="2488410">really</span> <span m="2488710">says,</span> <span m="2489190">that</span> <span m="2489460">this</span> <span m="2489670">is</span> <span m="2490060">3</span> <span m="2490330">people</span> <span m="2490690">per</span> <span m="2490900">minute.</span> <span m="2493850">So</span> <span m="2495040">it</span> <span m="2495160">looks</span> <span m="2495460">like</span> <span m="2495670">a</span> <span m="2495730">delay,</span> <span m="2496060">but</span> <span m="2496240">this</span> <span m="2496390">is</span> <span m="2496510">really</span> <span m="2496840">an</span> <span m="2497080">inverse</span> <span m="2497500">of</span> <span m="2497620">a</span> <span m="2497650">rate</span> <span m="2498090">in</span> <span m="2498380">the way--</span> <span m="2500020">this</span> <span m="2500470">is</span> <span m="2500590">the</span> <span m="2500680">inverse</span> <span m="2501100">of</span> <span m="2501220">the</span> <span m="2501280">rate</span> <span m="2501580">in</span> <span m="2501670">the</span> <span m="2501760">way</span> <span m="2501910">I've</span> <span m="2502060">described</span> <span m="2502315">it.</span> </p>
<p><span m="2504586">I</span> <span m="2504970">mean,</span> <span m="2505120">it's</span> <span m="2505270">intuitive</span> <span m="2505690">to</span> <span m="2505750">say</span> <span m="2505960">they</span> <span m="2506110">take</span> <span m="2506290">20</span> <span m="2506530">seconds</span> <span m="2507370">per</span> <span m="2507640">person.</span> <span m="2508360">But</span> <span m="2508570">when</span> <span m="2508720">I</span> <span m="2508780">tell</span> <span m="2508990">you</span> <span m="2509080">that</span> <span m="2509230">it</span> <span m="2509320">takes</span> <span m="2509530">20</span> <span m="2509770">seconds</span> <span m="2510160">per</span> <span m="2510370">packet</span> <span m="2510760">or</span> <span m="2510850">20</span> <span m="2511060">seconds</span> <span m="2511360">per</span> <span m="2511450">person,</span> <span m="2512090">it</span> <span m="2512230">looks</span> <span m="2512440">like</span> <span m="2512590">a</span> <span m="2512650">delay.</span> <span m="2512860">But</span> <span m="2512980">it's</span> <span m="2513100">really</span> <span m="2513370">a</span> <span m="2513430">rate.</span> <span m="2514720">So</span> <span m="2514930">it's</span> <span m="2515020">important.</span> <span m="2515350">That's</span> <span m="2515470">a</span> <span m="2515500">good</span> <span m="2515650">question.</span> <span m="2516320">Yeah,</span> <span m="2516620">so</span> <span m="2516730">this</span> <span m="2516910">is a</span> <span m="2517100">rate.</span> <span m="2517390">So</span> <span m="2517600">this</span> <span m="2517810">is</span> <span m="2518770">inverse</span> <span m="2519340">time.</span> <span m="2520300">And</span> <span m="2520540">this</span> <span m="2520720">is</span> <span m="2520870">whatever</span> <span m="2521170">quantity</span> <span m="2521560">you're</span> <span m="2521680">dealing</span> <span m="2521920">with.</span> <span m="2522200">So</span> <span m="2522250">if</span> <span m="2522340">you</span> <span m="2522430">then</span> <span m="2522610">take</span> <span m="2522850">the</span> <span m="2522940">ratio</span> <span m="2523300">of</span> <span m="2523420">N</span> <span m="2523630">to</span> <span m="2523750">lambda,</span> <span m="2524200">you</span> <span m="2524350">get</span> <span m="2524710">time.</span> </p>
<p><span m="2527900">OK,</span> <span m="2528410">so</span> <span m="2528650">why</span> <span m="2528890">is</span> <span m="2529010">Little's</span> <span m="2529290">Law</span> <span m="2529490">true?</span> <span m="2529950">So</span> <span m="2530090">here's</span> <span m="2530420">a</span> <span m="2530510">very</span> <span m="2530720">simple</span> <span m="2531020">pictorially</span> <span m="2531620">proof</span> <span m="2532490">of</span> <span m="2533120">Little's</span> <span m="2533450">Law.</span> <span m="2533960">And</span> <span m="2534350">it</span> <span m="2534440">applies</span> <span m="2534800">under</span> <span m="2535400">specific</span> <span m="2535940">conditions.</span> <span m="2536480">But</span> <span m="2536660">it</span> <span m="2536750">turns</span> <span m="2536990">out</span> <span m="2537110">these</span> <span m="2537260">conditions</span> <span m="2537680">are</span> <span m="2537770">good</span> <span m="2537920">enough</span> <span m="2538130">for</span> <span m="2538400">our</span> <span m="2539150">use.</span> </p>
<p><span m="2539880">So</span> <span m="2540020">let's</span> <span m="2540200">say</span> <span m="2540350">we</span> <span m="2540470">draw</span> <span m="2540710">a</span> <span m="2540740">picture</span> <span m="2541100">like</span> <span m="2541250">this</span> <span m="2541550">of</span> <span m="2541730">a</span> <span m="2541760">queue.</span> <span m="2542190">So</span> <span m="2542240">I'm</span> <span m="2542330">going</span> <span m="2542450">to</span> <span m="2542510">assume</span> <span m="2542780">that</span> <span m="2542950">packets</span> <span m="2543380">enter</span> <span m="2543620">the</span> <span m="2543710">queue</span> <span m="2544160">and</span> <span m="2544400">leave</span> <span m="2544580">the</span> <span m="2544640">queue.</span> <span m="2544830">Now,</span> <span m="2545240">the</span> <span m="2545390">fact</span> <span m="2545660">that</span> <span m="2545750">there's</span> <span m="2545930">a</span> <span m="2545960">single</span> <span m="2546260">queue,</span> <span m="2546500">versus</span> <span m="2546830">not</span> <span m="2547010">a</span> <span m="2547040">queue,</span> <span m="2547220">doesn't</span> <span m="2547460">matter.</span> <span m="2547790">It's</span> <span m="2548000">any</span> <span m="2548180">black</span> <span m="2548450">box.</span> <span m="2548750">So</span> <span m="2548850">p.packets</span> <span m="2549230">could</span> <span m="2549440">get--</span> <span m="2549710">or</span> <span m="2550280">information</span> <span m="2550970">or</span> <span m="2551090">messages</span> <span m="2551690">or</span> <span m="2553340">items</span> <span m="2553880">could</span> <span m="2554060">get</span> <span m="2554240">sent</span> <span m="2554540">from</span> <span m="2554720">the</span> <span m="2554810">sender.</span> <span m="2555440">They</span> <span m="2555650">enter</span> <span m="2555920">a</span> <span m="2555950">black</span> <span m="2556250">box,</span> <span m="2556610">and</span> <span m="2556700">they</span> <span m="2556790">get</span> <span m="2557000">stuck</span> <span m="2557420">out</span> <span m="2557620">at</span> <span m="2557700">the</span> <span m="2557810">receiver.</span> <span m="2558470">And</span> <span m="2558800">the</span> <span m="2558860">thing</span> <span m="2560060">applies</span> <span m="2560510">to</span> <span m="2560630">that</span> <span m="2560780">as</span> <span m="2560900">well.</span> </p>
<p><span m="2562200">So</span> <span m="2562310">let</span> <span m="2562460">me</span> <span m="2562580">plot</span> <span m="2563240">the</span> <span m="2563420">number</span> <span m="2563690">of</span> <span m="2563780">packets</span> <span m="2564170">in</span> <span m="2564350">the</span> <span m="2564410">queue,</span> <span m="2565010">or</span> <span m="2565220">the</span> <span m="2565310">number</span> <span m="2565490">of</span> <span m="2565580">items</span> <span m="2565910">in</span> <span m="2566000">the</span> <span m="2566060">queue,</span> <span m="2566570">as</span> <span m="2566870">a</span> <span m="2566900">function</span> <span m="2567230">of</span> <span m="2567350">time.</span> <span m="2567900">So</span> <span m="2568010">I'm</span> <span m="2568130">going</span> <span m="2568250">to</span> <span m="2568310">assume here</span> <span m="2568730">that</span> <span m="2568880">capital</span> <span m="2569270">T</span> <span m="2569480">is</span> <span m="2569630">extremely</span> <span m="2570080">long.</span> <span m="2571970">Whenever</span> <span m="2572450">I</span> <span m="2572510">deal</span> <span m="2572690">with</span> <span m="2572840">rates,</span> <span m="2573140">I</span> <span m="2573230">have</span> <span m="2573380">to</span> <span m="2573470">look</span> <span m="2573650">at</span> <span m="2573800">what</span> <span m="2573980">happens</span> <span m="2574280">over</span> <span m="2574460">a</span> <span m="2574490">long</span> <span m="2574730">period</span> <span m="2574970">of</span> <span m="2575060">time,</span> <span m="2575420">and</span> <span m="2575540">then</span> <span m="2575690">I</span> <span m="2575780">can</span> <span m="2575930">calculate</span> <span m="2576190">a</span> <span m="2576450">rate.</span> </p>
<p><span m="2577500">So</span> <span m="2578360">you</span> <span m="2578540">can</span> <span m="2578660">see</span> <span m="2578810">that</span> <span m="2579080">what</span> <span m="2579200">I've</span> <span m="2579290">done</span> <span m="2579530">here</span> <span m="2579740">is,</span> <span m="2579860">that</span> <span m="2579980">every</span> <span m="2580160">time</span> <span m="2580310">a</span> <span m="2580370">packet</span> <span m="2580730">arrives</span> <span m="2581090">or</span> <span m="2581200">an</span> <span m="2581540">item</span> <span m="2581780">arrives,</span> <span m="2582620">the</span> <span m="2582740">queue</span> <span m="2583010">increments</span> <span m="2583460">by</span> <span m="2583610">1.</span> <span m="2584210">So</span> <span m="2584600">you</span> <span m="2584690">can</span> <span m="2584840">see</span> <span m="2584990">that</span> <span m="2585110">the y-axis,</span> <span m="2586320">the</span> <span m="2586790">height</span> <span m="2587180">of</span> <span m="2587330">each</span> <span m="2587480">of</span> <span m="2587570">those</span> <span m="2587750">little</span> <span m="2587990">snippets</span> <span m="2588440">here</span> <span m="2588650">is</span> <span m="2588770">1.</span> <span m="2589460">And</span> <span m="2589670">then</span> <span m="2589790">every</span> <span m="2590000">time</span> <span m="2590180">it</span> <span m="2590270">leaves,</span> <span m="2590600">it</span> <span m="2590660">drops</span> <span m="2591020">by</span> <span m="2591200">1.</span> <span m="2591450">So</span> <span m="2591590">you</span> <span m="2591740">get--</span> <span m="2592400">in</span> <span m="2592730">a</span> <span m="2592880">particular</span> <span m="2593510">execution</span> <span m="2594230">of</span> <span m="2595190">whatever</span> <span m="2595490">the</span> <span m="2595580">queue</span> <span m="2595790">does,</span> <span m="2596390">you</span> <span m="2596600">get</span> <span m="2596750">a</span> <span m="2596810">trace</span> <span m="2597110">that</span> <span m="2597230">looks</span> <span m="2597440">like</span> <span m="2597650">this.</span> </p>
<p><span m="2597940">Now,</span> <span m="2597980">of</span> <span m="2598070">course,</span> <span m="2598760">in</span> <span m="2599210">a</span> <span m="2599270">different</span> <span m="2599510">execution,</span> <span m="2600050">the</span> <span m="2600140">details</span> <span m="2600500">might</span> <span m="2600680">be</span> <span m="2600800">different.</span> <span m="2601190">But</span> <span m="2602670">if</span> <span m="2602780">you</span> <span m="2602870">do</span> <span m="2603050">it</span> <span m="2603110">for</span> <span m="2603290">a</span> <span m="2603320">long</span> <span m="2603560">enough</span> <span m="2603770">time,</span> <span m="2604040">you're</span> <span m="2604130">going</span> <span m="2604280">to</span> <span m="2605240">sample</span> <span m="2605990">all</span> <span m="2606290">the</span> <span m="2606350">possible</span> <span m="2606800">evolutions</span> <span m="2607340">of</span> <span m="2607430">this</span> <span m="2607640">thing,</span> <span m="2608090">or</span> <span m="2608300">at</span> <span m="2608360">least</span> <span m="2608510">enough</span> <span m="2608780">of</span> <span m="2608930">it,</span> <span m="2609110">so</span> <span m="2609260">you</span> <span m="2609380">can</span> <span m="2609500">make</span> <span m="2609710">meaningful</span> <span m="2610100">statements.</span> <span m="2610850">So</span> <span m="2611090">whenever</span> <span m="2611390">a</span> <span m="2611450">packet</span> <span m="2611750">arrives,</span> <span m="2612170">I've</span> <span m="2612350">shown</span> <span m="2612590">it</span> <span m="2612650">in</span> <span m="2612770">a</span> <span m="2612800">color.</span> <span m="2613310">And</span> <span m="2613550">I</span> <span m="2613610">think</span> <span m="2613820">I've</span> <span m="2613910">matched</span> <span m="2614240">the</span> <span m="2614330">color</span> <span m="2614660">up</span> <span m="2614840">against</span> <span m="2615230">whenever</span> <span m="2615590">that</span> <span m="2615770">packet</span> <span m="2616100">leaves.</span> </p>
<p><span m="2616700">But</span> <span m="2616940">in</span> <span m="2617030">fact,</span> <span m="2617430">the</span> <span m="2617530">result</span> <span m="2617720">applies--</span> <span m="2618320">this</span> <span m="2618590">particular</span> <span m="2619040">example</span> <span m="2619520">is</span> <span m="2619820">a</span> <span m="2620450">first-in,</span> <span m="2621240">first-out</span> <span m="2621740">queue.</span> <span m="2622040">So</span> <span m="2622220">packets</span> <span m="2622670">leave</span> <span m="2623000">in</span> <span m="2623090">the</span> <span m="2623180">same</span> <span m="2623420">order</span> <span m="2623660">they</span> <span m="2623750">were</span> <span m="2623870">sent.</span> <span m="2624090">But</span> <span m="2624200">that</span> <span m="2624320">doesn't</span> <span m="2624530">have</span> <span m="2624710">to</span> <span m="2624800">be</span> <span m="2624920">true.</span> <span m="2626880">So</span> <span m="2627020">let</span> <span m="2627170">me</span> <span m="2627290">label</span> <span m="2627680">these</span> <span m="2627860">packets</span> <span m="2628460">as</span> <span m="2628640">shown</span> <span m="2628940">here.</span> </p>
<p><span m="2631020">Now,</span> <span m="2631220">what</span> <span m="2631400">I'm</span> <span m="2631520">going</span> <span m="2631700">to</span> <span m="2631790">try</span> <span m="2632000">to</span> <span m="2632120">do</span> <span m="2632330">is</span> <span m="2632510">to</span> <span m="2632630">relate</span> <span m="2633020">the</span> <span m="2633110">rate</span> <span m="2633440">at</span> <span m="2633530">which</span> <span m="2634460">packets</span> <span m="2634910">have</span> <span m="2635030">entered</span> <span m="2635390">or</span> <span m="2635510">left</span> <span m="2635750">the</span> <span m="2635840">queue</span> <span m="2636980">to</span> <span m="2637160">the</span> <span m="2637280">number</span> <span m="2637550">of</span> <span m="2637640">items</span> <span m="2637970">in</span> <span m="2638060">the</span> <span m="2638150">queue</span> <span m="2638840">and</span> <span m="2639110">the</span> <span m="2639230">average</span> <span m="2639620">delay</span> <span m="2640370">experienced</span> <span m="2641030">by</span> <span m="2641180">each</span> <span m="2641510">item</span> <span m="2641840">in the</span> <span m="2642290">queue,</span> <span m="2642740">in this</span> <span m="2642920">pictorially</span> <span m="2643550">proof.</span> <span m="2645860">So</span> <span m="2646310">the</span> <span m="2646430">way</span> <span m="2646580">you</span> <span m="2646700">do</span> <span m="2646820">that</span> <span m="2647000">is</span> <span m="2647150">everything</span> <span m="2647930">has</span> <span m="2648110">to</span> <span m="2648170">do</span> <span m="2648290">with</span> <span m="2648380">the</span> <span m="2648470">fact</span> <span m="2648710">that</span> <span m="2648830">there</span> <span m="2648920">are</span> <span m="2648980">two</span> <span m="2649160">different</span> <span m="2649460">ways</span> <span m="2649910">of</span> <span m="2650090">looking</span> <span m="2650360">at</span> <span m="2650480">the</span> <span m="2650540">area</span> <span m="2650840">under</span> <span m="2651050">this</span> <span m="2651230">curve.</span> <span m="2652310">And</span> <span m="2653270">there's</span> <span m="2653510">two</span> <span m="2653690">different</span> <span m="2653990">ways.</span> <span m="2654480">One</span> <span m="2654560">of</span> <span m="2654650">them</span> <span m="2654830">relates</span> <span m="2655370">to</span> <span m="2655880">the</span> <span m="2656060">rate,</span> <span m="2656630">and</span> <span m="2656900">the</span> <span m="2656990">other</span> <span m="2657290">relates</span> <span m="2657680">to</span> <span m="2657800">the</span> <span m="2657920">average</span> <span m="2658250">delay.</span> <span m="2658550">And</span> <span m="2658670">then</span> <span m="2658820">we're</span> <span m="2658970">going</span> <span m="2659120">to</span> <span m="2659180">say,</span> <span m="2659480">all</span> <span m="2659720">right,</span> <span m="2661700">the</span> <span m="2661910">area</span> <span m="2662150">under</span> <span m="2662300">the</span> <span m="2662360">curve</span> <span m="2662570">is</span> <span m="2662660">the</span> <span m="2662750">same,</span> <span m="2663260">and</span> <span m="2663500">therefore,</span> <span m="2663860">we're</span> <span m="2663950">going</span> <span m="2664070">to</span> <span m="2664130">equate</span> <span m="2664490">two</span> <span m="2664640">numbers.</span> </p>
<p><span m="2665550">So</span> <span m="2665630">the</span> <span m="2665720">first</span> <span m="2665990">thing</span> <span m="2666170">I'm</span> <span m="2666290">going</span> <span m="2666440">to</span> <span m="2666530">do</span> <span m="2666650">is</span> <span m="2666740">I'm</span> <span m="2666830">going</span> <span m="2666950">to</span> <span m="2667010">divide</span> <span m="2667400">this</span> <span m="2667610">up,</span> <span m="2669170">the</span> <span m="2669350">area</span> <span m="2669620">under</span> <span m="2669770">the</span> <span m="2669830">curve,</span> <span m="2670160">and</span> <span m="2670370">divide</span> <span m="2670470">it</span> <span m="2670700">up</span> <span m="2670790">into</span> <span m="2670940">rectangles</span> <span m="2671420">like</span> <span m="2671570">this</span> <span m="2671750">and</span> <span m="2671880">associate</span> <span m="2672620">with</span> <span m="2673010">each</span> <span m="2673310">rectangle</span> <span m="2673880">a</span> <span m="2674030">packet,</span> <span m="2674780">or</span> <span m="2675020">an</span> <span m="2675140">item.</span> <span m="2675810">So</span> <span m="2675890">I'm</span> <span m="2676010">going</span> <span m="2676130">to</span> <span m="2676220">say</span> <span m="2676370">that</span> <span m="2676640">A</span> <span m="2676970">showed</span> <span m="2677240">up</span> <span m="2677390">here,</span> <span m="2677960">and</span> <span m="2678260">it</span> <span m="2678500">left</span> <span m="2678890">at</span> <span m="2678980">that</span> <span m="2679190">point.</span> <span m="2679680">So</span> <span m="2679940">this</span> <span m="2680180">entire</span> <span m="2680690">period</span> <span m="2681020">of</span> <span m="2681110">time</span> <span m="2681440">here</span> <span m="2682550">corresponds</span> <span m="2683150">to</span> <span m="2683300">packet</span> <span m="2683690">A</span> <span m="2684080">sitting</span> <span m="2684500">in</span> <span m="2684590">the</span> <span m="2684650">queue.</span> </p>
<p><span m="2685940">This</span> <span m="2686180">entire</span> <span m="2686480">period</span> <span m="2686720">of</span> <span m="2686810">time</span> <span m="2687170">corresponds</span> <span m="2687680">to</span> <span m="2687770">B.</span> <span m="2688460">A</span> <span m="2688790">left</span> <span m="2689180">at</span> <span m="2689300">this</span> <span m="2689450">point</span> <span m="2689690">in</span> <span m="2689780">time.</span> <span m="2690210">So</span> <span m="2690290">now</span> <span m="2690470">my</span> <span m="2690590">queue</span> <span m="2690800">was</span> <span m="2690980">three</span> <span m="2691160">packets,</span> <span m="2691920">and</span> <span m="2692060">they're</span> <span m="2692280">B, C,</span> <span m="2692630">D.</span> <span m="2693290">And</span> <span m="2693530">then,</span> <span m="2693780">at</span> <span m="2693860">this</span> <span m="2694010">point</span> <span m="2694220">in</span> <span m="2694310">time,</span> <span m="2694580">E</span> <span m="2694810">showed</span> <span m="2695090">up.</span> <span m="2695450">So</span> <span m="2695720">we</span> <span m="2695930">now</span> <span m="2696170">have</span> <span m="2696350">C</span> <span m="2696590">and</span> <span m="2696770">D</span> <span m="2696980">sitting</span> <span m="2697220">here.</span> <span m="2697400">But</span> <span m="2697520">now</span> <span m="2697730">E</span> <span m="2697910">showed</span> <span m="2698210">up,</span> <span m="2698420">and</span> <span m="2698510">then</span> <span m="2698660">F</span> <span m="2698780">showed</span> <span m="2699050">up,</span> <span m="2699300">and</span> <span m="2699400">so</span> <span m="2699500">forth.</span> </p>
<p><span m="2700200">So</span> <span m="2700280">you</span> <span m="2700370">agree</span> <span m="2700640">that</span> <span m="2700850">I</span> <span m="2700940">can</span> <span m="2701120">divide</span> <span m="2701420">this</span> <span m="2701600">up</span> <span m="2701720">into</span> <span m="2701870">rectangles</span> <span m="2702350">and</span> <span m="2702470">associate</span> <span m="2702950">with</span> <span m="2703100">each</span> <span m="2703340">little</span> <span m="2703520">rectangle,</span> <span m="2704570">whose</span> <span m="2704870">height</span> <span m="2705140">is</span> <span m="2705260">1,</span> <span m="2706460">a</span> <span m="2706670">particular</span> <span m="2707090">packet.</span> <span m="2707820">And</span> <span m="2707960">that</span> <span m="2708110">is</span> <span m="2708230">the</span> <span m="2708320">same</span> <span m="2708530">packet</span> <span m="2708800">in</span> <span m="2708890">the</span> <span m="2708950">queue.</span> <span m="2709150">So</span> <span m="2709580">the</span> <span m="2709670">height</span> <span m="2709940">represents</span> <span m="2710420">a</span> <span m="2710480">particular</span> <span m="2710870">packet,</span> <span m="2711440">and</span> <span m="2711680">I</span> <span m="2711770">associate</span> <span m="2712520">every</span> <span m="2712970">little</span> <span m="2713180">piece</span> <span m="2713510">of</span> <span m="2713600">this</span> <span m="2713690">queue</span> <span m="2714590">picture</span> <span m="2715040">with</span> <span m="2716810">a</span> <span m="2716870">given</span> <span m="2717110">packet.</span> </p>
<p><span m="2719210">Now,</span> <span m="2719570">let's</span> <span m="2719840">assume</span> <span m="2720140">that</span> <span m="2720500">we</span> <span m="2720740">run</span> <span m="2720920">this</span> <span m="2721040">experiment</span> <span m="2721490">for</span> <span m="2721640">a</span> <span m="2721700">long</span> <span m="2721910">time</span> <span m="2722180">T,</span> <span m="2723200">capital</span> <span m="2723590">T.</span> <span m="2724010">And</span> <span m="2724280">P</span> <span m="2724430">packets</span> <span m="2724880">were</span> <span m="2725000">forwarded</span> <span m="2726830">through</span> <span m="2727040">the</span> <span m="2727130">system.</span> <span m="2728040">So</span> <span m="2728180">what</span> <span m="2728330">is</span> <span m="2728450">the</span> <span m="2728540">rate?</span> </p>
<p><span m="2732748">AUDIENCE:</span> <span m="2732988">[INAUDIBLE]</span> </p>
<p><span m="2735640">HARI BALAKRISHNAN:</span> <span m="2735755">P</span> <span m="2735870">packets per</span> <span m="2736270">T</span> <span m="2736570">seconds--</span> <span m="2736880">so</span> <span m="2736960">the</span> <span m="2737050">rate</span> <span m="2737290">is</span> <span m="2737470">clearly</span> <span m="2737800">lambda</span> <span m="2738220">is P</span> <span m="2738505">over</span> <span m="2738790">T.</span> <span m="2739120">Right?</span> <span m="2739450">This</span> <span m="2739600">is</span> <span m="2739750">easy.</span> <span m="2741010">OK.</span> <span m="2741310">Great.</span> <span m="2744360">Now,</span> <span m="2744750">let's</span> <span m="2745170">assume</span> <span m="2745530">that</span> <span m="2745650">the</span> <span m="2745740">area</span> <span m="2746040">under</span> <span m="2746220">the</span> <span m="2746310">curve</span> <span m="2748530">is</span> <span m="2748980">A.</span> <span m="2749430">This</span> <span m="2749880">is</span> <span m="2750000">the</span> <span m="2750120">entire</span> <span m="2750510">area</span> <span m="2750750">under</span> <span m="2750900">the</span> <span m="2750990">curve</span> <span m="2751260">here.</span> </p>
<p><span m="2753030">Now,</span> <span m="2753510">this</span> <span m="2753780">is</span> <span m="2753930">an</span> <span m="2754050">area</span> <span m="2754290">under</span> <span m="2754470">the</span> <span m="2754530">curve</span> <span m="2754950">of</span> <span m="2755280">N of</span> <span m="2755670">T,</span> <span m="2756060">which</span> <span m="2756240">is</span> <span m="2756330">the</span> <span m="2756420">number</span> <span m="2756750">of</span> <span m="2756870">packets,</span> <span m="2758190">as</span> <span m="2758460">a</span> <span m="2758520">function</span> <span m="2758880">of</span> <span m="2758970">T.</span> <span m="2759210">So</span> <span m="2759660">if</span> <span m="2759930">I</span> <span m="2760080">take</span> <span m="2760770">this</span> <span m="2761130">area</span> <span m="2761460">under</span> <span m="2761640">the</span> <span m="2761730">curve,</span> <span m="2763210">which</span> <span m="2763380">is</span> <span m="2763800">the</span> <span m="2764010">same--</span> <span m="2764440">if</span> <span m="2764460">you</span> <span m="2764610">think</span> <span m="2764820">of</span> <span m="2764910">it</span> <span m="2765000">in</span> <span m="2765090">continuous</span> <span m="2765570">domain,</span> <span m="2765840">it's</span> <span m="2765960">the</span> <span m="2766050">integral</span> <span m="2766500">of</span> <span m="2766620">N of T--</span> <span m="2768000">and</span> <span m="2768240">I</span> <span m="2768330">divide</span> <span m="2768690">by</span> <span m="2768870">T,</span> <span m="2769230">I</span> <span m="2769410">get</span> <span m="2769590">that</span> <span m="2769800">number.</span> <span m="2770130">Right?</span> <span m="2770610">You</span> <span m="2770830">agree</span> <span m="2771090">that</span> <span m="2771780">the</span> <span m="2771960">mean</span> <span m="2772230">number</span> <span m="2772500">of</span> <span m="2772590">packets</span> <span m="2772980">in</span> <span m="2773040">the</span> <span m="2773130">queue</span> <span m="2773730">is</span> <span m="2774330">the</span> <span m="2774540">integral</span> <span m="2775050">of</span> <span m="2775590">N of</span> <span m="2775890">T,</span> <span m="2776190">which</span> <span m="2776370">is</span> <span m="2776490">the</span> <span m="2776610">number</span> <span m="2776880">of</span> <span m="2776940">packets</span> <span m="2777330">in</span> <span m="2777420">the</span> <span m="2777480">queue</span> <span m="2777870">at</span> <span m="2778080">any</span> <span m="2778260">point</span> <span m="2778530">in</span> <span m="2778650">time.</span> <span m="2779510">If</span> <span m="2779580">I</span> <span m="2779640">take</span> <span m="2779880">that</span> <span m="2780060">integral,</span> <span m="2780480">and</span> <span m="2780600">I</span> <span m="2780660">divide</span> <span m="2780990">by</span> <span m="2781140">capital</span> <span m="2781470">T,</span> <span m="2781680">I</span> <span m="2781800">get</span> <span m="2781980">the</span> <span m="2782040">mean</span> <span m="2782250">number</span> <span m="2782490">of</span> <span m="2782550">packets</span> <span m="2782880">in</span> <span m="2782940">the</span> <span m="2783030">queue.</span> </p>
<p><span m="2783510">All</span> <span m="2783720">it</span> <span m="2783810">says</span> <span m="2784020">is</span> <span m="2784140">this</span> <span m="2784350">is</span> <span m="2784500">the</span> <span m="2785340">total</span> <span m="2786330">number</span> <span m="2786660">of</span> <span m="2786750">packets</span> <span m="2787260">in</span> <span m="2787350">the</span> <span m="2787440">queue</span> <span m="2787740">over--</span> <span m="2788610">aggregated</span> <span m="2789240">across</span> <span m="2789540">all</span> <span m="2789690">time.</span> <span m="2790050">Therefore,</span> <span m="2790410">to</span> <span m="2790530">find</span> <span m="2790860">the</span> <span m="2791010">average,</span> <span m="2791850">I</span> <span m="2792060">take</span> <span m="2792270">the</span> <span m="2792360">integral,</span> <span m="2793020">and</span> <span m="2793350">I</span> <span m="2793440">divide</span> <span m="2793770">by</span> <span m="2793920">T.</span> <span m="2794580">That's</span> <span m="2794850">the</span> <span m="2794970">definition</span> <span m="2795570">of</span> <span m="2795780">the</span> <span m="2795870">mean.</span> </p>
<p><span m="2797361">All</span> <span m="2797760">right,</span> <span m="2798120">so</span> <span m="2798330">now</span> <span m="2798510">we</span> <span m="2798630">have</span> <span m="2798750">two</span> <span m="2798900">things.</span> <span m="2799300">We</span> <span m="2799400">have</span> <span m="2799680">the</span> <span m="2799860">rate</span> <span m="2800310">is P</span> <span m="2800775">over T.</span> <span m="2801240">And</span> <span m="2801480">we</span> <span m="2801600">have</span> <span m="2802170">that</span> <span m="2802380">the</span> <span m="2802440">mean</span> <span m="2802650">number</span> <span m="2802890">of</span> <span m="2802950">packets</span> <span m="2803260">in the queue</span> <span m="2803670">is</span> <span m="2803840">A</span> <span m="2804070">over</span> <span m="2804300">T, where</span> <span m="2804680">A is</span> <span m="2804930">the</span> <span m="2805020">area</span> <span m="2805320">under</span> <span m="2805410">the</span> <span m="2805500">curve.</span> <span m="2807510">Now,</span> <span m="2807830">to</span> <span m="2807960">complete</span> <span m="2808380">the</span> <span m="2808440">puzzle,</span> <span m="2810100">what</span> <span m="2810240">we</span> <span m="2810330">have</span> <span m="2810450">to</span> <span m="2810540">observe</span> <span m="2810900">is,</span> <span m="2810990">that</span> <span m="2811140">if</span> <span m="2811230">you</span> <span m="2811290">look</span> <span m="2811470">at</span> <span m="2811560">the</span> <span m="2811650">same</span> <span m="2812070">area</span> <span m="2812400">under</span> <span m="2812580">the</span> <span m="2812670">curve,</span> <span m="2813400">you</span> <span m="2813510">can</span> <span m="2813630">look</span> <span m="2813780">at</span> <span m="2813870">it in</span> <span m="2813990">two</span> <span m="2814190">ways.</span> <span m="2814690">The</span> <span m="2814790">one</span> <span m="2814860">way</span> <span m="2814980">to</span> <span m="2815040">look</span> <span m="2815220">at</span> <span m="2815310">it</span> <span m="2815430">is</span> <span m="2815550">the</span> <span m="2815640">mean</span> <span m="2815850">number</span> <span m="2816180">of</span> <span m="2816240">packets</span> <span m="2816630">in the queue</span> <span m="2817090">is some line</span> <span m="2817530">through</span> <span m="2817770">here,</span> <span m="2818620">which</span> <span m="2818760">is</span> <span m="2818880">the</span> <span m="2819270">area</span> <span m="2819570">under</span> <span m="2819750">that</span> <span m="2819960">curve</span> <span m="2820290">divided</span> <span m="2820680">by</span> <span m="2820860">T.</span> </p>
<p><span m="2821760">But</span> <span m="2822870">each</span> <span m="2823200">of</span> <span m="2823320">these</span> <span m="2823500">things</span> <span m="2823800">accounts</span> <span m="2824160">for</span> <span m="2824340">a</span> <span m="2824400">certain</span> <span m="2824760">delay.</span> <span m="2825270">And</span> <span m="2825480">the</span> <span m="2825630">mean</span> <span m="2825960">delay</span> <span m="2827040">experienced</span> <span m="2827610">by</span> <span m="2827820">the</span> <span m="2827910">packet</span> <span m="2828600">is</span> <span m="2828960">simply</span> <span m="2829380">the</span> <span m="2829500">area</span> <span m="2829800">under</span> <span m="2829980">this</span> <span m="2830070">entire</span> <span m="2830490">curve,</span> <span m="2832290">but</span> <span m="2832710">it's</span> <span m="2833040">divided</span> <span m="2833580">into</span> <span m="2833940">all</span> <span m="2834150">of</span> <span m="2834240">the</span> <span m="2834300">packets</span> <span m="2835410">that</span> <span m="2835620">ever</span> <span m="2835860">got</span> <span m="2836040">forwarded</span> <span m="2836490">through</span> <span m="2836640">the</span> <span m="2836730">system.</span> <span m="2837370">So</span> <span m="2837540">through</span> <span m="2837780">this</span> <span m="2837960">experiment,</span> <span m="2838215">P</span> <span m="2838470">packets</span> <span m="2838980">got</span> <span m="2839190">forwarded</span> <span m="2839640">by</span> <span m="2839820">the</span> <span m="2839910">system.</span> <span m="2840600">And</span> <span m="2841080">the</span> <span m="2841230">area</span> <span m="2841500">under</span> <span m="2841650">the</span> <span m="2841710">curve</span> <span m="2842220">also</span> <span m="2842700">represents</span> <span m="2843300">a</span> <span m="2843390">total</span> <span m="2843780">aggregate</span> <span m="2844500">delay.</span> <span m="2844920">Because</span> <span m="2845520">if</span> <span m="2845700">I</span> <span m="2845760">look</span> <span m="2845940">at</span> <span m="2846030">it</span> <span m="2846120">with</span> <span m="2846270">this</span> <span m="2846570">axis</span> <span m="2846960">here,</span> <span m="2847260">that's</span> <span m="2847470">the</span> <span m="2847560">total</span> <span m="2847830">time.</span> <span m="2848740">So</span> <span m="2848850">that's</span> <span m="2849060">the</span> <span m="2849150">total</span> <span m="2849420">time</span> <span m="2850050">spent.</span> </p>
<p><span m="2851550">And</span> <span m="2851790">if</span> <span m="2851910">I</span> <span m="2851970">take</span> <span m="2852150">this</span> <span m="2852300">entire</span> <span m="2852600">area</span> <span m="2852780">under</span> <span m="2852930">the</span> <span m="2853020">curve,</span> <span m="2854160">and</span> <span m="2854400">I</span> <span m="2854490">look</span> <span m="2854760">at</span> <span m="2855150">that</span> <span m="2855510">area</span> <span m="2855750">under</span> <span m="2855900">the</span> <span m="2855960">curve, and</span> <span m="2856330">I</span> <span m="2856390">divide</span> <span m="2856710">by</span> <span m="2856860">the</span> <span m="2856950">number</span> <span m="2857160">of</span> <span m="2857220">packets</span> <span m="2857640">that</span> <span m="2857790">I</span> <span m="2857880">sent,</span> <span m="2858780">that</span> <span m="2859050">gives</span> <span m="2859320">me</span> <span m="2859770">the</span> <span m="2859980">average</span> <span m="2860430">time</span> <span m="2861210">that</span> <span m="2861450">a</span> <span m="2861540">given</span> <span m="2861810">packet</span> <span m="2862890">spent</span> <span m="2863190">in</span> <span m="2863280">the</span> <span m="2863340">queue,</span> <span m="2864660">which</span> <span m="2864900">means</span> <span m="2865110">that</span> <span m="2865260">the</span> <span m="2865350">mean</span> <span m="2865530">delay</span> <span m="2865800">is</span> <span m="2866160">A over</span> <span m="2866400">P.</span> <span m="2867520">So</span> <span m="2867600">if</span> <span m="2867690">I</span> <span m="2867750">take</span> <span m="2868170">A</span> <span m="2868440">over</span> <span m="2868710">P</span> <span m="2869100">and</span> <span m="2869280">multiply</span> <span m="2869535">it</span> <span m="2869790">by</span> <span m="2869930">P</span> <span m="2870150">over</span> <span m="2870420">T,</span> <span m="2873090">what</span> <span m="2873360">I</span> <span m="2873420">get</span> <span m="2873720">is</span> <span m="2874470">A</span> <span m="2874740">over</span> <span m="2875020">T,</span> <span m="2876150">which</span> <span m="2876420">is</span> <span m="2876540">equal</span> <span m="2876780">to</span> <span m="2876900">N.</span> <span m="2878010">And</span> <span m="2878250">that's</span> <span m="2878880">Little's</span> <span m="2879150">Law.</span> </p>
<p><span m="2881100">So</span> <span m="2881280">now</span> <span m="2881370">we're</span> <span m="2881490">going</span> <span m="2881640">to</span> <span m="2881700">apply</span> <span m="2881970">Little's</span> <span m="2882200">Law.</span> <span m="2882640">I</span> <span m="2882740">mean,</span> <span m="2882750">it's</span> <span m="2882840">actually</span> <span m="2883080">a</span> <span m="2883110">very</span> <span m="2883260">intuitive</span> <span m="2883620">idea.</span> <span m="2884500">It</span> <span m="2884670">just</span> <span m="2884850">says,</span> <span m="2885150">that</span> <span m="2885600">if</span> <span m="2885780">I</span> <span m="2885870">take</span> <span m="2886290">the</span> <span m="2886650">rate,</span> <span m="2887100">average</span> <span m="2887490">rate,</span> <span m="2887730">and</span> <span m="2887910">the</span> <span m="2888030">average</span> <span m="2888360">delay,</span> <span m="2888630">and I</span> <span m="2888780">multiply</span> <span m="2889200">the</span> <span m="2889290">two,</span> <span m="2889530">I</span> <span m="2889680">get</span> <span m="2889830">the</span> <span m="2889950">average</span> <span m="2890280">number</span> <span m="2890580">that's</span> <span m="2890760">sitting</span> <span m="2891000">in</span> <span m="2891060">the</span> <span m="2891150">system.</span> <span m="2892300">So</span> <span m="2892440">in</span> <span m="2892560">order</span> <span m="2892740">to</span> <span m="2892860">complete</span> <span m="2893160">the</span> <span m="2893250">picture</span> <span m="2893640">for</span> <span m="2893760">the</span> <span m="2893850">throughput</span> <span m="2894330">of</span> <span m="2894540">this</span> <span m="2895020">sliding</span> <span m="2895470">window</span> <span m="2895740">protocol,</span> <span m="2896550">what</span> <span m="2896820">we're</span> <span m="2896910">going</span> <span m="2897060">to</span> <span m="2897120">do</span> <span m="2897360">is</span> <span m="2897600">to</span> <span m="2897690">apply</span> <span m="2897960">Little's</span> <span m="2898290">Law</span> <span m="2898740">in</span> <span m="2898980">a</span> <span m="2899010">couple</span> <span m="2899220">of</span> <span m="2899280">different</span> <span m="2899580">ways.</span> </p>
<p><span m="2900940">We're</span> <span m="2900990">going</span> <span m="2901140">to</span> <span m="2901200">say,</span> <span m="2901380">that</span> <span m="2901500">if</span> <span m="2901590">the</span> <span m="2901710">window</span> <span m="2901950">size</span> <span m="2902310">is</span> <span m="2902430">w</span> <span m="2902970">in</span> <span m="2903210">that</span> <span m="2903420">protocol,</span> <span m="2905280">and</span> <span m="2906150">the</span> <span m="2906330">round-trip</span> <span m="2906810">time</span> <span m="2908070">is</span> <span m="2908460">RTT--</span> <span m="2910440">that's</span> <span m="2910680">the</span> <span m="2910770">time</span> <span m="2911040">between</span> <span m="2911310">when</span> <span m="2911430">I</span> <span m="2911490">send</span> <span m="2911670">a</span> <span m="2911700">packet</span> <span m="2912060">and</span> <span m="2912180">get</span> <span m="2912330">an</span> <span m="2912420">acknowledgment</span> <span m="2912960">back--</span> <span m="2914700">I</span> <span m="2914910">first</span> <span m="2915240">apply</span> <span m="2915480">Little's</span> <span m="2915700">Law.</span> <span m="2916060">So</span> <span m="2916110">now</span> <span m="2916320">I</span> <span m="2916410">have</span> <span m="2916830">a</span> <span m="2917010">big</span> <span m="2917250">black</span> <span m="2917550">box.</span> <span m="2918210">I</span> <span m="2918570">send</span> <span m="2918960">out</span> <span m="2919140">packets.</span> <span m="2919650">And</span> <span m="2919860">every</span> <span m="2920100">time</span> <span m="2920430">I</span> <span m="2920520">receive</span> <span m="2920850">an</span> <span m="2920940">acknowledgment,</span> <span m="2921900">I</span> <span m="2922110">send</span> <span m="2922410">out</span> <span m="2922560">another</span> <span m="2922890">packet.</span> <span m="2924150">And</span> <span m="2924420">I</span> <span m="2924510">never</span> <span m="2924810">send</span> <span m="2925050">out</span> <span m="2925170">more</span> <span m="2925350">than</span> <span m="2925510">w</span> <span m="2925830">packets.</span> </p>
<p><span m="2927300">So</span> <span m="2927570">the</span> <span m="2927720">average</span> <span m="2928260">delay</span> <span m="2928560">between</span> <span m="2928920">when</span> <span m="2929100">I</span> <span m="2929160">send</span> <span m="2929400">a</span> <span m="2929460">packet</span> <span m="2930180">and</span> <span m="2930450">when</span> <span m="2930630">I</span> <span m="2930690">get</span> <span m="2930870">an</span> <span m="2930990">acknowledgment</span> <span m="2931440">for</span> <span m="2931650">it</span> <span m="2932310">is</span> <span m="2932610">RTT.</span> <span m="2934290">So</span> <span m="2934530">that's</span> <span m="2935010">the</span> <span m="2935190">D</span> <span m="2935520">in</span> <span m="2935850">the</span> <span m="2936040">Little's</span> <span m="2936270">Law</span> <span m="2936480">formula.</span> <span m="2938100">The</span> <span m="2938310">number</span> <span m="2938700">of</span> <span m="2938880">things</span> <span m="2939180">that</span> <span m="2939330">I</span> <span m="2939390">have</span> <span m="2939660">sitting</span> <span m="2939990">in</span> <span m="2940080">this</span> <span m="2940260">black</span> <span m="2940560">box</span> <span m="2940890">inside</span> <span m="2941190">the</span> <span m="2941250">network,</span> <span m="2941550">the</span> <span m="2941610">number</span> <span m="2941850">of</span> <span m="2941910">outstanding</span> <span m="2942450">things</span> <span m="2942720">that</span> <span m="2942840">I</span> <span m="2942960">have</span> <span m="2943290">that</span> <span m="2943410">are</span> <span m="2943500">waiting</span> <span m="2943770">to</span> <span m="2943860">be</span> <span m="2943980">processed,</span> <span m="2945270">is</span> <span m="2945540">w.</span> <span m="2946950">And</span> <span m="2947190">therefore,</span> <span m="2947640">the</span> <span m="2947760">rate</span> <span m="2948510">is,</span> <span m="2949140">by</span> <span m="2949440">Little's</span> <span m="2949730">Law,</span> <span m="2950370">N</span> <span m="2950730">over</span> <span m="2951000">D,</span> <span m="2951450">which</span> <span m="2951720">is</span> <span m="2951840">w</span> <span m="2952200">over</span> <span m="2952585">RTT.</span> </p>
<p><span m="2955560">So</span> <span m="2955800">therefore,</span> <span m="2956130">the</span> <span m="2956220">throughput</span> <span m="2956550">of</span> <span m="2956670">this</span> <span m="2956820">protocol</span> <span m="2959490">is</span> <span m="2959790">simply</span> <span m="2960150">equal</span> <span m="2960840">to</span> <span m="2961010">w</span> <span m="2961380">over</span> <span m="2961680">RTT.</span> <span m="2968210">So</span> <span m="2968750">if</span> <span m="2968900">I</span> <span m="2968990">increase</span> <span m="2969380">w,</span> <span m="2970730">I</span> <span m="2970970">get</span> <span m="2971450">higher</span> <span m="2971840">throughput.</span> <span m="2972540">So</span> <span m="2972650">if</span> <span m="2972740">I</span> <span m="2972830">draw</span> <span m="2973100">this</span> <span m="2973340">as</span> <span m="2973550">a</span> <span m="2973610">function</span> <span m="2974090">of</span> <span m="2974780">the</span> <span m="2975110">window</span> <span m="2975410">size</span> <span m="2975740">w,</span> <span m="2977210">I</span> <span m="2977360">look</span> <span m="2977540">at</span> <span m="2977630">the</span> <span m="2977690">throughput</span> <span m="2978050">here.</span> <span m="2979640">I</span> <span m="2979850">get</span> <span m="2980090">a</span> <span m="2980480">linear</span> <span m="2981140">increase</span> <span m="2981650">like</span> <span m="2981830">that.</span> </p>
<p><span m="2984110">Now,</span> <span m="2984500">the</span> <span m="2984620">problem</span> <span m="2984980">with</span> <span m="2985130">this</span> <span m="2985340">is,</span> <span m="2985460">of</span> <span m="2985550">course,</span> <span m="2985730">you</span> <span m="2985820">look</span> <span m="2985970">at</span> <span m="2986060">this</span> <span m="2986210">and</span> <span m="2986300">go,</span> <span m="2986520">well,</span> <span m="2986660">the</span> <span m="2986750">best</span> <span m="2987020">way</span> <span m="2987140">to</span> <span m="2987230">get</span> <span m="2987380">higher</span> <span m="2987680">and</span> <span m="2987770">higher</span> <span m="2988040">and</span> <span m="2988130">higher</span> <span m="2988370">throughput</span> <span m="2988970">is</span> <span m="2989150">to</span> <span m="2989270">keep</span> <span m="2989480">increasing</span> <span m="2989900">the</span> <span m="2989990">window</span> <span m="2990230">size.</span> <span m="2991050">So</span> <span m="2991220">what</span> <span m="2991370">happens</span> <span m="2991730">if</span> <span m="2991860">I--</span> <span m="2992060">does</span> <span m="2992210">this</span> <span m="2992330">keep</span> <span m="2992540">going</span> <span m="2992750">on</span> <span m="2992900">forever,</span> <span m="2995060">that</span> <span m="2995270">all</span> <span m="2995390">I</span> <span m="2995450">have</span> <span m="2995570">to</span> <span m="2995660">do</span> <span m="2995750">is</span> <span m="2995840">to</span> <span m="2995930">keep</span> <span m="2996140">increasing</span> <span m="2996500">the</span> <span m="2996560">window</span> <span m="2996800">size,</span> <span m="2997230">and</span> <span m="2997330">then</span> <span m="2997460">I'm</span> <span m="2998420">getting</span> <span m="2998720">infinite</span> <span m="2999080">throughput?</span> <span m="3002940">That's</span> <span m="3003210">clearly</span> <span m="3003480">not</span> <span m="3003660">happening.</span> </p>
<p><span m="3004210">So</span> <span m="3004380">what</span> <span m="3004560">happens?</span> <span m="3004980">Why</span> <span m="3005190">is</span> <span m="3005340">it</span> <span m="3005460">that</span> <span m="3006480">it's</span> <span m="3006750">completely</span> <span m="3007140">true</span> <span m="3007410">that</span> <span m="3007560">w</span> <span m="3007890">over</span> <span m="3008145">RTT</span> <span m="3008400">is</span> <span m="3008640">the</span> <span m="3008700">throughput.</span> <span m="3009660">So</span> <span m="3009900">why</span> <span m="3010140">is</span> <span m="3010320">it</span> <span m="3010440">that</span> <span m="3010740">I</span> <span m="3010860">can't</span> <span m="3011100">just</span> <span m="3011310">keep</span> <span m="3011520">increasing</span> <span m="3011880">the</span> <span m="3011970">window</span> <span m="3012210">size</span> <span m="3012630">and</span> <span m="3014010">get</span> <span m="3014250">infinite</span> <span m="3014610">throughput?</span> <span m="3018580">Yeah?</span> </p>
<p><span m="3018780">AUDIENCE:</span> <span m="3019017">[INAUDIBLE]</span> </p>
<p><span m="3020680">HARI BALAKRISHNAN:</span> <span m="3020817">Well,</span> <span m="3021230">it's</span> <span m="3021610">true</span> <span m="3021790">you're</span> <span m="3021910">bounded</span> <span m="3022210">by</span> <span m="3022360">c.</span> <span m="3022690">But</span> <span m="3022930">yet,</span> <span m="3023110">this</span> <span m="3023260">formula</span> <span m="3023560">is</span> <span m="3023710">true.</span> <span m="3024820">Right?</span> <span m="3025210">It's</span> <span m="3025420">true</span> <span m="3025660">that</span> <span m="3025810">there's</span> <span m="3025960">some</span> <span m="3026200">round-trip</span> <span m="3026590">time.</span> <span m="3027370">So</span> <span m="3027580">what's</span> <span m="3027790">really</span> <span m="3027970">going</span> <span m="3028180">on,</span> <span m="3028330">of</span> <span m="3028420">course,</span> <span m="3028760">is</span> <span m="3028780">that</span> <span m="3028960">if</span> <span m="3029080">you</span> <span m="3029200">increase</span> <span m="3029620">the</span> <span m="3029710">window</span> <span m="3029950">size</span> <span m="3030670">more</span> <span m="3031030">than</span> <span m="3031210">a</span> <span m="3031270">certain</span> <span m="3031570">amount,</span> <span m="3032440">all</span> <span m="3032740">that's</span> <span m="3032920">going</span> <span m="3033100">to</span> <span m="3033190">happen</span> <span m="3033580">is</span> <span m="3033790">the</span> <span m="3033880">packets</span> <span m="3034330">are</span> <span m="3034420">going</span> <span m="3034600">to</span> <span m="3034690">get</span> <span m="3034900">stuck</span> <span m="3035260">in</span> <span m="3035380">this</span> <span m="3035490">queue</span> <span m="3035770">here.</span> <span m="3037330">And</span> <span m="3037600">they're</span> <span m="3037720">going</span> <span m="3037840">to</span> <span m="3037900">start</span> <span m="3038140">draining</span> <span m="3038620">at</span> <span m="3038800">some</span> <span m="3039070">rate, c</span> <span m="3039490">packets</span> <span m="3039850">per</span> <span m="3039970">second.</span> <span m="3040270">But</span> <span m="3040420">they're</span> <span m="3040540">just</span> <span m="3040690">going</span> <span m="3040840">to</span> <span m="3040900">get</span> <span m="3041080">stuck</span> <span m="3041440">at</span> <span m="3041530">the</span> <span m="3042280">back</span> <span m="3042520">end</span> <span m="3042640">of</span> <span m="3042760">the</span> <span m="3042820">queue.</span> </p>
<p><span m="3044260">When</span> <span m="3044500">they</span> <span m="3044590">get</span> <span m="3044740">stuck</span> <span m="3045070">at</span> <span m="3045160">the</span> <span m="3045220">back</span> <span m="3045460">end</span> <span m="3045550">of</span> <span m="3045610">the</span> <span m="3045670">queue,</span> <span m="3046090">the</span> <span m="3046240">RTT</span> <span m="3046870">is</span> <span m="3047020">no</span> <span m="3047170">longer</span> <span m="3047560">fixed.</span> <span m="3047845">The</span> <span m="3048130">RTT</span> <span m="3048760">now</span> <span m="3049030">also</span> <span m="3049390">starts</span> <span m="3049720">going.</span> <span m="3050660">So</span> <span m="3051010">in</span> <span m="3051220">other</span> <span m="3051340">words,</span> <span m="3052810">the</span> <span m="3053140">throughput</span> <span m="3053470">is</span> <span m="3053590">always</span> <span m="3053920">this</span> <span m="3054070">formula.</span> <span m="3054670">But</span> <span m="3054910">initially,</span> <span m="3055480">when</span> <span m="3055720">the</span> <span m="3055810">packets</span> <span m="3056230">are</span> <span m="3056290">no</span> <span m="3056440">longer</span> <span m="3056770">in</span> <span m="3056830">the</span> <span m="3056890">queue--</span> <span m="3057160">until</span> <span m="3057490">a</span> <span m="3057550">certain</span> <span m="3057850">point,</span> <span m="3058120">initially,</span> <span m="3058460">you</span> <span m="3058510">said</span> <span m="3058690">one</span> <span m="3058870">packet.</span> <span m="3059440">It</span> <span m="3059650">goes</span> <span m="3059890">through.</span> </p>
<p><span m="3060130">You</span> <span m="3060250">have</span> <span m="3060400">a</span> <span m="3060430">window</span> <span m="3060640">of</span> <span m="3060730">two</span> <span m="3060850">packets.</span> <span m="3061300">They</span> <span m="3061450">go</span> <span m="3061600">through,</span> <span m="3061870">and</span> <span m="3061960">you</span> <span m="3062020">get</span> <span m="3062200">ACKs.</span> <span m="3062440">Three</span> <span m="3062620">packets,</span> <span m="3062980">they</span> <span m="3063070">go</span> <span m="3063190">through</span> <span m="3063340">and</span> <span m="3063460">get</span> <span m="3063640">ACKs.</span> <span m="3064180">At</span> <span m="3064390">some</span> <span m="3064600">point</span> <span m="3064810">in</span> <span m="3064870">time,</span> <span m="3065150">they</span> <span m="3065250">start</span> <span m="3065410">to</span> <span m="3065500">fill</span> <span m="3065710">up</span> <span m="3065830">the</span> <span m="3065890">queue.</span> <span m="3066520">And</span> <span m="3066730">when</span> <span m="3066880">they</span> <span m="3067000">start</span> <span m="3067240">to</span> <span m="3067330">fill</span> <span m="3067510">up</span> <span m="3067600">the</span> <span m="3067660">queue,</span> <span m="3069706">w</span> <span m="3070120">keeps</span> <span m="3070360">growing.</span> <span m="3070780">But</span> <span m="3071000">RTT</span> <span m="3071440">keeps</span> <span m="3071770">growing.</span> <span m="3072190">And</span> <span m="3072760">what</span> <span m="3073000">ends</span> <span m="3073150">up</span> <span m="3073240">happening</span> <span m="3073630">is</span> <span m="3073780">this</span> <span m="3073990">ratio</span> <span m="3074410">doesn't</span> <span m="3074710">exceed</span> <span m="3075070">c.</span> <span m="3075460">So</span> <span m="3075670">you</span> <span m="3075820">end</span> <span m="3075940">up</span> <span m="3076120">with</span> <span m="3076690">throughput</span> <span m="3077110">that</span> <span m="3077260">looks</span> <span m="3077500">like</span> <span m="3077680">that.</span> </p>
<p><span m="3078730">And</span> <span m="3078910">the</span> <span m="3079030">point</span> <span m="3079420">at</span> <span m="3079540">which</span> <span m="3079780">this</span> <span m="3079990">happens</span> <span m="3080410">here,</span> <span m="3081070">this</span> <span m="3081340">point</span> <span m="3081670">here</span> <span m="3081970">is</span> <span m="3082330">actually</span> <span m="3082900">a</span> <span m="3083530">product</span> <span m="3084220">of</span> <span m="3084550">the</span> <span m="3084670">minimum</span> <span m="3085150">RTT</span> <span m="3085690">of</span> <span m="3085840">the</span> <span m="3085930">system,</span> <span m="3087290">which</span> <span m="3087460">is</span> <span m="3087850">the</span> <span m="3088190">round-trip</span> <span m="3088620">time</span> <span m="3089650">in</span> <span m="3089890">the</span> <span m="3090010">absence</span> <span m="3090430">of</span> <span m="3090550">any</span> <span m="3090760">queuing.</span> <span m="3091240">I'm</span> <span m="3091450">going</span> <span m="3091600">to</span> <span m="3091660">call</span> <span m="3091870">that</span> <span m="3092020">RTT</span> <span m="3092380">min.</span> <span m="3093100">And</span> <span m="3093370">that</span> <span m="3093550">depends</span> <span m="3094090">on</span> <span m="3094300">the</span> <span m="3094360">propagation</span> <span m="3094990">delay</span> <span m="3095440">and</span> <span m="3095800">the</span> <span m="3096280">transmission</span> <span m="3096940">delay,</span> <span m="3097270">but</span> <span m="3097480">not</span> <span m="3097720">on</span> <span m="3097810">the</span> <span m="3097900">queuing</span> <span m="3098200">delay.</span> <span m="3098560">If there's</span> <span m="3098740">no</span> <span m="3098890">queues,</span> <span m="3099580">and</span> <span m="3099820">there's</span> <span m="3099970">a</span> <span m="3100030">certain</span> <span m="3100300">minimum</span> <span m="3100660">round-trip</span> <span m="3101020">time--</span> <span m="3101260">like,</span> <span m="3101530">it takes 100</span> <span m="3102010">milliseconds</span> <span m="3102520">to</span> <span m="3102610">go</span> <span m="3102700">to</span> <span m="3102790">California</span> <span m="3103270">and</span> <span m="3103360">back,</span> <span m="3103690">or</span> <span m="3103750">whatever.</span> </p>
<p><span m="3105010">Now,</span> <span m="3105280">when</span> <span m="3105490">queues</span> <span m="3105610">start</span> <span m="3105880">to</span> <span m="3105970">grow,</span> <span m="3106180">that</span> <span m="3106390">RTT</span> <span m="3106840">starts</span> <span m="3107200">increasing.</span> <span m="3108010">But</span> <span m="3108280">until</span> <span m="3108640">that</span> <span m="3108820">point</span> <span m="3109150">happens,</span> <span m="3109810">the</span> <span m="3110030">round-trip</span> <span m="3110410">time</span> <span m="3110680">is</span> <span m="3110770">RTT</span> <span m="3111200">min.</span> <span m="3111920">And</span> <span m="3112000">if</span> <span m="3112060">I</span> <span m="3112150">take</span> <span m="3112390">that,</span> <span m="3112600">and I</span> <span m="3112780">multiply</span> <span m="3113320">that</span> <span m="3113560">by</span> <span m="3113770">c,</span> <span m="3115450">that's</span> <span m="3115870">the</span> <span m="3116020">critical</span> <span m="3116410">window</span> <span m="3116650">size</span> <span m="3117700">up</span> <span m="3117970">to</span> <span m="3118150">which</span> <span m="3118420">point</span> <span m="3118750">there</span> <span m="3118900">are</span> <span m="3118990">no</span> <span m="3119290">queue</span> <span m="3120160">packets</span> <span m="3120610">that</span> <span m="3120760">build</span> <span m="3120940">up</span> <span m="3121030">in</span> <span m="3121090">the</span> <span m="3121180">queue.</span> </p>
<p><span m="3121370">But</span> <span m="3121510">after</span> <span m="3121810">that,</span> <span m="3122080">packets</span> <span m="3122410">start</span> <span m="3122710">to</span> <span m="3122800">build</span> <span m="3123010">up</span> <span m="3123100">in</span> <span m="3123190">the</span> <span m="3123250">queue.</span> <span m="3123830">And</span> <span m="3125270">there's</span> <span m="3125440">a</span> <span m="3125470">name</span> <span m="3125770">given</span> <span m="3126010">to</span> <span m="3126130">this</span> <span m="3126340">product</span> <span m="3126790">of</span> <span m="3127030">the</span> <span m="3127570">bottleneck</span> <span m="3128200">link</span> <span m="3128450">speed,</span> <span m="3129130">or</span> <span m="3129400">bandwidth,</span> <span m="3130060">and</span> <span m="3130460">RTT</span> <span m="3130860">min.</span> <span m="3131260">It's</span> <span m="3131560">called</span> <span m="3131840">the</span> <span m="3131920">bandwidth</span> <span m="3132310">delay</span> <span m="3132580">product.</span> <span m="3134840">It's</span> <span m="3135100">the</span> <span m="3135160">product</span> <span m="3135640">of</span> <span m="3135880">the</span> <span m="3135940">bandwidth</span> <span m="3136540">and</span> <span m="3136960">the</span> <span m="3137050">delay,</span> <span m="3137470">where</span> <span m="3137710">the</span> <span m="3137800">delay</span> <span m="3138070">is</span> <span m="3138190">the</span> <span m="3138280">minimum</span> <span m="3138610">round-trip</span> <span m="3138980">time.</span> </p>
<p><span m="3139640">And</span> <span m="3139750">if</span> <span m="3139870">I</span> <span m="3139960">were</span> <span m="3140080">to</span> <span m="3140200">draw</span> <span m="3140410">an</span> <span m="3140530">analogous</span> <span m="3141070">picture</span> <span m="3141820">of</span> <span m="3142450">the</span> <span m="3142690">actual</span> <span m="3143170">round-trip</span> <span m="3143590">time</span> <span m="3145510">as</span> <span m="3145780">a</span> <span m="3145840">function</span> <span m="3146200">of</span> <span m="3146290">the</span> <span m="3146350">window</span> <span m="3146650">size,</span> <span m="3147430">initially,</span> <span m="3148000">when</span> <span m="3148150">the</span> <span m="3148210">window</span> <span m="3148420">size</span> <span m="3148660">is</span> <span m="3148720">small,</span> <span m="3149110">the round-trip</span> <span m="3149530">time</span> <span m="3149770">is</span> <span m="3149890">RTT</span> <span m="3150310">min,</span> <span m="3152050">with</span> <span m="3152230">some</span> <span m="3152740">value.</span> <span m="3153440">And</span> <span m="3153580">then,</span> <span m="3153970">at</span> <span m="3154210">this</span> <span m="3154390">point</span> <span m="3154660">in</span> <span m="3154750">time--</span> <span m="3155650">I</span> <span m="3155830">want</span> <span m="3155980">to</span> <span m="3156640">mimic</span> <span m="3156820">this</span> <span m="3157030">thing</span> <span m="3157210">here--</span> <span m="3157390">you</span> <span m="3157540">get</span> <span m="3158170">to</span> <span m="3158350">this</span> <span m="3158560">point</span> <span m="3158860">in</span> <span m="3158980">time,</span> <span m="3159380">which</span> <span m="3159460">is</span> <span m="3159580">the</span> <span m="3159640">bandwidth</span> <span m="3159940">delay</span> <span m="3160120">product.</span> <span m="3160450">And</span> <span m="3160570">then</span> <span m="3160750">the</span> <span m="3161020">round-trip</span> <span m="3161530">time</span> <span m="3161770">starts</span> <span m="3162130">to</span> <span m="3162250">grow.</span> </p>
<p><span m="3163160">So</span> <span m="3163330">this</span> <span m="3163540">is</span> <span m="3163630">the</span> <span m="3163750">actual</span> <span m="3164200">delay.</span> <span m="3167440">And</span> <span m="3167650">so</span> <span m="3167800">you</span> <span m="3167890">look</span> <span m="3168040">at</span> <span m="3168130">this</span> <span m="3168280">picture.</span> <span m="3168820">And</span> <span m="3169060">a</span> <span m="3169120">well-designed,</span> <span m="3169970">well-running</span> <span m="3170440">protocol</span> <span m="3170890">will</span> <span m="3171040">run</span> <span m="3171640">with</span> <span m="3171820">a</span> <span m="3171880">window</span> <span m="3172090">size</span> <span m="3172390">roughly</span> <span m="3172750">around</span> <span m="3173020">here,</span> <span m="3173530">where</span> <span m="3173800">it</span> <span m="3173890">gets</span> <span m="3174100">the</span> <span m="3174190">highest</span> <span m="3174550">possible</span> <span m="3175000">throughput</span> <span m="3175480">at</span> <span m="3175630">the</span> <span m="3175720">lowest</span> <span m="3176080">possible</span> <span m="3176500">delay.</span> <span m="3177220">But</span> <span m="3177430">sometimes,</span> <span m="3177850">you</span> <span m="3177940">might</span> <span m="3178120">end</span> <span m="3178270">up</span> <span m="3178390">running</span> <span m="3178810">with</span> <span m="3179050">a</span> <span m="3179110">bigger</span> <span m="3179440">window</span> <span m="3179710">size.</span> <span m="3180580">You're</span> <span m="3180790">not</span> <span m="3180970">going</span> <span m="3181090">to</span> <span m="3181150">get</span> <span m="3181270">any</span> <span m="3181450">faster</span> <span m="3181840">throughput,</span> <span m="3182620">but</span> <span m="3183190">what</span> <span m="3183460">you</span> <span m="3183580">would</span> <span m="3183760">see</span> <span m="3184060">is</span> <span m="3184270">increasingly</span> <span m="3184810">higher</span> <span m="3185110">delay.</span> </p>
<p><span m="3186190">Now,</span> <span m="3186460">in</span> <span m="3186580">real</span> <span m="3186820">networks,</span> <span m="3187630">designing</span> <span m="3188140">protocols</span> <span m="3188560">that</span> <span m="3188710">run</span> <span m="3189010">at</span> <span m="3189130">this</span> <span m="3189340">nice,</span> <span m="3189670">sweet</span> <span m="3189970">spot</span> <span m="3190390">is</span> <span m="3190510">an</span> <span m="3190600">extremely</span> <span m="3191020">challenging</span> <span m="3191470">problem.</span> <span m="3192180">I'll</span> <span m="3192400">get</span> <span m="3192580">back</span> <span m="3192850">to</span> <span m="3192970">this</span> <span m="3193120">problem</span> <span m="3193660">on</span> <span m="3193930">Wednesday</span> <span m="3194350">and</span> <span m="3194470">talk</span> <span m="3194710">about</span> <span m="3194890">how</span> <span m="3195040">people</span> <span m="3195310">work</span> <span m="3195520">on</span> <span m="3195640">it.</span> <span m="3195880">It's</span> <span m="3196090">still</span> <span m="3196390">a</span> <span m="3196480">somewhat open</span> <span m="3196810">problem.</span> <span m="3198350">In</span> <span m="3198450">fact,</span> <span m="3198680">it's</span> <span m="3198780">still</span> <span m="3198880">an open</span> <span m="3198970">problem</span> <span m="3199570">in</span> <span m="3199780">things</span> <span m="3200080">like</span> <span m="3200230">cellular</span> <span m="3200650">wireless</span> <span m="3201070">networks.</span> <span m="3202000">So</span> <span m="3202210">I'll</span> <span m="3202330">come</span> <span m="3202480">back</span> <span m="3202630">to</span> <span m="3202720">this</span> <span m="3202870">point.</span> <span m="3203270">But</span> <span m="3203320">the</span> <span m="3203380">main</span> <span m="3203560">point</span> <span m="3203800">here</span> <span m="3204010">is</span> <span m="3204130">this</span> <span m="3204340">idea</span> <span m="3204610">of</span> <span m="3204730">a</span> <span m="3204790">bandwidth</span> <span m="3205090">delay</span> <span m="3205330">product.</span> </p>
</div>
        <div id="vid_related" itemprop="description" class="tabContent hide">
<h2 class="subhead">Free Downloads</h2>
<h3 class="subsubhead">Video</h3>
<ul>
<li>iTunes U (<a href="https://itunes.apple.com/us/itunes-u/introduction-to-eecs-ii-digital/id835987738">MP4 - 184MB</a>)</li>
<li>Internet Archive (<a href="http://www.archive.org/download/MIT6.02F12/MIT6_02F12_lec22_300k.mp4">MP4 - 184MB</a>)</li>
</ul>
<br>
<h3 class="subsubhead">Caption</h3>
<ul>
<li>English-US (<a href="../../../contents/lecture-videos/lecture-22-sliding-window-analysis-littles-law/xa38Q2_pnlQ.srt">SRT</a>)</li>
</ul>
</div>
    
   </div>  




      					 
        <div class="" id="parent-fieldname-bottom_html_area">
            
            
        </div>
    
               </main><!--Course_inner_media tag close -->
           		</div>
<!--Course_wrapper tag close -->
            </div>
<!--left tag close -->
            <aside id="right">
                <!--Begin Right Portion -->
                    <div>
    



</div>

                	<div>
    



</div>


        <div class="" id="parent-fieldname-rsi_top_html_area">
            
            
        </div>
    

<!-- RSI google ad space-->



<div id="google_ads">    
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script type="text/javascript">var googletag = googletag || {}; googletag.cmd = googletag.cmd || [];</script>
    <script type="text/javascript">
googletag.cmd.push(function() {googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_A_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_A_DL').addService(googletag.pubads());googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_B_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_B_DL').addService(googletag.pubads());googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_C_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_C_DL').addService(googletag.pubads());
googletag.pubads().enableSingleRequest();
 googletag.enableServices();
});</script>
    <script language="javascript" type="text/javascript">
googletag.cmd.push(function() {googletag.pubads().set("TYPE","HOUSE");googletag.pubads().set("DEPARTMENT","6");googletag.pubads().set("CRS_BEG2","02");googletag.pubads().set("CRS_END","");googletag.pubads().set("SESSION","F");googletag.pubads().set("YEAR","12");})
</script>
    
    <div id="VIDEO_INDIVIDUAL_SLOT_A_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_A_DL'); });</script>
    </div>
    <div id="VIDEO_INDIVIDUAL_SLOT_B_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_B_DL'); });</script>
    </div>
    <div id="VIDEO_INDIVIDUAL_SLOT_C_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_C_DL'); });</script>
    </div>
</div>

<!-- End RSI ads--> 


<div>
    



</div>

            </aside><!--Right div close -->
            <div class="clear"></div>
        </div>
<!--grid tag close -->
      </div>
		
		<footer id="bottom">
			<div id="grid">
				
<div id="portletwrapper-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572" class="portletWrapper kssattr-portlethash-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572">
<div class="portletStaticText portlet-static-site-footer"><div id="footer">
<nav aria-label="Footer">     <nav id="foot-c1" class="grid_2 alpha" aria-labelledby="f-find-courses">       <span class="footer" id="f-find-courses" aria-hidden="true">Find Courses</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/courses/find-by-topic/">Find by Topic</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-number/">Find by Course Number</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-department/">Find by Department</a></li>
    <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
    <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
    <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx &amp; Related OCW Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/mit-open-learning-library/">MIT Open Learning Library</a></li>
    <li><a href="https://ocw.mit.edu/courses/translated-courses/">Translated Courses</a></li>
</ul>
</nav>
<div id="foot-c2" class="grid_2"><nav aria-labelledby="f-for-educators">         <span id="f-for-educators" class="footer" aria-hidden="true">For Educators</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://chalk-radio.simplecast.com/">Chalk Radio Podcast</a></li>
    <li><a href="https://ocw.mit.edu/educator/">OCW Educator Portal </a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights by Department</a></li>
    <li><a href="https://openlearning.mit.edu/campus/digital-innovations/" aria-label="External Link: Residential Digital Innovations">Residential Digital Innovations </a></li>
    <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
    <li><a href="https://ocw.mit.edu/educator/additional-resources/">Additional Resources</a></li>
</ul>
</nav></div>
<nav class="grid_2" id="foot-c3" aria-labelledby="f-donate">       <span id="f-donate" class="footer" aria-hidden="true">Give Now</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
    <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
    <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
    <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
    <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
</ul>
</nav>
<div class="grid_2" id="foot-c4">
<nav aria-labelledby="f-about">         <span id="f-about" class="footer" aria-hidden="true">About</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/about/">About OpenCourseWare</a></li>
    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
    <li><a href="https://ocw.mit.edu/about/newsletter/">Newsletter</a></li>
    <li><a href="https://www.ocw-openmatters.org/">Open Matters Blog</a></li>
</ul>
</nav><!--about-->       <nav aria-labelledby="f-tools">         <span id="f-tools" class="footer" aria-hidden="true">Tools</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/help/">Help &amp; FAQs</a></li>
    <li><a href="https://ocw.mit.edu/about/contactus">Contact Us</a></li>
    <li><a href="https://accessibility.mit.edu/" target="_blank">Accessibility</a></li>
    <li><a href="https://ocw.mit.edu/help/site-map/">Site Map</a></li>
    <li><a href="../../../common/terms/index.htm">Privacy &amp; Terms of Use</a></li>
    <li><a href="https://ocw.mit.edu/help/rss/">RSS Feeds</a></li>
</ul>
</nav><!--tools-->
</div>
</nav> <aside style="min-height: 289px;" aria-labelledby="f-our-corporate-supporters" class="grid_4 omega" id="foot-c5">           <span aria-hidden="true" class="footer" id="f-our-corporate-supporters">Our Corporate Supporters</span>           <!-- HOME_CORP_LOGO_1 -->
<div id="div-gpt-ad-1388181177156-0" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-0'); });
            </script></div>
<!-- HOME_CORP_LOGO_2 -->
<div id="div-gpt-ad-1388181177156-1" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-1'); });
            </script></div>
<!-- HOME_CORP_LOGO_3 -->
<div id="div-gpt-ad-1388181177156-2" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-2'); });
            </script></div>
<!-- HOME_CORP_LOGO_4 -->
<div id="div-gpt-ad-1388181177156-3" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-3'); });
            </script></div>
<!-- HOME_CORP_LOGO_5 -->
<div id="div-gpt-ad-1388181177156-4" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-4'); });
              </script></div>
<!-- HOME_CORP_LOGO_6 -->
<div id="div-gpt-ad-1388181177156-5" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-5'); });
              </script></div>
</aside>
<div class="grid_12 alpha omega" itemprop="publisher" itemscope="" itemtype="http://schema.org/CollegeOrUniversity">
<h4 class="footer" style="border-top: thin solid #d5c9ba; padding-top: 10px; margin-bottom: 10px;">About <span itemprop="name">MIT OpenCourseWare</span>
</h4>
<p style="color: #999; font-size: 1em; line-height: 1.5em; margin-top: 10px;" itemprop="description">MIT OpenCourseWare is an online publication of materials from over 2,500 MIT courses, freely sharing knowledge with learners and educators around the world. <a href="https://ocw.mit.edu/about/">Learn more »</a></p>
</div>
<div id="foot-copy" class="grid_12 alpha omega" style="border-top: none;">
<a href="http://web.mit.edu"><img src="../../../common/images/logo_mit.png" alt="Massachusetts Institute of Technology logo and name." style="width: 195; height: 44;"></a><a href="https://openlearning.mit.edu/"><img src="https://ocw.mit.edu/images/mitol_logo.png" alt="MIT Open Learning logo and name." style="width: 265; height: 50; vertical-align: top; padding-left:30px;"></a><a href="https://www.oeglobal.org/"><img src="https://ocw.mit.edu/images/oeg_logo.gif" alt="Open Education Consortium logo." style="width: 219px; height: 59px; vertical-align: top; padding-left:20px;"></a><a rel="license" itemprop="useRightsUrl" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../../../common/images/cc_by-nc-sa.png" alt="Creative Commons logo with terms BY-NC-SA." style="width: 126px; height: 44px; margin-right: 0; padding-left: 20px;"></a>
<p class="copyright">© 2001–2018<br>
Massachusetts Institute of Technology</p>
<p style="font-size: 0.9em; margin-bottom: 15px;">Your use of the MIT OpenCourseWare site and materials is subject to our <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">Creative Commons License</a> and other <a href="../../../common/terms/index.htm" rel="cc:morePermissions">terms of use</a>.</p>
</div>
</div></div>

</div>





                
			</div> <!-- bottom grid end -->
		</footer><!-- footer bottom end -->


   </body>
 </html>
